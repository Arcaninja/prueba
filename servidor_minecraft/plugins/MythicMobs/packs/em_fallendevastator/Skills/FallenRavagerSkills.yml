fravagerstcheck: ##################FALLEN   R  A  V  A  G  E R ________________________________________ ========================================  F A L L E N    H E R O E S
  Conditions:
  - playerwithin{d=7} castinstead fravagerstcheck2
  Skills:
  - stun{d=20;f=false;stopai=true} @Self
  - spin{d=20;v=0} @self
  - lunge{vy=-0.05;v=0;repeat=19;repeatinterval=1} @forward{f=0;y=-2}
  - potion{type=SLOW;duration=23;level=200;p=false;delay=0;force=true} @Self
  - velocity{m=set;x=0;y=0;z=0} @self
fravagerstcheck2: 
  Conditions:
  - playerwithin{d=7} orElseCast fravagerstcheck3 #===== MODIFY: THIS IS THE ACTIVATION RANGE FOR THE FALLEN RAVAGER =================================
  Skills:
  - setstance{stance=casting} @self
  - spin{d=100;v=0} @self
  - stun{d=80;f=false;stopai=false} @Self
  - lunge{vy=-0.45;v=0;repeat=30;repeatinterval=1;delay=80} @forward{f=0;y=-2}
  - potion{type=SLOW;duration=113;level=200;p=false;delay=0;force=true} @Self
  - setvariable{var=caster.casting;value="1";t=integer} @Self
  - setvariable{var=caster.casting;value="0";t=integer;delay=100} @Self
  - effect:particles{particle=reddust;color=#e31546;amount=130;hS=0.4;vS=1.3;size=2} @Self
  - setvariable{var=caster.statueform;value="0";t=integer} @Self
#_______ MODEL SWAP __________
  - changepart{m=fallenravager;pid=hip;nm=fallenravager;npid=hip} @self
  - changepart{m=fallenravager;pid=chest;nm=fallenravager;npid=chest} @self
  - effect:particles{particle=reddust;color=#e31546;amount=35;hS=0.3;vS=0.3;size=2} @ModelPart{m=fallenravager;p=chest;offset=LOCAL;y=0}
# left arm
  - changepart{m=fallenravager;pid=left_arm;nm=fallenravager;npid=left_arm;delay=20} @self
  - changepart{m=fallenravager;pid=left_forearm;nm=fallenravager;npid=left_forearm;delay=20} @self
  - effect:particles{particle=reddust;color=#e31546;amount=6;hS=0.1;vS=0.1;size=0.7;delay=20} @ModelPart{m=fallenravager;p=left_forearm;offset=LOCAL;y=0}
# left leg
  - changepart{m=fallenravager;pid=left_leg;nm=fallenravager;npid=left_leg;delay=27} @self
  - changepart{m=fallenravager;pid=left_shin;nm=fallenravager;npid=left_shin;delay=27} @self
  - effect:particles{particle=reddust;color=#e31546;amount=6;hS=0.1;vS=0.1;size=0.7;delay=25;repeat=12;repeatinterval=1} @ModelPart{m=fallenravager;p=left_forearm;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#e31546;amount=6;hS=0.1;vS=0.1;size=0.7;delay=25;repeat=12;repeatinterval=1} @ModelPart{m=fallenravager;p=left_shin;offset=LOCAL;y=0}
# right leg & arm
  - changepart{m=fallenravager;pid=right_arm;nm=fallenravager;npid=right_arm;delay=57} @self
  - changepart{m=fallenravager;pid=right_forearm;nm=fallenravager;npid=right_forearm;delay=57} @self
  - changepart{m=fallenravager;pid=right_leg;nm=fallenravager;npid=right_leg;delay=57} @self
  - changepart{m=fallenravager;pid=right_shin;nm=fallenravager;npid=right_shin;delay=57} @self
  - effect:particles{particle=reddust;color=#e31546;amount=6;hS=0.1;vS=0.1;size=0.7;delay=55;repeat=12;repeatinterval=1} @ModelPart{m=fallenravager;p=right_forearm;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#e31546;amount=6;hS=0.1;vS=0.1;size=0.7;delay=55;repeat=12;repeatinterval=1} @ModelPart{m=fallenravager;p=right_shin;offset=LOCAL;y=0}
# head & eyes
  - bodyclamp{m=fallenravager;c=50} @self
  - changepart{m=fallenravager;pid=head;nm=fallenravager;npid=head;delay=63} @self
  - effect:particles{particle=reddust;color=#e31546;amount=3;hS=0.1;vS=0.1;size=0.7;delay=63;repeat=7;repeatinterval=1} @ModelPart{m=fallenravager;p=eye1;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#e31546;amount=3;hS=0.1;vS=0.1;size=0.7;delay=63;repeat=7;repeatinterval=1} @ModelPart{m=fallenravager;p=eye2;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#e31546;amount=3;hS=0.1;vS=0.1;size=0.7;delay=97;repeat=2;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles5;offset=LOCAL;y=0}
  - delay 1
  - sound{s=emaginationfallenheroes:custom.fallenhero.spawn;p=1;v=1} @selflocation
  - RunAIGoalSelector{goal=randomstroll} @self
  - RunAIGoalSelector{goal=meleeattack} @self
  - RunAIGoalSelector{goal=randomlookaround} @self
  - RunAIGoalSelector{goal=float} @self
  - setspeed{speed=1.4;type=walking} @Self
  - state{mid=fallenravager;s=activate;li=0;lo=10;n=false} @self
  - sound{s=emaginationfallenravager:custom.fallenravager.spawnb;p=1;v=1;cooldown=2} @selflocation
  - auraremove{aura=staticfravager} @self
  - state{s=idlestatic;li=3;lo=10;n=false;remove=true} @self
  - DefaultState{type=IDLE;state=idle_combat;li=3;lo=2;n=false;frame=0;cooldown=2} @self
  - velocity{m=set;x=0;y=0;z=0} @self
  - delay 100
  - setstance{stance=normal} @self
  - Aura{auraName=checkrunfravager;onTick=fravager_runprotocolcheck;interval=30;duration=99999} @self
  - Aura{auraName=backstepdodgerfravager;onTick=fravager_bstpcheck;interval=7;duration=99999} @self
  - skill{s=fravager_hp_check;cooldown=99999;sync=true} @PlayersInRadius{r=60}
fravager_hp_check:
  Conditions:
  - playersinradius{a=>1;r=60} orElseCast fravager_hp_checkB
  Skills:
  - skill{s=fravager_hp_checkB} @pir{r=80} #MODIFY THE RANGE TO CHECK FOR PLAYERS
# GUIDE TO CUSTOMIZE HEALTH SCALING
fravager_hp_checkB:
  Conditions:
  Skills:
  - setvariable{var=skill.amount_targets;val=<skill.targets>}
  - setmaxhealth{amount=350+100*<skill.var.amount_targets>;mode=SCALE} @self
# AMOUNT = (BASE HEALTH DESIRED) + (ADDITIONAL NET HEALTH PER PLAYER IN RANGE) * <skill.var.amount_targets>
# (That is just the variable for number of players, don't touch it.)


fravagerstcheck3: 
  Conditions:
  - variableEquals{var=caster.statueform;value="1"} true
  Skills:
  - stun{d=80;f=false;stopai=true} @Self
  - lunge{vy=-0.15;v=0;repeat=30;repeatinterval=1;delay=80} @forward{f=0;y=-2}
  - spin{d=100;v=0} @self
  - setstance{stance=casting} @self
  - setvariable{var=caster.statueform;value="0";t=integer} @Self
  - potion{type=SLOW;duration=113;level=200;p=false;delay=0;force=true} @Self
  - setvariable{var=caster.casting;value="1";t=integer} @Self
  - setvariable{var=caster.casting;value="0";t=integer;delay=100} @Self
  - effect:particles{particle=reddust;color=#c90332;amount=130;hS=0.4;vS=1.3;size=2} @Self
  #_______ MODEL SWAP __________
  - changepart{m=fallenravager;pid=hip;nm=fallenravager;npid=hip} @self
  - changepart{m=fallenravager;pid=chest;nm=fallenravager;npid=chest} @self
  - effect:particles{particle=reddust;color=#e31546;amount=35;hS=0.3;vS=0.3;size=2} @ModelPart{m=fallenravager;p=chest;offset=LOCAL;y=0}
# left arm
  - changepart{m=fallenravager;pid=left_arm;nm=fallenravager;npid=left_arm;delay=20} @self
  - changepart{m=fallenravager;pid=left_forearm;nm=fallenravager;npid=left_forearm;delay=20} @self
  - effect:particles{particle=reddust;color=#e31546;amount=6;hS=0.1;vS=0.1;size=0.7;delay=20} @ModelPart{m=fallenravager;p=left_forearm;offset=LOCAL;y=0}
# left leg
  - changepart{m=fallenravager;pid=left_leg;nm=fallenravager;npid=left_leg;delay=27} @self
  - changepart{m=fallenravager;pid=left_shin;nm=fallenravager;npid=left_shin;delay=27} @self
  - effect:particles{particle=reddust;color=#e31546;amount=6;hS=0.1;vS=0.1;size=0.7;delay=25;repeat=12;repeatinterval=1} @ModelPart{m=fallenravager;p=left_forearm;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#e31546;amount=6;hS=0.1;vS=0.1;size=0.7;delay=25;repeat=12;repeatinterval=1} @ModelPart{m=fallenravager;p=left_shin;offset=LOCAL;y=0}
# right leg & arm
  - changepart{m=fallenravager;pid=right_arm;nm=fallenravager;npid=right_arm;delay=57} @self
  - changepart{m=fallenravager;pid=right_forearm;nm=fallenravager;npid=right_forearm;delay=57} @self
  - changepart{m=fallenravager;pid=right_leg;nm=fallenravager;npid=right_leg;delay=57} @self
  - changepart{m=fallenravager;pid=right_shin;nm=fallenravager;npid=right_shin;delay=57} @self
  - effect:particles{particle=reddust;color=#e31546;amount=6;hS=0.1;vS=0.1;size=0.7;delay=55;repeat=12;repeatinterval=1} @ModelPart{m=fallenravager;p=right_forearm;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#e31546;amount=6;hS=0.1;vS=0.1;size=0.7;delay=55;repeat=12;repeatinterval=1} @ModelPart{m=fallenravager;p=right_shin;offset=LOCAL;y=0}
# head & eyes
  - changepart{m=fallenravager;pid=head;nm=fallenravager;npid=head;delay=63} @self
  - effect:particles{particle=reddust;color=#e31546;amount=3;hS=0.1;vS=0.1;size=0.7;delay=63;repeat=7;repeatinterval=1} @ModelPart{m=fallenravager;p=eye1;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#e31546;amount=3;hS=0.1;vS=0.1;size=0.7;delay=63;repeat=7;repeatinterval=1} @ModelPart{m=fallenravager;p=eye2;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#e31546;amount=3;hS=0.1;vS=0.1;size=0.7;delay=97;repeat=2;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles5;offset=LOCAL;y=0}
  - delay 1
  - bodyclamp{m=fallenravager;c=50} @self
  - sound{s=emaginationfallenheroes:custom.fallenhero.spawn;p=1;v=1} @selflocation
  - RunAIGoalSelector{goal=randomstroll} @self
  - RunAIGoalSelector{goal=meleeattack} @self
  - RunAIGoalSelector{goal=randomlookaround} @self
  - RunAIGoalSelector{goal=float} @self
  - setspeed{speed=1.4;type=walking} @Self
  - setspeed{speed=1.4;type=walking} @Self
  - state{mid=fallenravager;s=activate;li=0;lo=10;n=false} @self
  - sound{s=emaginationfallenravager:custom.fallenravager.spawnb;p=1;v=1;cooldown=2} @selflocation
  - auraremove{aura=staticfravager} @self
  - state{s=idlestatic;li=3;lo=10;n=false;remove=true} @self
  - DefaultState{type=IDLE;state=idle_combat;n=false;frame=0;cooldown=2} @self
  - velocity{m=set;x=0;y=0;z=0} @self
  - delay 100
  - setstance{stance=normal} @self
  - Aura{auraName=checkrunfravager;onTick=fravager_runprotocolcheck;interval=30;duration=99999} @self
  - Aura{auraName=backstepdodgerfravager;onTick=fravager_bstpcheck;interval=7;duration=99999} @self
outrun_trigger_fravager:
  Cooldown: 10
  Conditions:
  - variableInRange{var=caster.hitrec;value=>3} true
  TriggerConditions:
  - distance{d=1to6}
  Skills:
  - randomskill{s=outrun_fravagerLeft,outrun_fravagerRight} @Target 0.9
  - message{m="Hitrec <caster.var.hitrec> PARSING"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
outrun_discharge_fravager:
  Cooldown: 8
  TargetConditions:
  - lineofsight true
  Skills:
  - setvariable{var=caster.hitrec;value="0";t=integer} @Self
  - message{m="FallenPirobo Hitrec: <caster.var.hitrec>"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
outrun_aleviate_fravager:
  TargetConditions:
  - lineofsight true
  Skills:
  - variablesubtract{var=caster.hitrec;amount=1} @self
  - message{m="Hitrec <caster.var.projrec> SUBTRACT-1"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
checkprojectileoutrun_fravager:
  Conditions:
  - variableInRange{var=caster.projrec;value=>4} castinstead checkprojectileoutrun_fravager2
  Skills:
  - randomskill{s=outrun_fravagerLeft,outrun_fravagerRight,outrun_fravagerZigZagRight,outrun_fravagerZigZagLeft} @Target 0.45
checkprojectileoutrun_fravager2:
  Skills:
  - randomskill{s=outrun_fravagerLeft,outrun_fravagerRight,outrun_fravagerZigZagRight,outrun_fravagerZigZagLeft,outrun_fravagerZigZagRight,outrun_fravagerZigZagLeft} @Target 0.7

#=========== ARROW DODGING PROTOCOL
signalcheckWarning_fravager:
  Skills:
  - sudoskill{s=[
    - signal{s=ARROWARNING} @LivingInCone{a=35;r=56;rot=0.0;limit=3;sort=NEAREST}
    - projectile{onHit=[  - signal{s=ARROWARNING} @EntitiesNearOrigin{r=5}];mr=14;v=80;i=1;hR=1.6;hp=true;hnp=true;vR=3;sB=false;sE=false;hs=true;d=150;syo=0;hfs=0.1} @Forward{f=25;y=0.0}];sync=true;cat=true} @trigger
fravager_sidesteppcheck:
  Conditions:
  - hasaura{n=backstepB} false
  Skills:
  - message{m="&cFallen &c Arrow Warning &aRECEIVED"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - randomskill{s=[  - skill{s=fravager_sidestep_right;sync=true} @Forward{f=1;sideOffset=3.5;y=-2}],[  - skill{s=fravager_sidestep_left;sync=true} @Forward{f=1;sideOffset=-3.5;y=-2}]} 0.5
fravager_sidestep_right:
  Cooldown: 2
  Conditions:
  - hasaura{n=sidestep} false
  - stance{s=normal} true
  - stance{s=casting} false
  TargetConditions:
  - inblock{b=AIR} castinstead fravager_sidestep_left
  Skills:
    - message{m="&cFallen &c CAST &afravager_sidestep_right"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
    - setstance{stance=casting} @self
    - setvariable{var=caster.casting;value="1";t=integer} @Self
    - Aura{auraName=sidestep;interval=10;duration=60} @self 0.5
    - state{state=sidestep_right;li=0;lo=6;n=false;speed=1;delay=1} @self
    - state{state=hurtbad1;li=0;lo=0;remove=true} @self
    - spin{d=1;v=90} @self
    - delay 1
    - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortc;p=1;v=1.4} 0.7 @SelfLocation
    - spin{d=5;v=-10;delay=2} @self
    - effect:sound{s=emaginationfallenreaper:custom.spell.land;v=2;repeat=0;repeatInterval=6} @self
    - lunge{v=0.85;vy=0.05;repeat=3;repeatInterval=1} @forward{f=-1;sideOffset=60} 1
    - delay 13
    - potion{type=SLOW;duration=12;lvl=5;p=false} @Self
    - effect:sound{s=emaginationfallenreaper:custom.spell.land;v=2} @self
    - look{headOnly=false;immediately=true;repeat=5;repeatInterval=1} @Target
    - setstance{stance=normal} @self ?stance{s=casting}
    - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"}
fravager_sidestep_left:
  Cooldown: 2
  Conditions:
  - hasaura{n=sidestep} false
  - stance{s=normal} true
  - stance{s=casting} false
  TargetConditions:
  - inblock{b=AIR} castinstead fravager_sidestep_right
  Skills:
    - message{m="&cFallen &c CAST &afravager_sidestep_left"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
    - setstance{stance=casting} @self
    - setvariable{var=caster.casting;value="1";t=integer} @Self
    - Aura{auraName=sidestep;interval=10;duration=60} @self 0.5
    - state{state=sidestep_right;li=0;lo=6;n=false;speed=1;delay=1} @self
    - state{state=hurtbad1;li=0;lo=0;remove=true} @self
    - spin{d=1;v=-90} @self
    - delay 1
    - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortc;p=1;v=1.4} 0.7 @SelfLocation
    - spin{d=5;v=10;delay=2} @self
    - effect:sound{s=emaginationfallenreaper:custom.spell.land;v=2;repeat=0;repeatInterval=6} @self
    - lunge{v=0.85;vy=0.05;repeat=3;repeatInterval=1} @forward{f=-1;sideOffset=-60} 1
    - delay 13
    - potion{type=SLOW;duration=12;lvl=5;p=false} @Self
    - effect:sound{s=emaginationfallenreaper:custom.spell.land;v=2} @self
    - look{headOnly=false;immediately=true;repeat=5;repeatInterval=1} @Target
    - setstance{stance=normal} @self ?stance{s=casting}
    - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"}
hurtbfravager:
  Cooldown: 4
  Conditions:
  - variableEquals{var=caster.casting;value="1"} false
  - variableEquals{var=caster.running;value="2"} false
  Skills:
  - setstance{stance=casting} @self ?stance{s=normal}
  - skill{s=fravager_hurtCLEAR;sync=true} 0.3
  - variableadd{var=caster.hitrec;amount=2} @self
  - variableadd{var=caster.combor;amount=1} @self
  - variableadd{var=caster.combor;amount=1} @self 0.5
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?variableEquals{var=caster.casting;value="0"} 
  - summon{mob=ravager_expFXmarker1;amount=1;noise=0.5;r=0.6;yr=0} @SelfLocation{y=1.8}
  - randomskill{s=[
      - state{state=hurtbad1;li=3;lo=8;n=false;speed=1} @self
    ],
      [
      - state{state=hurtbad2;li=3;lo=8;n=false;speed=1} @self
    ],
      [
      - state{state=hurtbad3;li=3;lo=8;n=false;speed=1} @self
    ],
      [
      - state{state=hurtbad4;li=3;lo=8;n=false;speed=1} @self
    ];sync=true}
  - setvariable{var=caster.hurtened;value="1";t=integer} @Self
  - potion{type=SLOW;duration=10;level=7;p=false;force=true} @Self
  - potion{type=SLOW;duration=10;level=7;p=false;force=true;delay=10} @Self
  - potion{type=SLOW;duration=10;level=7;p=false;force=true;delay=20} @Self
  - sound{s=emaginationfallenreaper:custom.fallenreaper.hurt;p=0.84;v=1.5;cooldown=2} @selflocation ############SOUND
  - sound{s=emaginationfallenreaper:custom.fallenreaper.hurt;p=0.94;v=1.5;cooldown=2} @selflocation
  - state{remove=true;s=attack;lo=3;n=false} @self
  - state{remove=true;s=attack1;lo=3;n=false} @self
  - state{remove=true;s=attack2;lo=3;n=false} @self
  - state{remove=true;s=attack3;lo=3;n=false} @self
  - state{remove=true;s=attack3b;lo=3;n=false} @self
  - state{remove=true;s=attack3c;lo=3;n=false} @self
  - state{remove=true;state=attack5;lo=3;n=false;speed=1} @self
  - state{remove=true;state=attack5_fast;lo=3;n=false;speed=1} @self
  - state{remove=true;state=attack4;lo=3;n=false;speed=1} @self
  - state{remove=true;state=attack4b;lo=3;n=false;speed=1} @self
  - state{remove=true;state=attack4b_corrector;lo=3;n=false;speed=1} @self
  - state{remove=true;state=attack6_cast;lo=3;n=false;speed=1} @self
  - state{remove=true;state=attack7_cast;lo=3;n=false;speed=1} @self
  - state{remove=true;state=attack7;lo=3;n=false;speed=1} @self
  - state{remove=true;state=attack8;lo=3;n=false;speed=1} @self
  - state{state=attackb1;li=0;lo=0;remove=true} @self
  - state{state=attackb2;li=0;lo=0;remove=true} @self
  - state{state=attackb3_a;li=0;lo=0;remove=true} @self
  - state{state=attackb3_b;li=0;lo=0;remove=true} @self
  - state{remove=true;state=attack6_channel;lo=3;n=false;speed=1} @self
  - delay 33
  - setvariable{var=caster.hurtened;value="0";t=integer} @Self
  - setstance{stance=normal} @self ?stance{s=casting}
  - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"}
  - skill{s=fravager_ravageprotocolb;sync=true} @Trigger =30%-60% 0.35
  - skill{s=fravager_ravageprotocolb;sync=true} @Trigger <30% 0.55
hurt1fravager:
  Cooldown: 3
  Skills:
  - skill{s=fravager_backhurtCLEAR;sync=true} @Trigger 0.25
  - variableadd{var=caster.hitrec;amount=1} @self
  - variableadd{var=caster.combor;amount=1} @self
  - state{state=hurt1;li=0;lo=0;n=false;speed=1.2} @self
  - sound{s=emaginationfallenreaper:custom.fallenreaper.hurt;p=0.85;v=1.2;cooldown=2} @selflocation 0.65
  - potion{type=SLOW;duration=20;level=0;p=false;force=false} @Self ?!haspotioneffect{type=SLOW;level=>0;duration=0to200} true
  - skill{s=hurtbfravager} @self 0.46 ?!hasaura{n=quickrunned} ?!hasaura{n=largecast}
  - skill{s=hurtbfravager} @self 0.16 ?hasaura{n=quickrunned}
  - skill{s=hurtbfravager} @self 0.25 ?hasaura{n=largecast}
  - delay 15
hurt2fravager:
  Cooldown: 3
  Skills:
  - skill{s=fravager_backhurtCLEAR;sync=true} @Trigger 0.25
  - variableadd{var=caster.hitrec;amount=1} @self
  - variableadd{var=caster.combor;amount=1} @self
  - state{state=hurt2;li=0;lo=0;n=false;speed=1.2} @self
  - sound{s=emaginationfallenreaper:custom.fallenreaper.hurt;p=0.85;v=1.2;cooldown=2} @selflocation 0.65
  - potion{type=SLOW;duration=20;level=0;p=false;force=false} @Self ?!haspotioneffect{type=SLOW;level=>0;duration=0to200} true
  - skill{s=hurtbfravager} @self 0.46 ?!hasaura{n=quickrunned} ?!hasaura{n=largecast}
  - skill{s=hurtbfravager} @self 0.16 ?hasaura{n=quickrunned}
  - skill{s=hurtbfravager} @self 0.25 ?hasaura{n=largecast}
  - delay 15
hurt3fravager:
  Cooldown: 3
  Skills:
  - skill{s=fravager_backhurtCLEAR;sync=true} @Trigger 0.25
  - variableadd{var=caster.hitrec;amount=1} @self
  - variableadd{var=caster.combor;amount=1} @self
  - state{state=hurt3;li=0;lo=0;n=false;speed=1.2} @self
  - sound{s=emaginationfallenreaper:custom.fallenreaper.hurt;p=0.85;v=1.2;cooldown=2} @selflocation 0.65
  - potion{type=SLOW;duration=20;level=0;p=false;force=false} @Self ?!haspotioneffect{type=SLOW;level=>0;duration=0to200} true
  - skill{s=hurtbfravager} @self 0.46 ?!hasaura{n=quickrunned} ?!hasaura{n=largecast}
  - skill{s=hurtbfravager} @self 0.16 ?hasaura{n=quickrunned}
  - skill{s=hurtbfravager} @self 0.25 ?hasaura{n=largecast}
  - delay 15
hurt4fravager:
  Cooldown: 3
  Skills:
  - skill{s=fravager_backhurtCLEAR;sync=true} @Trigger 0.25
  - variableadd{var=caster.hitrec;amount=1} @self
  - variableadd{var=caster.combor;amount=1} @self
  - state{state=hurt4;li=0;lo=0;n=false;speed=1.2} @self
  - sound{s=emaginationfallenreaper:custom.fallenreaper.hurt;p=0.85;v=1.2;cooldown=2} @selflocation 0.65
  - potion{type=SLOW;duration=20;level=0;p=false;force=false} @Self ?!haspotioneffect{type=SLOW;level=>0;duration=0to200} true
  - skill{s=hurtbfravager} @self 0.46 ?!hasaura{n=quickrunned} ?!hasaura{n=largecast}
  - skill{s=hurtbfravager} @self 0.16 ?hasaura{n=quickrunned}
  - skill{s=hurtbfravager} @self 0.25 ?hasaura{n=largecast}
  - delay 15
fravager_backhurtCLEAR:
  Cooldown: 15
  Conditions:
  - hasaura{n=changedThreat} false
  TriggerConditions:
  - FieldOfView{angle=120;r=0} false
  Skills:
  - Aura{auraName=changedThreat;duration=220} @self
  - clearThreat{} @self
  - threat{amount=150} @TargetedTarget
fravager_hurtCLEAR:
  Cooldown: 10
  Conditions:
  - hasaura{n=changedThreat} false
  TriggerConditions:
  - FieldOfView{angle=30;r=0} false
  Skills:
  - Aura{auraName=changedThreat;duration=200} @self
  - clearThreat{} @self
  - threat{amount=100} @TargetedTarget
hurtgenfravager:
  Cooldown: 0
  Conditions:
  - damagecause{c=PROJECTILE} true
  Skills:
  - skill{s=hurtgenfravagerCLEAR;sync=true} @Trigger 0.15
  - onShoot{auraName=fravager_arrowWarning;onShoot=signalcheckWarning_fravager;interval=3;duration=200;charges=5;cooldown=5} @trigger 0.5
  - skill{s=checkprojectileoutrun_fravager;sync=true} @Target
  - variableadd{var=caster.projrec;amount=1} @self
  - variableadd{var=caster.projrec;amount=1} @self 0.5
  - variableadd{var=caster.runstacks;amount=1} @self
  - variableadd{var=caster.runstacks;amount=2} @self ?distance{d=>6}
  - variableadd{var=caster.runstacks;amount=3} @self ?distance{d=>10} 0.8
  - velocity{m=set;x=0;y=0;z=0;repeat=2;Repeatinterval=1} @self
  - variableadd{var=caster.combor;amount=2} @self
  - randomskill{s=attack5fravager,attack5fravager,attack4fravager,attack4fravager,leap3fravager,leap3fravager,leap3fravager;sync=true} @Trigger 0.5
  - stun{d=1;f=false;stopai=false} @Self
hurtgenfravagerCLEAR:
  Conditions:
  - hasaura{n=changedThreat} false
  Skills:
  - Aura{auraName=changedThreat;duration=300} @self
  - clearThreat{} @self
  - threat{amount=100} @Trigger
hurtgenfravager2:
  Cooldown: 0
  Conditions:
  - damagecause{c=PROJECTILE} false
  TriggerConditions:
  - distance{d=>5} true
  Skills:
  - skill{s=hurtgenfravagerCLEAR;sync=true} @Trigger 0.25
  - skill{s=checkprojectileoutrun_fravager;sync=true} @Target
  - variableadd{var=caster.projrec;amount=1} @self
  - variableadd{var=caster.projrec;amount=1} @self 0.5
  - variableadd{var=caster.runstacks;amount=2} @self
  - variableadd{var=caster.runstacks;amount=2} @self ?distance{d=>10}
  - variableadd{var=caster.runstacks;amount=3} @self ?distance{d=>10} 0.8
  - velocity{m=set;x=0;y=0;z=0;repeat=2;Repeatinterval=1} @self
  - variableadd{var=caster.combor;amount=2} @self
  - randomskill{s=attack5fravager,attack5fravager,attack5fravager,attack4fravager,attack4fravager,attack4fravager;sync=true} @Trigger 0.5
  - stun{d=1;f=false;stopai=false} @Self
#======== Runner protocol

fravager_runprotocolcheck:
  Conditions:
  - targetwithin{d=5} false
  - variableEquals{var=caster.running;value="2"} false
  Skills:
  - skill{s=fravager_runprotocol_addstacks;sync=true} 
  - randomskill{s=fravager_runprotocol_start;sync=true} @Target 1
fravager_runprotocol_addstacks:
  Conditions:
  - hasaura{n=checkrunfravager2} false
  Skills:
  - variableadd{var=caster.runstacks;amount=1} @self 0.9
  - variableadd{var=caster.runstacks;amount=1} @self 0.4 ?variableInRange{var=caster.runstacks;value=>4}
  - variableadd{var=caster.runstacks;amount=1} @self 0.7 ?targetnotwithin{d=8}
  - variableadd{var=caster.runstacks;amount=1} @self 0.56 ?targetnotwithin{d=13}
fravager_runprotocol_start:
  Conditions:
  - variableInRange{var=caster.runstacks;value=>13} true
  - hasaura{n=checkrunfravager2} false
  Skills:
  - skill{s=fravager_ravageprotocol;sync=true} @Self <60% 0.3
  - setvariable{var=caster.running;value="1";t=integer} @Self ?!variableEquals{var=caster.running;value="2"}
  - DefaultState{type=WALK;state=run;li=3;lo=2;n=false;frame=0;cooldown=2} @self ?!variableEquals{var=caster.running;value="2"}
  - setspeed{speed=1.9;type=walking} @Self ?!variableEquals{var=caster.running;value="2"}
  - Aura{auraName=checkrunfravager2;onTick=fravager_runproximitycheck;interval=15;duration=99999} @self
  - Aura{auraName=fravager_ravageprotocol_aura;onTick=fravager_ravageprotocol;interval=15;duration=60} @self <50% #RAVAGEPROTOCOL START  
  - Aura{auraName=checkoutrunfravager;onTick=fravager_OUTrunproximitycheck;interval=22;duration=99999;delay=3} @self #OUTRUN PROTOCOL
  - Aura{auraName=checkrunfravager2b;onTick=fravager_runproximitycheckb2;interval=20;duration=99999} @self #ROLL CHECK
  - delay <random.20to40> #xd

# ==== RAVAGER PROTOCOL - Overcharge the axe with soulfire power, and charge to liquidate the enemies.

fravager_ravageprotocol:
  Cooldown: 12
  Conditions:
  - hasaura{n=ravageprotocoled} false
  - variableInRange{var=caster.combor;value=>30} true
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  - stance{s=casting} false
  - stance{s=normal} true
  Skills:
  - Aura{auraName=ravageprotocoled;duration=200} @self
  - message{m="&cFallen &bcasting &afravager_ravageprotocol&f. Checking..."} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - skill{s=fravager_ravageprotocol_execute;sync=true} @Target
fravager_ravageprotocolb:
  Cooldown: 12
  Conditions:
  - hasaura{n=ravageprotocoled} false
  - variableInRange{var=caster.combor;value=>30} true
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  - stance{s=casting} false
  - stance{s=normal} true
  Skills:
  - Aura{auraName=ravageprotocoled;duration=200} @self
  - threat{amount=300} @Trigger
  - message{m="&cFallen &bcasting &afravager_ravageprotocol&f. Checking..."} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - skill{s=fravager_ravageprotocol_execute;sync=true} @trigger
fravager_ravageprotocol_execute:
  Conditions:
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  - stance{s=casting} false
  - stance{s=normal} true
  TargetConditions:
  - distance{d=0to5} castinstead ravagefravager1
  Skills:
  - setvariable{var=caster.running;value="2";t=integer} @Self #RUNNING STATE 2
  - setstance{s=casting} @Self
  - message{m="&cFallen &bcasting &afravager_ravageprotocol&c_execute&f. EXECUTING"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - state{state=run_stop;coldown=4;li=1;lo=4;n=false;speed=1.3} @self ?variableEquals{var=caster.running;value="0"}
  - potion{type=SLOW;duration=4;level=7;p=false;force=false} @Self ?variableEquals{var=caster.running;value="0"}
  - delay 4 ?variableEquals{var=caster.running;value="0"}
  # REMOVE STATES
  - state{state=attack5;lo=2;remove=true} @self
  - state{state=attack6_cast;lo=2;remove=true} @self
  - state{state=attackb1;lo=2;remove=true} @self
  - state{state=attackb2;lo=2;remove=true} @self
  - state{state=attackb3_a;lo=2;remove=true} @self
  - state{state=attackb3_b;lo=2;remove=true} @self
  - state{state=attack7;lo=2;remove=true} @self
  - state{state=ravage_cast;lo=2;remove=true} @self
  - state{state=land2;lo=2;remove=true} @self
  - state{state=leap3;lo=2;remove=true} @self
  - state{state=land3front;lo=2;remove=true} @self
  - state{state=land3uppercut;lo=2;remove=true} @self
  # xd
  - state{state=idle_runaggressive_legs;li=1;lo=4;n=false;speed=1} @self 
  - state{state=idle_runaggressive_body;li=1;lo=4;n=false;speed=1} @self
  - potion{type=SLOW;duration=12;level=7;p=false;force=false} @Self
  - delay 12
  - submodel{mid=fallenravager;partid=fravager_chipcitums_lock;submodelid=fallenravager;subpartid=fravager_chipcitums;remove=false} @self
  - Aura{auraName=stepsounds_runstance2_fravager;onTick=stepsoundsxd_fravager_ravageprotocol;interval=7;duration=99999} @self
  - Aura{auraName=particles_fravager_rvgprotocol;onTick=pfx_fravager_rvgprotocol;interval=1;duration=99999} @self
  - Aura{auraName=runstance2_fravager_trigger;onTick=fravager_ravageprotocol_checktfront;interval=2;duration=99999} @self
  - sound{s=emaginationfallenheroes:custom.spell.soulfirehit;volume=2;pitch=0.6;cooldown=1} @SelfLocation #CHANGESOUND
  - state{state=run_aggressive;li=1;lo=4;n=false;speed=1} @self
  - setspeed{speed=2.3;type=walking} @Self
  - delay 10
  - skill{s=fravager_ravageprotocol_checktfrontFOV;sync=true} @LivingInCone{a=200.0;r=4;rot=0.0;ignore=samefaction;limit=1;sort=NEAREST}
  - delay 10
  - skill{s=fravager_ravageprotocol_checktfrontFOV;sync=true;repeat=3;repeatInterval=10} @LivingInCone{a=200.0;r=4;rot=0.0;ignore=samefaction;limit=1;sort=NEAREST}
  - delay 60
  - skill{s=ravagefravager2;sync=true} @Self 0.6 ?variableEquals{var=caster.running;value="2"}
  - delay 20
  - skill{s=fravager_ravagerun_stop;sync=true} @Self 0.8 ?variableEquals{var=caster.running;value="2"}
  - delay 20
  - skill{s=fravager_ravagerun_stop;sync=true} @Self 1 ?variableEquals{var=caster.running;value="2"}
pfx_fravager_rvgprotocol:
  Skills:
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.01;vS=0.01;size=0.75;forwardOffset=0.4} @ModelPart{m=fallenravager;p=eye1;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.01;vS=0.01;size=0.75;forwardOffset=0.4} @ModelPart{m=fallenravager;p=eye2;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#c90332;amount=3;hS=0.1;vS=0.1;size=0.9} @ModelPart{m=fallenravager;p=axeparticles2;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#c90332;amount=3;hS=0.1;vS=0.1;size=0.9} @ModelPart{m=fallenravager;p=axeparticles5;offset=LOCAL;y=0}
stepsoundsxd_fravager_ravageprotocol:
  Conditions:
  - variableEquals{var=caster.running;value="2"} true
  - moving true
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
#  - stance{s=casting} false
#  - stance{s=normal} true
  Skills:
  - sound{s=emaginationfallenravager:custom.spell.ravagefriction;p=<random.float.1to1.4>;v=1.2;repeat=6;repeatinterval=1} @selflocation
  - effect:sound{s=block.grindstone.use;v=0.7;delay=0;p=0.7;repeat=1;repeatinterval=3} @self 0 #CHANGESOUND
  - delay 2
  - effect:sound{s=emaginationfallenreaper:custom.spell.land;v=0.9;delay=0} @self
fravager_ravageprotocol_checktfront:
  Skills:
  - message{m="&cFallen &bcasting &apfx_fravager_rvgprotocol <random.1to5>"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - skill{s=fravager_ravageprotocol_checktfrontFOV} @LivingInCone{a=45.0;r=12;rot=0.0;ignore=samefaction;limit=2;sort=NEAREST}
  - skill{s=fravager_ravageprotocol_checktfrontFOV} @LivingInCone{a=200.0;r=4;rot=0.0;ignore=samefaction;limit=2;sort=NEAREST}
  - skill{s=fravager_ravageprotocol_checktfrontFOV} @LivingEntitiesInRadius{r=2;ignore=samefaction;limit=2;sort=NEAREST}
fravager_ravageprotocol_checktfrontFOV:
  Conditions:
  - hasaura{n=ravagingxd} false
  TargetConditions:
  - distance{d=0to5} castinstead ravagefravager2
  - fieldofview{angle=180} true
  - distance{d=5to9} true
  Skills:
  - Aura{auraName=ravagingxd;duration=60} @self
  - setstance{s=casting} @Self
  - sound{s=emaginationfallenravager:custom.spell.ravagefriction;p=1;v=1.2;repeat=10;repeatinterval=1} @selflocation
  - bodyclamp{m=fallenravager;c=0} @self
  - auraremove{aura=runstance2_fravager_trigger} @self
  - auraremove{aura=stepsounds_runstance2_fravager} @self
  - clearThreat{} @self
  - threat{amount=100} @TargetedTarget
  - look{headOnly=false;immediately=false;repeat=9;repeatInterval=1} @TargetedTarget
  - lockmodel{l=true;delay=5} @Self #LOCKMODEL
  - message{m="&cFallen &bcasting &afravager_ravageprotocol_checktfrontFOV &5RAVAGING"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - delay 5
  - effect:particles{p=reddust;color=#b0e0e6;a=13;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=9;repeatinterval=1} @Self{y=2} #DEBUGPARTICLES
  - lunge{v=0.4;vy=0.002;repeat=10;repeatInterval=1} @forward{f=10} 1
  - spin{d=11;v=0} @self
  - delay 9
  - skill{s=ravagefravager2;sync=true;repeat=5;repeatinterval=4} @TargetedTarget
fravager_ravagerun_stop:
  Cooldown: 5
  Conditions:
  - variableEquals{var=caster.running;value="2"} true
  - stance{s=casting} true
  Skills:
  - auraremove{aura=runstance2_fravager_trigger} @self #Removes ravager protocol
  - auraremove{aura=stepsounds_runstance2_fravager} @self
  - submodel{mid=fallenravager;partid=fravager_chipcitums;submodelid=fallenravager;subpartid=fravager_chipcitums;remove=true} @self
  - setvariable{var=caster.running;value="0";t=integer} @Self
  - setvariable{var=caster.runstacks;value="0";t=integer} @Self
  - spin{d=26;v=0} @self
  - lockmodel{l=false;delay=15} @Self
  - setspeed{speed=1.4;type=walking} @Self
  - auraremove{aura=particles_fravager_rvgprotocol} @self
  - state{remove=true;s=run_aggressive;lo=1;n=false;frame=0} @self
  - state{state=runaggressive_idle;li=1;lo=4;n=false;speed=1} @self
  - potion{type=SLOW;duration=24;level=7;p=false;force=true} @Self
  - delay 26
  - setstance{s=normal} @Self ?stance{s=casting}

# PROXIMITY CHECKERS - Determine if the hero should stop running upon revelant contact. Runner protocol only.

fravager_runproximitycheck:
  Conditions:
  - targetwithin{d=5} castinstead fravager_runproximitycheckb
  - incombat orElseCast fravager_runproximitycheck_nocombat 
  - variableInRange{var=caster.runstacks;value=<1} castinstead fravager_runproximitycheckc
  Skills:
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.8

fravager_runproximitycheckb:
  Conditions:
  - targetwithin{d=2.6} true
  - variableEquals{var=caster.running;value="2"} false
  Skills:
  - skill{s=[
    - auraremove{aura=checkrunfravager2} @self
    - auraremove{aura=checkrunfravager2b} @self
    - setvariable{var=caster.running;value="0";t=integer} @Self
    - setvariable{var=caster.runstacks;value="0";t=integer} @Self
    - state{state=run_stop;coldown=4;li=1;lo=4;n=false;speed=1} @self
    - potion{type=SLOW;duration=8;level=5;p=false;force=true} @Self
    - DefaultState{type=WALK;state=walk;li=3;lo=2;n=false;frame=0;cooldown=2} @self
    - setspeed{speed=1.4;type=walking} @Self];sync=true} @self 0.25 ############## 0.25
fravager_runproximitycheck_nocombat:
  Cooldown: 3
  Conditions:
  - incombat false
  Skills:
    - auraremove{aura=checkrunfravager2} @self
    - auraremove{aura=checkrunfravager2b} @self
    - setvariable{var=caster.running;value="0";t=integer} @Self
    - setvariable{var=caster.runstacks;value="0";t=integer} @Self
    - state{state=run_stop;coldown=4;li=1;lo=4;n=false;speed=1.2} @self
    - potion{type=SLOW;duration=8;level=5;p=false;force=true} @Self
    - DefaultState{type=WALK;state=walk;li=3;lo=2;n=false;frame=0;cooldown=2} @self
    - setspeed{speed=1.4;type=walking} @Self
fravager_runproximitycheckb2:
  Conditions:
  - targetwithin{d=13} true
  - variableEquals{var=caster.running;value="2"} false
  Skills:
  - skill{s=run_roll_fravager;sync=true} @Target 0.7 ############
fravager_runproximitycheckc:
  Conditions:
  - variableEquals{var=caster.running;value="2"} castinstead fravager_ravagerun_stop
  Skills:
  - auraremove{aura=checkrunfravager2} @self
  - auraremove{aura=checkrunfravager2b} @self
  - effect:particles{particle=reddust;color=#e2eb32;amount=15;hS=0.1;vS=0.1;size=0.8;repeat=2;repeatinterval=1} @Origin{y=2.4} 0 #DEBUG
  - setvariable{var=caster.running;value="0";t=integer} @Self
  - setvariable{var=caster.runstacks;value="0";t=integer} @Self
  - state{state=run_stop;coldown=4;li=1;lo=4;n=false;speed=1.2} @self
  - potion{type=SLOW;duration=8;level=5;p=false;force=true} @Self
  - DefaultState{type=WALK;state=walk;li=3;lo=2;n=false;frame=0;cooldown=2} @self
  - setspeed{speed=1.4;type=walking} @self

# Outrunner protocol

fravager_OUTrunproximitycheck:
  Conditions:
  - targetnotwithin{d=2} true
  - incombat orElseCast fravager_runproximitycheck_nocombat 
  - variableInRange{var=caster.runstacks;value=>4} true
  - variableEquals{var=caster.running;value="1"} true
  - variableInRange{var=caster.runstacks;value=<1} castinstead fravager_runproximitycheckc
  Skills:
  - randomskill{s=outrun_fravagerLeft,outrun_fravagerRight} @Target 0.32
  - effect:particles{particle=reddust;color=#00bfff;amount=5;hS=0.1;vS=0.1;size=1;repeat=1;repeatinterval=1} @Origin{y=3.4} 0 #DEBUG
outrun_fravagerZigZagLeft:
  Cooldown: 3
  Conditions:
  - targetnotwithin{d=12} orElseCast outrun_fravagerLeft
  - variableEquals{var=caster.running;value="1"} true
  - variableEquals{var=caster.casting;value="1"} false
  - stance{stance=normal} true
  - stance{stance=casting} false
  - hasaura{n=quickrunned} false
  TargetConditions:
  - fieldofview{angle=15} true
  Skills:
  - message{m="&cFallen &bCast &eoutrun_fravagerZigZagLeft"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - variablesubtract{var=caster.runstacks;amount=2} @self 
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.8
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.6
  - setvariable{var=caster.projrec;value="0";t=integer} @Self
  - setstance{stance=casting} @self ?stance{s=normal} 0 #CHECK
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?!variableEquals{var=caster.casting;value="1"}
  - Aura{auraName=quickrunned;duration=200} @self
  - Aura{auraName=quickrunning;duration=100} @self
  - state{state=hurtbad1;li=0;lo=0;remove=true} @self
  - state{state=run_roll;li=0;lo=0;remove=true} @self #REMOVERUN
  - state{state=hurtbad2;li=0;lo=0;remove=true} @self
  - state{state=run_fast;li=0;lo=0;n=false;speed=1;delay=0} @self
  # UPDATED ALLPURPOSE REMOTION
  - state{state=cutting_slash;li=0;lo=0;remove=true} @self
  - state{state=attack4_fast;li=0;lo=0;remove=true} @self
  - state{state=attack5_fast;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_1;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_2;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_3;li=0;lo=0;remove=true} @self
  - spin{d=2;v=46} @self
  - delay 2
  - skill{s=stepsoundsxd_fravager2;repeat=4;repeatInterval=6} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - skill{s=lunge_fravager_zigzag;sync=true;repeat=19;repeatInterval=1} ?variableEquals{var=caster.rollumterr;value="0"}
  - spin{d=20;v=-6} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - delay 21
  - skill{s=lunge_fravager_zigzag;sync=true;repeat=30;repeatInterval=1} ?variableEquals{var=caster.rollumterr;value="0"}
  - skill{s=stepsoundsxd_fravager;repeat=4;repeatInterval=6;delay=3} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - spin{d=20;v=4} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - skill{s=run_roll_fravagerzigzag_check;repeat=20;repeatinterval=3} @Target
  - delay 21
  - skill{s=lunge_fravager_zigzag;sync=true;repeat=30;repeatInterval=1} ?variableEquals{var=caster.rollumterr;value="0"}
  - skill{s=stepsoundsxd_fravager;repeat=4;repeatInterval=6;delay=2} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - spin{d=20;v=-4} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - delay 21
  - skill{s=lunge_fravager_zigzag;sync=true;repeat=30;repeatInterval=1} ?variableEquals{var=caster.rollumterr;value="0"}
  - skill{s=stepsoundsxd_fravager;repeat=4;repeatInterval=6;delay=3} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - spin{d=20;v=4} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - delay 21
  - skill{s=lunge_fravager_zigzag;sync=true;repeat=30;repeatInterval=1} ?variableEquals{var=caster.rollumterr;value="0"}
  - skill{s=stepsoundsxd_fravager;repeat=4;repeatInterval=6;delay=3} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - spin{d=20;v=-4} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - delay 20
  - setstance{stance=normal} @self ?variableEquals{var=caster.rollumterr;value="0"} 0 #CHECK
  - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.rollumterr;value="0"}
  - randomskill{s=attack_roll_1fravager;ravagefravager1,attack_roll_2fravager,attack_roll_3fravager;sync=true;repeat=3;repeatinterval=2} @LivingInCone{a=75.0;r=4.5;rot=0.0;ignore=samefaction} 0.85 ?!variableEquals{var=caster.casting;value="1"}
  - state{state=run_fast;li=0;lo=1;remove=true;speed=1;delay=0} @self
  - state{state=run_stop;coldown=4;li=0;lo=0;n=false;speed=1;delay=0} @self ?!variableEquals{var=caster.casting;value="1"}
  - potion{type=SLOW;duration=5;level=3;p=false;force=true} @Self ?!variableEquals{var=caster.casting;value="1"}
outrun_fravagerZigZagRight:
  Cooldown: 3
  Conditions:
  - targetnotwithin{d=12} orElseCast outrun_fravagerRight
  - variableEquals{var=caster.running;value="1"} true
  - variableEquals{var=caster.casting;value="1"} false
  - stance{stance=normal} true
  - stance{stance=casting} false
  - hasaura{n=quickrunned} false
  TargetConditions:
  - fieldofview{angle=15} true
  Skills:
  - message{m="&cFallen &bCast &outrun_fravagerZigZagRight"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - variablesubtract{var=caster.runstacks;amount=2} @self 
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.8
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.6
  - setvariable{var=caster.projrec;value="0";t=integer} @Self
  - setstance{stance=casting} @self ?stance{s=normal} 0 #CHECK
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?!variableEquals{var=caster.casting;value="1"}
  - Aura{auraName=quickrunned;duration=200} @self
  - Aura{auraName=quickrunning;duration=100} @self
  - state{state=hurtbad1;li=0;lo=0;remove=true} @self
  - state{state=run_roll;li=0;lo=0;remove=true} @self #REMOVERUN
  - state{state=hurtbad2;li=0;lo=0;remove=true} @self
  # UPDATED ALLPURPOSE REMOTION
  - state{state=cutting_slash;li=0;lo=0;remove=true} @self
  - state{state=attack4_fast;li=0;lo=0;remove=true} @self
  - state{state=attack5_fast;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_1;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_2;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_3;li=0;lo=0;remove=true} @self
  #
  - state{state=run_fast;li=0;lo=0;n=false;speed=1;delay=0} @self
  - spin{d=2;v=-46} @self
  - delay 2
  - skill{s=stepsoundsxd_fravager2;repeat=4;repeatInterval=6} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - skill{s=lunge_fravager_zigzag;sync=true;repeat=19;repeatInterval=1} ?variableEquals{var=caster.rollumterr;value="0"}
  - spin{d=20;v=6} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - delay 21
  - skill{s=lunge_fravager_zigzag;sync=true;repeat=30;repeatInterval=1} ?variableEquals{var=caster.rollumterr;value="0"}
  - skill{s=stepsoundsxd_fravager;repeat=4;repeatInterval=6;delay=3} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - spin{d=20;v=-4} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - skill{s=run_roll_fravagerzigzag_check;repeat=20;repeatinterval=3} @Target
  - delay 21
  - skill{s=lunge_fravager_zigzag;sync=true;repeat=30;repeatInterval=1} ?variableEquals{var=caster.rollumterr;value="0"}
  - skill{s=stepsoundsxd_fravager;repeat=4;repeatInterval=6;delay=2} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - spin{d=20;v=4} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - delay 21
  - skill{s=lunge_fravager_zigzag;sync=true;repeat=30;repeatInterval=1} ?variableEquals{var=caster.rollumterr;value="0"}
  - skill{s=stepsoundsxd_fravager;repeat=4;repeatInterval=6;delay=3} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - spin{d=20;v=-4} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - delay 21
  - skill{s=lunge_fravager_zigzag;sync=true;repeat=30;repeatInterval=1} ?variableEquals{var=caster.rollumterr;value="0"}
  - skill{s=stepsoundsxd_fravager;repeat=4;repeatInterval=6;delay=3} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - spin{d=20;v=4} @self ?variableEquals{var=caster.rollumterr;value="0"}
  - delay 20
  - setstance{stance=normal} @self ?variableEquals{var=caster.rollumterr;value="0"} 0 #CHECK
  - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.rollumterr;value="0"}
  - randomskill{s=attack_roll_1fravager;ravagefravager1,attack_roll_2fravager,attack_roll_3fravager;sync=true;repeat=3;repeatinterval=2} @LivingInCone{a=75.0;r=4.5;rot=0.0;ignore=samefaction} 0.85 ?!variableEquals{var=caster.casting;value="1"}
  - state{state=run_fast;li=0;lo=1;remove=true;speed=1;delay=0} @self
  - state{state=run_stop;coldown=4;li=0;lo=0;n=false;speed=1;delay=0} @self ?!variableEquals{var=caster.casting;value="1"}
  - potion{type=SLOW;duration=5;level=3;p=false;force=true} @Self ?!variableEquals{var=caster.casting;value="1"}
run_roll_fravagerzigzag_check:
  TargetConditions:
  - fieldofview{angle=35} true
  Skills:
  - skill{s=lunge_fravager_zigzag;sync=true} @Target 0.3
lunge_fravager_zigzag:
  Conditions:
  - variableEquals{var=caster.rollumterr;value="1"} false
  TargetConditions:
  - fieldofview{angle=35} true
  Skills:
  - lunge{v=0.34;vy=-0.03} @forward{f=10}
run_roll_fravagerzigzag:
  Cooldown: 5
  Conditions:
  - stance{stance=normal} true
  - stance{stance=casting} false
  - variableEquals{var=caster.casting;value="1"} true
  - incombat true
  - targetwithin{d=11} true
  - offgcd true
  TargetConditions:
  - fieldofview{angle=35} true
  - distance{d=5to11} true
  Skills:
  - message{m="&cFallen &bCast &arun_roll_fravagerzigzag"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - variablesubtract{var=caster.runstacks;amount=1} @self 
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.6
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.4
  - setvariable{var=caster.projrec;value="0";t=integer} @Self
  - gcd{ticks=60} @Self
  - setvariable{var=caster.casting;value="1";t=integer} @Self
  - setvariable{var=caster.rollumterr;value="1";t=integer} @Self
  - setrotation{relative=false;pitch=0} @Self
  - lockhead{lp=true;ly=true} @self
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.01;vS=0.01;size=0.55;ForwardOffset=-0.1;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=eye1;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.01;vS=0.01;size=0.55;ForwardOffset=-0.1;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=eye2;offset=LOCAL;y=0}
  - sound{s=emaginationfallenheroes:custom.fallenhero.salto;v=1} @origin
  - effect:particlering{particle=cloud;d=20;radius=0.5;points=10;amount=1;hS=0.2;vS=0.2;speed=0} @Self
  - effect:particlering{particle=cloud;d=20;radius=0.6;points=12;amount=1;hS=0.2;vS=0.2;speed=0;delay=1} @Self
  - effect:particlering{particle=cloud;d=20;radius=0.8;points=15;amount=1;hS=0.2;vS=0.2;speed=0;delay=2} @Self
  - effect:particlering{particle=cloud;d=20;radius=1;points=18;amount=1;hS=0.2;vS=0.2;speed=0;delay=3} @Self
  - bodyclamp{m=fallenravager;c=0} @self
  - state{s=run_roll;li=1;lo=4;n=false} @self
  - lockmodel{l=true;delay=1} @Self #LOCKMODEL
  - setstance{stance=casting} @self
  - state{state=run_fast;li=0;lo=1;remove=true;speed=1;delay=0} @self
  # UPDATED ALLPURPOSE REMOTION
  - state{state=cutting_slash;li=0;lo=0;remove=true} @self
  - state{state=attack4_fast;li=0;lo=0;remove=true} @self
  - state{state=attack5_fast;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_1;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_2;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_3;li=0;lo=0;remove=true} @self
  #
  - sound{s=emaginationfallenheroes:custom.spell.jump;p=1;v=1.6} @SelfLocation
  - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortc;p=1;v=1.4} 0.7 @SelfLocation
  - lunge{velocity=0.7;velocityY=0.1} @Self 0
  - look{headOnly=false;immediately=false;repeat=20;repeatinterval=1} @target 0
  - potion{type=LEVITATION;duration=6;lvl=1;p=true} @self 0
  - potion{type=SPEED;duration=18;lvl=1;p=true} @self 1 #DEBUG
  - lunge{v=0.41;repeat=17;repeatInterval=1} @forward{f=10} 1
  - lunge{v=0.05;delay=16} @forward{f=10} 0
  - spin{d=19;v=0} @self
  - delay 18
  - lockmodel{l=false;delay=0} @Self #UNLOCKMODEL
  - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"}
  - setstance{stance=normal} @self
  - randomskill{s=attack_roll_1fravager,attack_roll_2fravager,attack_roll_3fravager;sync=true;repeat=3;repeatinterval=2} @LivingInCone{a=75.0;r=4.5;rot=0.0;ignore=samefaction} 0.9 ?!variableEquals{var=caster.casting;value="1"}
  - potion{type=SLOW;duration=20;level=8;p=false;force=true} @Self ?!variableEquals{var=caster.casting;value="1"}
  - delay 11
  - bodyclamp{m=fallenravager;c=50} @self
  - lockhead{lp=false;ly=false} @self
  - delay 70
  - setvariable{var=caster.rollumterr;value="0";t=integer} @Self ?variableEquals{var=caster.rollumterr;value="1"}
lunge_fravager_zigzag:
  Conditions:
  - variableEquals{var=caster.rollumterr;value="1"} false
  Skills:
  - lunge{v=0.34;vy=-0.03} @forward{f=10}
stepsoundsxd_fravager2:
  Conditions:
  - hasaura{n=quickrunfrontfind} false
  Skills:
  - effect:sound{s=emaginationfallenreaper:custom.spell.land;v=2;delay=0} @self
outrun_fravagerLeft:
  Cooldown: 6
  Conditions:
  - targetnotwithin{d=7} orElseCast outrun_fravagerLeftHard
  - variableEquals{var=caster.running;value="1"} true
  - variableEquals{var=caster.casting;value="1"} false
  - stance{stance=normal} true
  - stance{stance=casting} false
  - hasaura{n=quickrunned} false
  TargetConditions:
  - fieldofview{angle=15} true
  Skills:
  - potion{type=SLOW;duration=0;level=0;p=false;force=true} @Self
  - message{m="&cFallen &bCast &oOutrun_fravagerLeft"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - variablesubtract{var=caster.runstacks;amount=1} @self 
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.5
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.3
  - setvariable{var=caster.projrec;value="0";t=integer} @Self
  - Aura{auraName=quickrunned;duration=120} @self
  - setspeed{speed=1.2;type=walking} @self 0
#STATEREMOVE
  - state{state=hurtbad1;li=0;lo=0;remove=true} @self
  - state{state=run_roll;li=0;lo=0;remove=true} @self #REMOVERUN
  - state{state=hurtbad2;li=0;lo=0;remove=true} @self
  - state{state=attack2;li=0;lo=0;remove=true} @self
  - state{state=attack3b;li=0;lo=0;remove=true} @self
  - state{state=attack3a;li=0;lo=0;remove=true} @self
  - state{state=attack3c;li=0;lo=0;remove=true} @self
  - state{state=attack4;li=0;lo=0;remove=true} @self
  - state{state=attack4b;li=0;lo=0;remove=true} @self
  - state{state=attack5;li=0;lo=0;remove=true} @self
  - state{state=attackb1;li=0;lo=0;remove=true} @self
  - state{state=attackb2;li=0;lo=0;remove=true} @self
  - state{state=attackb3_a;li=0;lo=0;remove=true} @self
  - state{state=attackb3_b;li=0;lo=0;remove=true} @self
  # UPDATED ALLPURPOSE REMOTION
  - state{state=cutting_slash;li=0;lo=0;remove=true} @self
  - state{state=attack4_fast;li=0;lo=0;remove=true} @self
  - state{state=attack5_fast;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_1;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_2;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_3;li=0;lo=0;remove=true} @self
  #
  - state{state=run_fast;li=0;lo=0;n=false;speed=1;delay=0} @self
  - spin{d=2;v=46} @self
  - delay 2
  - spin{d=10;v=-4} @self ?!variableEquals{var=caster.casting;value="1"}
  - spin{d=10;v=-4;delay=10} @self ?!variableEquals{var=caster.casting;value="1"}
  - lunge{vy=-0.1;delay=20} @forward{f=10} ?!variableEquals{var=caster.casting;value="1"}
  - spin{d=10;v=-3;delay=20} @self ?!variableEquals{var=caster.casting;value="1"}
  - spin{d=10;v=-3;delay=30} @self ?!variableEquals{var=caster.casting;value="1"} 
  - skill{s=stepsoundsxd_fravager;repeat=7;repeatInterval=6} @self ?!variableEquals{var=caster.casting;value="1"}
  - skill{s=lunge_fravager_1;sync=true;repeat=39;repeatInterval=1}
  - state{state=run_fast;li=0;lo=0;remove=true;speed=1;delay=39} @self
  - delay 39
  - state{state=run_stop;coldown=4;li=0;lo=0;n=false;speed=1;delay=0} @self ?!variableEquals{var=caster.casting;value="1"}
  - potion{type=SLOW;duration=8;level=3;p=false;force=true} @Self ?!variableEquals{var=caster.casting;value="1"}
  - randomskill{s=attack_roll_1fravager,bruttack1_fravager,bruttack1_fravager,attack_roll_2fravager,attack_roll_3fravager;sync=true;repeat=3;repeatinterval=3} @LivingInCone{a=75.0;r=4.5;rot=0.0;ignore=samefaction} 0.5 ?!variableEquals{var=caster.casting;value="1"}
stepsoundsxd_fravager:
  Conditions:
  - variableEquals{var=caster.casting;value="1"} false
  Skills:
  - effect:sound{s=emaginationfallenreaper:custom.spell.land;v=2;delay=0} @self ?!variableEquals{var=caster.casting;value="1"}
outrun_fravagerRight:
  Cooldown: 6
  Conditions:
  - targetnotwithin{d=7} orElseCast outrun_fravagerRightHard
  - variableEquals{var=caster.running;value="1"} true
  - variableEquals{var=caster.casting;value="1"} false
  - stance{stance=normal} true
  - stance{stance=casting} false
  - hasaura{n=quickrunned} false
  TargetConditions:
  - fieldofview{angle=15} true
  Skills:
  - potion{type=SLOW;duration=0;level=0;p=false;force=true} @Self
  - message{m="&cFallen &bCast &outrun_fravagerRight"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - variablesubtract{var=caster.runstacks;amount=1} @self 
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.5
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.3
  - setvariable{var=caster.projrec;value="0";t=integer} @Self
  - Aura{auraName=quickrunned;duration=120} @self
  - setspeed{speed=1.2;type=walking} @self 0
#STATEREMOVE
  - state{state=hurtbad1;li=0;lo=0;remove=true} @self
  - state{state=hurtbad2;li=0;lo=0;remove=true} @self
  - state{state=attack2;li=0;lo=0;remove=true} @self
  - state{state=attack3b;li=0;lo=0;remove=true} @self
  - state{state=attack3a;li=0;lo=0;remove=true} @self
  - state{state=attack3c;li=0;lo=0;remove=true} @self
  - state{state=attack4;li=0;lo=0;remove=true} @self
  - state{state=attack4b;li=0;lo=0;remove=true} @self
  - state{state=attack5;li=0;lo=0;remove=true} @self
  - state{state=attackb1;li=0;lo=0;remove=true} @self
  - state{state=attackb2;li=0;lo=0;remove=true} @self
  - state{state=attackb3_a;li=0;lo=0;remove=true} @self
  - state{state=attackb3_b;li=0;lo=0;remove=true} @self
  - state{state=run_roll;li=0;lo=0;remove=true} @self #REMOVERUN
  # UPDATED ALLPURPOSE REMOTION
  - state{state=cutting_slash;li=0;lo=0;remove=true} @self
  - state{state=attack4_fast;li=0;lo=0;remove=true} @self
  - state{state=attack5_fast;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_1;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_2;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_3;li=0;lo=0;remove=true} @self
  #
  - state{state=run_fast;li=0;lo=0;n=false;speed=1;delay=0} @self
  - spin{d=2;v=-46} @self
  - delay 2
  - spin{d=10;v=4} @self ?!variableEquals{var=caster.casting;value="1"}
  - spin{d=10;v=3;delay=10} @self ?!variableEquals{var=caster.casting;value="1"}
  - lunge{vy=-0.1;delay=20} @forward{f=10} ?!variableEquals{var=caster.casting;value="1"}
  - spin{d=10;v=3;delay=20} @self ?!variableEquals{var=caster.casting;value="1"}
  - spin{d=10;v=3;delay=30} @self ?!variableEquals{var=caster.casting;value="1"}
  - skill{s=stepsoundsxd_fravager;repeat=7;repeatInterval=6} @self ?!variableEquals{var=caster.casting;value="1"}
  - skill{s=lunge_fravager_1;sync=true;repeat=39;repeatInterval=1}
  - state{state=run_fast;li=0;lo=0;remove=true;speed=1;delay=39} @self 
  - delay 39
  - state{state=run_stop;coldown=4;li=0;lo=0;n=false;speed=1;delay=0} @self ?!variableEquals{var=caster.casting;value="1"}
  - potion{type=SLOW;duration=8;level=3;p=false;force=true} @Self ?!variableEquals{var=caster.casting;value="1"}
  - randomskill{s=attack_roll_1fravager,bruttack1_fravager,bruttack1_fravager,attack_roll_2fravager,attack_roll_3fravager;sync=true;repeat=3;repeatinterval=3} @LivingInCone{a=75.0;r=4.5;rot=0.0;ignore=samefaction} 0.5 ?!variableEquals{var=caster.casting;value="1"}
lunge_fravager_1:
  Conditions:
  - variableEquals{var=caster.casting;value="1"} castinstead kill_fravager_lungehard
  Skills:
  - lunge{v=0.34;vy=-0.05} @forward{f=10}
outrun_fravagerLeftHard:
  Cooldown: 6
  Conditions:
  - targetwithin{d=6} true
  - variableEquals{var=caster.running;value="1"} true
  - stance{stance=normal} true
  - stance{stance=casting} false
  - variableEquals{var=caster.casting;value="1"} false
  TargetConditions:
  - fieldofview{angle=25} true
  Skills:
  - potion{type=SLOW;duration=0;level=0;p=false;force=true} @Self
  - message{m="&cFallen &bCast &outrun_fravagerLeftHard"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - setvariable{var=caster.casting;value="1";t=integer} @Self 0
  - setstance{stance=casting} @self
  - Aura{auraName=outrunning;duration=40;mergeSameCaster=true;refreshDuration=true} @self
  - variablesubtract{var=caster.runstacks;amount=2} @self 
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.7
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.5
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.3
  - setvariable{var=caster.projrec;value="0";t=integer} @Self
  - state{state=hurtbad1;li=0;lo=0;remove=true} @self
  - state{state=hurtbad2;li=0;lo=0;remove=true} @self
  - state{state=run_roll;li=0;lo=0;remove=true} @self
  - state{state=attack1;li=0;lo=0;remove=true} @self
  - state{state=attack2;li=0;lo=0;remove=true} @self
  - state{state=attack3b;li=0;lo=0;remove=true} @self
  - state{state=attack3a;li=0;lo=0;remove=true} @self
  - state{state=attack3c;li=0;lo=0;remove=true} @self
  - state{state=attack4;li=0;lo=0;remove=true} @self
  - state{state=attack5;li=0;lo=0;remove=true} @self
  - state{state=attack6_cast;li=0;lo=0;remove=true} @self
  - state{state=attack7;li=0;lo=0;remove=true} @self
  - state{state=attackb1;li=0;lo=0;remove=true} @self
  - state{state=attackb2;li=0;lo=0;remove=true} @self
  - state{state=attackb3_a;li=0;lo=0;remove=true} @self
  - state{state=attackb3_b;li=0;lo=0;remove=true} @self
  - state{state=run_fast;li=0;lo=0;n=false;speed=1.2;delay=0} @self
  # UPDATED ALLPURPOSE REMOTION
  - state{state=cutting_slash;li=0;lo=0;remove=true} @self
  - state{state=attack4_fast;li=0;lo=0;remove=true} @self
  - state{state=attack5_fast;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_1;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_2;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_3;li=0;lo=0;remove=true} @self
  #
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?variableEquals{var=caster.casting;value="0"} 0
  - spin{d=2;v=56} @self
  - delay 2
  - spin{d=10;v=-12} @self
  - spin{d=30;v=-8} @self
  - skill{s=stepsoundsxd_fravager;repeat=7;repeatInterval=5} @self ?!variableEquals{var=caster.casting;value="1"}
  - skill{s=lunge_fravager_rightHard;sync=true;repeat=39;repeatInterval=1}
  - state{state=run_fast;li=0;lo=0;remove=true;speed=1;delay=39} @self
  - delay 39
  - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"}
#________ END SKILL
  - state{state=run_stop;coldown=4;li=0;lo=0;n=false;speed=1;delay=0} @self ?!variableEquals{var=caster.casting;value="1"}
  - potion{type=SLOW;duration=8;level=3;p=false;force=true} @Self ?!variableEquals{var=caster.casting;value="1"}
  - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"}
  - setstance{stance=normal} @self ?stance{stance=casting}
  - variableadd{var=caster.hitrec;amount=3}
  - randomskill{s=attack_roll_1fravager,attack_roll_1fravager,ravagefravager1,bruttack1_fravager,bruttack1_fravager,bruttack1_fravager,attack_roll_2fravager,attack_roll_3fravager;sync=true;repeat=3;repeatinterval=3} @LivingInCone{a=75.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.casting;value="1"}
outrun_fravagerRightHard:
  Cooldown: 6
  Conditions:
  - targetwithin{d=6} true
  - variableEquals{var=caster.running;value="1"} true
  - stance{stance=normal} true
  - stance{stance=casting} false
  - variableEquals{var=caster.casting;value="1"} false
  TargetConditions:
  - fieldofview{angle=25} true
  Skills:
  - potion{type=SLOW;duration=0;level=0;p=false;force=true} @Self
  - message{m="&cFallen &bCast &outrun_fravagerRightHard"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - setvariable{var=caster.casting;value="1";t=integer} @Self 0 #remove
  - setstance{stance=casting} @self
  - Aura{auraName=outrunning;duration=40;mergeSameCaster=true;refreshDuration=true} @self
  - variablesubtract{var=caster.runstacks;amount=2} @self 
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.7
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.5
  - variablesubtract{var=caster.runstacks;amount=1} @self 0.3
  - setvariable{var=caster.projrec;value="0";t=integer} @Self
  - state{state=hurtbad1;li=0;lo=0;remove=true} @self
  - state{state=hurtbad2;li=0;lo=0;remove=true} @self
  - state{state=run_roll;li=0;lo=0;remove=true} @self
  - state{state=attack1;li=0;lo=0;remove=true} @self
  - state{state=attack2;li=0;lo=0;remove=true} @self
  - state{state=attack3b;li=0;lo=0;remove=true} @self
  - state{state=attack3a;li=0;lo=0;remove=true} @self
  - state{state=attack3c;li=0;lo=0;remove=true} @self
  - state{state=attack4;li=0;lo=0;remove=true} @self
  - state{state=attack5;li=0;lo=0;remove=true} @self
  - state{state=attack6_cast;li=0;lo=0;remove=true} @self
  - state{state=attack7;li=0;lo=0;remove=true} @self
  - state{state=attackb1;li=0;lo=0;remove=true} @self
  - state{state=attackb2;li=0;lo=0;remove=true} @self
  - state{state=attackb3_a;li=0;lo=0;remove=true} @self
  - state{state=attackb3_b;li=0;lo=0;remove=true} @self
  # UPDATED ALLPURPOSE REMOTION
  - state{state=cutting_slash;li=0;lo=0;remove=true} @self
  - state{state=attack4_fast;li=0;lo=0;remove=true} @self
  - state{state=attack5_fast;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_1;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_2;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_3;li=0;lo=0;remove=true} @self
  #
  - state{state=run_fast;li=0;lo=0;n=false;speed=1.2;delay=0} @self
  - spin{d=2;v=-56} @self
  - delay 2
  - state{state=run_roll;li=0;lo=0;remove=true} @self
  - spin{d=10;v=12} @self
  - spin{d=30;v=8} @self
  - skill{s=stepsoundsxd_fravager;repeat=7;repeatInterval=5} @self ?!variableEquals{var=caster.casting;value="1"}
  - skill{s=lunge_fravager_rightHard;sync=true;repeat=39;repeatInterval=1}
  - state{state=run_fast;li=0;lo=0;remove=true;speed=1;delay=39} @self
  - delay 39
#________ END SKILL

  - state{state=run_stop;coldown=4;li=0;lo=0;n=false;speed=1;delay=0} @self ?!variableEquals{var=caster.casting;value="1"}
  - potion{type=SLOW;duration=8;level=3;p=false;force=true} @Self ?!variableEquals{var=caster.casting;value="1"}
  - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"}
  - setstance{stance=normal} @self ?stance{stance=casting}
  - variableadd{var=caster.hitrec;amount=3}
  - randomskill{s=attack_roll_1fravager,attack_roll_1fravager,ravagefravager1,bruttack1_fravager,bruttack1_fravager,bruttack1_fravager,attack_roll_2fravager,attack_roll_3fravager;sync=true;repeat=3;repeatinterval=3} @LivingInCone{a=75.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.casting;value="1"}
lunge_fravager_rightHard:
  Conditions:
  - variableEquals{var=caster.casting;value="1"} castinstead kill_fravager_lungehard2
  Skills:
  - lunge{v=0.4;vy=-0.05} @forward{f=10}
kill_fravager_lungehard:
  Cooldown: 4
  Skills:
  - state{state=run_fast;li=0;lo=0;remove=true;speed=1} @self
  - state{state=run_stop;coldown=4;li=1;lo=3;n=false;speed=1;delay=0} @self
  - delay 1
  - potion{type=SLOW;duration=8;level=3;p=false;force=true} @Self ?!variableEquals{var=caster.casting;value="1"}
kill_fravager_lungehard2:
  Cooldown: 4
  Skills:
  - state{state=run_fast;li=0;lo=0;remove=true;speed=1} @self
  - state{state=run_stop;coldown=4;li=1;lo=3;n=false;speed=1;delay=0} @self
  - delay 1
  - potion{type=SLOW;duration=8;level=3;p=false;force=true} @Self ?!variableEquals{var=caster.casting;value="1"}


#=== Roller protocol

run_roll_fravager:
  Cooldown: 5
  Conditions:
  - stance{stance=normal} true
  - stance{stance=casting} false
  - variableEquals{var=caster.casting;value="1"} false
  - variableEquals{var=caster.hurtened;value="1"} false
  - incombat true
  - targetwithin{d=13} true
  - offgcd true
  TargetConditions:
  - distance{d=6to13} true
  Skills:
  - message{m="&cFallen &bCast &Erun_roll_fravager"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - gcd{ticks=60} @Self
  - potion{type=SLOW;duration=0;level=0;p=false;force=true} @Self ?!variableEquals{var=caster.casting;value="1"}
  - setvariable{var=caster.casting;value="1";t=integer} @Self
  - setstance{stance=casting} @self
  - setrotation{relative=false;pitch=0} @Self
  - lockhead{lp=true;ly=true} @self
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.01;vS=0.01;size=0.55;ForwardOffset=-0.1;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=eye1;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.01;vS=0.01;size=0.55;ForwardOffset=-0.1;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=eye2;offset=LOCAL;y=0}
  - sound{s=emaginationfallenheroes:custom.fallenhero.salto;v=1} @origin
  - effect:particlering{particle=cloud;d=20;radius=1;points=14;amount=1;hS=0.2;vS=0.2;speed=0;delay=3} @Self
  - effect:particlering{particle=cloud;d=20;radius=1.4;points=20;amount=1;hS=0.2;vS=0.2;speed=0;delay=4} @Self
  - bodyclamp{m=fallenravager;c=0} @self
  - state{s=run_roll;li=1;lo=4;n=false} @self
  - lockmodel{l=true;delay=1} @Self #LOCKMODEL
  # STATE REMOVE
  - state{state=attack5;lo=2;remove=true} @self
  - state{state=attack6_cast;lo=2;remove=true} @self
  - state{state=attackb1;lo=2;remove=true} @self
  - state{state=attackb2;lo=2;remove=true} @self
  - state{state=attackb3_a;lo=2;remove=true} @self
  - state{state=attackb3_b;lo=2;remove=true} @self
  - state{state=attack7;lo=2;remove=true} @self
  - state{state=ravage_cast;lo=2;remove=true} @self
  - state{state=land2;lo=2;remove=true} @self
  - state{state=leap3;lo=2;remove=true} @self
  - state{state=land3front;lo=2;remove=true} @self
  - state{state=land3uppercut;lo=2;remove=true} @self
  #
  # UPDATED ALLPURPOSE REMOTION
  - state{state=cutting_slash;li=0;lo=0;remove=true} @self
  - state{state=attack4_fast;li=0;lo=0;remove=true} @self
  - state{state=attack5_fast;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_1;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_2;li=0;lo=0;remove=true} @self
  - state{state=roll_attack_3;li=0;lo=0;remove=true} @self
  #
  - sound{s=emaginationfallenheroes:custom.spell.jump;p=1;v=1.6} @SelfLocation
  - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortc;p=1;v=1.4} 0.7 @SelfLocation
  - lunge{velocity=0.7;velocityY=0.1} @Self 0
  - look{headOnly=false;immediately=false;repeat=20;repeatinterval=1} @target 0
  - potion{type=LEVITATION;duration=6;lvl=1;p=true} @self 0
  - potion{type=SPEED;duration=18;lvl=1;p=true} @self 1 #DEBUG
  - lunge{v=0.41;repeat=15;repeatInterval=1} @forward{f=10} 0
  - lunge{v=0.05;delay=16} @forward{f=10} 0
  - spin{d=19;v=0} @self
  - delay 18
  - lockmodel{l=false;delay=0} @Self #UNLOCKMODEL
  - state{state=run_roll;li=0;lo=0;remove=true} @self 
  - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"}
  - setstance{stance=normal} @self
  - randomskill{s=attack_roll_1fravager,attack_roll_1fravager,bruttack1_fravager,bruttack1_fravager,attack_roll_2fravager,attack_roll_3fravager;sync=true;repeat=3;repeatinterval=3} @LivingInCone{a=75.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.casting;value="1"}
  - effect:particles{particle=reddust;amount=30;hS=0.3;vS=0.3;size=0.8;repeat=1;repeatinterval=1} @Origin{y=2.4} 0 #DEBUG
  - message{m="&eARRIVAL"} @PlayersNearOrigin{r=35} 0 #DEBUGMESSAGE
  - potion{type=SLOW;duration=20;level=8;p=false;force=true} @Self ?!variableEquals{var=caster.casting;value="1"}
  - delay 11
  - bodyclamp{m=fallenravager;c=50} @self
  - lockhead{lp=false;ly=false} @self
  - delay 1
attack_roll_1fravager:
  Cooldown: 5
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - variableEquals{var=caster.hurtened;value="1"} false
  TargetConditions:
  - distance{d=0to3.6} true
  Skills:
  - setstance{stance=casting} @self
  - sound{s=emaginationfallenheroes:custom.spell.channelstun;p=1.2;v=1} ######SOUND
  - state{remove=true;s=run_roll;lo=1;n=false;frame=0} @self
  - state{remove=true;s=attackb1;lo=1;n=false;frame=0} @self
  - state{remove=true;s=attackb2;lo=1;n=false;frame=0} @self
  - variableadd{var=caster.combor;amount=1} @self
  - state{state=roll_attack_1;li=1;lo=10;n=false;speed=1} @self
  - state{state=roll_attack_cloak;li=1;lo=6;n=false;speed=1} @self
  - setvariable{var=caster.comboa;value="1";t=integer} @Self ?variableEquals{var=caster.comboa;value="0"}
  - potion{type=SLOW;duration=32;level=5;p=false;force=true} @Self
  - look{headOnly=false;immediately=false;repeat=5;repeatInterval=1} @Target
  - delay 8
  - setvariable{var=caster.casting;value="1";t=integer} @Self 
  - sound{s=emaginationfallenheroes:custom.spell.herostun;p=1.2;v=1} ?!variableEquals{var=caster.hurtened;value="1"}
  - spin{d=14;v=0} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravageratk1ROLLFX;delay=3} @self ?!variableEquals{var=caster.hurtened;value="1"} ### EFFECTENN 
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 1
  - skill{s=fravagertatk1_roll_cripple;sync=true} @LivingInCone{a=140.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - Aura{auraName=tickfravagercomboa;onTick=reducestacksfravager;interval=30;duration=110;mergeSameCaster=true;refreshDuration=true} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=outrun_discharge_fravager;sync=true} @LivingInCone{a=140.0;r=4.8;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=2;ignorearmor=false} @LivingInCone{a=140.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1} @LivingInCone{a=140.0;r=3.2;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 13
  - setvariable{var=caster.casting;value="0";t=integer} @Self
  - setstance{stance=normal} @self
  - skill{s=attack2fravager;sync=true} @Target ?!variableEquals{var=caster.hurtened;value="1"}
fravagertatk1_roll_cripple:
  Skills:
  - actionmessage{m="&E&LKNOCKED AIRBORNE!";delay=0}
  - potion{type=LEVITATION;duration=6;level=4;p=false;delay=0}
  - throw{velocity=1;velocityY=2} ?distance{d=0to3}
  - potion{type=LEVITATION;duration=4;level=2;p=false;delay=6}
  - potion{type=LEVITATION;duration=3;level=1;p=false;delay=10}
  - potion{type=SLOW_FALLING;duration=5;level=0;p=false;delay=16}
  - potion{type=SLOW;duration=25;lvl=7;p=false}
  - potion{type=SLOW;duration=20;level=1;p=false;force=true;delay=25}
attack_roll_2fravager:
  Cooldown: 5
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - variableEquals{var=caster.hurtened;value="1"} false
  TargetConditions:
  - distance{d=0to3.6} true
  Skills:
  - setstance{stance=casting} @self
  - sound{s=emaginationfallenheroes:custom.spell.channelstun;p=1.2;v=1} ######SOUND
  - state{remove=true;s=run_roll;lo=1;n=false;frame=0} @self
  - state{remove=true;s=attackb1;lo=1;n=false;frame=0} @self
  - state{remove=true;s=attackb2;lo=1;n=false;frame=0} @self
  - variableadd{var=caster.combor;amount=1} @self
  - state{state=roll_attack_2;li=1;lo=10;n=false;speed=1} @self
  - setvariable{var=caster.comboa;value="1";t=integer} @Self ?variableEquals{var=caster.comboa;value="0"}
  - potion{type=SLOW;duration=48;level=5;p=false;force=true} @Self
  - look{headOnly=false;immediately=false;repeat=5;repeatInterval=1} @Target
  - delay 8
  - effect:particles{p=reddust;c=#464646;a=4;speed=0.00;hs=0.1;vs=0.00;forwardOffset=0;Size=0.80;repeat=30;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=GLOBAL;y=0;x=0;z=0}
  - effect:particles{p=reddust;c=#B10049;a=4;speed=0.00;hs=0.1;vs=0.00;forwardOffset=0;Size=0.80;repeat=30;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles2;offset=GLOBAL;y=0;x=0;z=0}
  - setvariable{var=caster.casting;value="1";t=integer} @Self 
  - sound{s=emaginationfallenheroes:custom.spell.herostun;p=1.6;v=1} ?!variableEquals{var=caster.hurtened;value="1"}
  - spin{d=14;v=0} @self ?!variableEquals{var=caster.hurtened;value="1"}
#EFFECT PARTICLES
  - skill{s=atkroll2FXfravager;delay=0} @ModelPart{m=fallenravager;p=axeparticles1;offset=GLOBAL;y=0;x=0;z=-3} ?!variableEquals{var=caster.hurtened;value="1"} ### EFFECTENN 
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 1
  - sudoskill{s=[
    - summon{mob=ravager_expFXmarker1;amount=1;noise=0.5;r=0.6;yr=0} @SelfLocation{y=1.5}];sync=true} @LivingInCone{a=140.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenreaper:custom.spell.attack7reaperhit;p=1.2;v=1} @LivingInCone{a=140.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravagertatk2_roll_cripple;sync=true} @LivingInCone{a=140.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - Aura{auraName=tickfravagercomboa;onTick=reducestacksfravager;interval=30;duration=110;mergeSameCaster=true;refreshDuration=true} @self ?!variableEquals{var=caster.hurtened;value="1"} #CHECK
  - skill{s=outrun_aleviate_fravager;sync=true} @LivingInCone{a=140.0;r=4.8;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=2.1;ignorearmor=false} @LivingInCone{a=140.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1} @LivingInCone{a=140.0;r=3.2;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 28
  - setvariable{var=caster.casting;value="0";t=integer} @Self
  - setstance{stance=normal} @self
  - randomskill{s=bruttack1_fravager,attack6fravager,attack7fravager,attack8fravager,attack3fravagerB;sync=true;repeat=4;repeatinterval=6} @LivingInCone{a=140.0;r=3.2;rot=0.0;ignore=samefaction;limit=1;sort=NEAREST} 0.45 ?!variableEquals{var=caster.hurtened;value="1"} ?!variableEquals{var=caster.hurtened;value="1"}
fravagertatk2_roll_cripple:
  Skills:
  - actionmessage{m="&E&LKNOCKED AIRBORNE!";delay=0}
  - potion{type=LEVITATION;duration=6;level=10;p=false;delay=0}
  - throw{velocity=1;velocityY=2}
  - potion{type=LEVITATION;duration=5;level=4;p=false;delay=6}
  - potion{type=LEVITATION;duration=3;level=0;p=false;delay=11}
  - potion{type=SLOW_FALLING;duration=5;level=0;p=false;delay=14}
  - potion{type=SLOW;duration=25;lvl=7;p=false;force=true}
  - potion{type=SLOW;duration=20;level=1;p=false;force=true;delay=25}
attack_roll_3fravager:
  Cooldown: 5
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - variableEquals{var=caster.hurtened;value="1"} false
  TargetConditions:
  - distance{d=0to3.6} true
  Skills:
  - setstance{stance=casting} @self
  - sound{s=emaginationfallenheroes:custom.spell.channelstun;p=1.2;v=1} ######SOUND
  - state{remove=true;s=run_roll;lo=1;n=false;frame=0} @self
  - state{remove=true;s=attackb1;lo=1;n=false;frame=0} @self
  - state{remove=true;s=attackb2;lo=1;n=false;frame=0} @self
  - variableadd{var=caster.combor;amount=1} @self
  - state{state=roll_attack_3;li=1;lo=10;n=false;speed=1} @self
  - setvariable{var=caster.comboa;value="1";t=integer} @Self ?variableEquals{var=caster.comboa;value="0"}
  - potion{type=SLOW;duration=32;level=5;p=false;force=true} @Self
  - look{headOnly=false;immediately=false;repeat=5;repeatInterval=1} @Target
  - delay 8
  - setvariable{var=caster.casting;value="1";t=integer} @Self 
  - sound{s=emaginationfallenheroes:custom.spell.herostun;p=1.6;v=1} ?!variableEquals{var=caster.hurtened;value="1"}
  - spin{d=14;v=0} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=bruttack3bFX2;delay=3} @self ?!variableEquals{var=caster.hurtened;value="1"} ### EFFECTENN 
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 1
  - sudoskill{s=[
    - summon{mob=ravager_expFXmarker1;amount=1;noise=0.5;r=0.6;yr=0} @SelfLocation{y=1.5}];sync=true} @LivingInCone{a=140.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenreaper:custom.spell.attack7reaperhit;p=1.2;v=1} @LivingInCone{a=140.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravagertatk1_roll_cripple;sync=true} @LivingInCone{a=140.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - Aura{auraName=tickfravagercomboa;onTick=reducestacksfravager;interval=30;duration=110;mergeSameCaster=true;refreshDuration=true} @self ?!variableEquals{var=caster.hurtened;value="1"} #CHECK
  - skill{s=outrun_aleviate_fravager;sync=true} @LivingInCone{a=140.0;r=4.8;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=2.2;ignorearmor=false} @LivingInCone{a=140.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1} @LivingInCone{a=140.0;r=3.2;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 13
  - setvariable{var=caster.casting;value="0";t=integer} @Self
  - setstance{stance=normal} @self
  - randomskill{s=bruttack1_fravager,attack6fravager,attack7fravager,attack8fravager,attack3fravagerB;sync=true;repeat=4;repeatinterval=6} @LivingInCone{a=140.0;r=3.2;rot=0.0;ignore=samefaction;limit=1;sort=NEAREST} 0.45 ?!variableEquals{var=caster.hurtened;value="1"} ?!variableEquals{var=caster.hurtened;value="1"}

#=========== Backstep dodger protocol
fravager_bstpcheck:
  Cooldown: 1
  Conditions:
  - targetwithin{d=8} true
  - targetnotwithin{d=6} orElseCast fravager_bstpcheckB
  - hasaura{n=backstepB} false
  - variableEquals{var=caster.statueform;value="1"} false
  - variableEquals{var=caster.running;value="2"} false
  Skills:
  - Aura{auraName=backstepA;interval=5;duration=30} @self
  - skill{s=fravager_bstpcheck_secondary;sync=true;delay=6;repeat=2;repeatinterval=3} @Target
fravager_bstpcheckB:
  Cooldown: 1
  Conditions:
  - targetwithin{d=6} true
  - targetnotwithin{d=3} true
  - hasaura{n=backstepA} false
  - variableEquals{var=caster.statueform;value="1"} false
  - variableEquals{var=caster.running;value="2"} false
  Skills:
  - Aura{auraName=backstepB;interval=10;duration=30} @self
  - skill{s=fravager_bstpcheck_secondaryB;sync=true;delay=4;repeat=2;repeatinterval=3} @Target
fravager_bstpcheck_secondary:
  Conditions:
  - hasaura{n=backstepB} false
  TargetConditions:
  - isSprinting{} true
  Skills:
  - effect:particles{particle=reddust;color=#1dd7ee;amount=105;hS=0.1;vS=0.1;size=0.8;repeat=1;repeatinterval=1} @Self 0
  - randomskill{s=[  - skill{s=fravager_bstpcheck_secondary1;sync=true} @Forward{f=-6;sideOffset=-2;y=-2.2}],[  - skill{s=fravager_bstpcheck_secondary2;sync=true} @Forward{f=-6;sideOffset=2;y=-2.2}]}
fravager_bstpcheck_secondaryB:
  Conditions:
  - hasaura{n=backstepA} false
  TargetConditions:
  - isSprinting{} true
  Skills:
  - effect:particles{particle=reddust;color=#c90076;amount=105;hS=0.1;vS=0.1;size=0.8;repeat=1;repeatinterval=1} @Self 0
  - randomskill{s=[  - skill{s=fravager_bstpcheck_secondaryB1;sync=true} @Forward{f=-6;sideOffset=-2;y=-2.2}],[  - skill{s=fravager_bstpcheck_secondaryB2;sync=true} @Forward{f=-6;sideOffset=2;y=-2.2}]}
fravager_bstpcheck_secondary1:
  Cooldown: 4
  Conditions:
  - targetwithin{d=4.9}
  - variableEquals{var=caster.running;value="1"} castinstead meleefravagertrigger2
  - hasaura{n=backstepB} false
  - stance{s=normal} true
  - stance{s=casting} false
  TargetConditions:
  - inblock{b=AIR} false
  - isSprinting{} true
  Skills:
    - setstance{stance=casting} @self
    - setvariable{var=caster.casting;value="1";t=integer} @Self
    - Aura{auraName=backstepA;interval=10;duration=60} @self
    - state{state=backstep;li=0;lo=6;n=false;speed=1;delay=1} @self
    - state{state=hurtbad1;li=0;lo=0;remove=true} @self
    - randomskill{s=[  - spin{d=1;v=45} @self],[  - spin{d=1;v=-45} @self]} 0
    - spin{d=1;v=45} @self
    - delay 3
    - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortc;p=1;v=1.4} 0.7 @SelfLocation
    - spin{d=5;v=-3} @self
    - effect:sound{s=emaginationfallenreaper:custom.spell.land;v=2;repeat=0;repeatInterval=6} @self
    - lunge{v=-0.75;repeat=5;repeatInterval=1} @forward{f=-10}
    - delay 13
    - potion{type=SLOW;duration=12;lvl=5;p=false} @Self
    - effect:sound{s=emaginationfallenreaper:custom.spell.land;v=2} @self
    - look{headOnly=false;immediately=true;repeat=5;repeatInterval=1} @Target
    - setstance{stance=normal} @self ?stance{s=casting}
    - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"}  
fravager_bstpcheck_secondary2:
  Cooldown: 4
  Conditions:
  - targetwithin{d=4.9}
  - variableEquals{var=caster.running;value="1"} castinstead meleefravagertrigger2
  - hasaura{n=backstepB} false
  - stance{s=normal} true
  - stance{s=casting} false
  TargetConditions:
  - inblock{b=AIR} false
  - isSprinting{} true
  Skills:
    - setstance{stance=casting} @self
    - setvariable{var=caster.casting;value="1";t=integer} @Self
    - Aura{auraName=backstepA;interval=10;duration=60} @self
    - effect:particles{particle=reddust;color=#1dd7ee;amount=105;hS=0.1;vS=0.1;size=0.8;repeat=1;repeatinterval=1} @Forward{f=-6;sideOffset=-2;y=1} 0
    - state{state=backstep;li=0;lo=6;n=false;speed=1;delay=1} @self
    - state{state=hurtbad1;li=0;lo=0;remove=true} @self
    - spin{d=1;v=-45} @self
    - delay 3
    - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortc;p=1;v=1.4} 0.7 @SelfLocation
    - spin{d=5;v=-3} @self
    - effect:sound{s=emaginationfallenreaper:custom.spell.land;v=2;repeat=0;repeatInterval=6} @self
    - lunge{v=-0.75;repeat=5;repeatInterval=1} @forward{f=-10}
    - delay 13
    - potion{type=SLOW;duration=12;lvl=5;p=false} @Self
    - effect:sound{s=emaginationfallenreaper:custom.spell.land;v=2} @self
    - look{headOnly=false;immediately=true;repeat=5;repeatInterval=1} @Target
    - setstance{stance=normal} @self ?stance{s=casting}
    - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"}
fravager_bstpcheck_secondaryB1:
  Cooldown: 8
  Conditions:
  - targetwithin{d=3.5}
  - variableEquals{var=caster.running;value="1"} castinstead meleefravagertrigger2
  - hasaura{n=backstepA} false
  - stance{s=normal} true
  - stance{s=casting} false
  TargetConditions:
  - inblock{b=AIR} false
  - isSprinting{} true
  Skills:
    - setstance{stance=casting} @self
    - setvariable{var=caster.casting;value="1";t=integer} @Self
    - Aura{auraName=backstepB;interval=10;duration=60} @self
    - effect:particles{particle=reddust;color=#1dd7ee;amount=105;hS=0.1;vS=0.1;size=0.8;repeat=1;repeatinterval=1} @Forward{f=-6;sideOffset=-2;y=1} 0
    - state{state=backstep;li=0;lo=6;n=false;speed=1;delay=1} @self
    - state{state=hurtbad1;li=0;lo=0;remove=true} @self
    - randomskill{s=[  - spin{d=1;v=45} @self],[  - spin{d=1;v=-45} @self]} 0
    - spin{d=1;v=45} @self
    - delay 3
    - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortc;p=1;v=1.4} 0.7 @SelfLocation
    - spin{d=5;v=-3} @self
    - effect:sound{s=emaginationfallenreaper:custom.spell.land;v=2;repeat=0;repeatInterval=6} @self
    - lunge{v=-0.75;repeat=5;repeatInterval=1} @forward{f=-10}
    - delay 13
    - potion{type=SLOW;duration=12;lvl=5;p=false} @Self
    - effect:sound{s=emaginationfallenreaper:custom.spell.land;v=2} @self
    - look{headOnly=false;immediately=true;repeat=5;repeatInterval=1} @Target
    - setstance{stance=normal} @self ?stance{s=casting}
    - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"}
fravager_bstpcheck_secondaryB2:
  Cooldown: 8
  Conditions:
  - targetwithin{d=3.5}
  - variableEquals{var=caster.running;value="1"} castinstead meleefravagertrigger2
  - hasaura{n=backstepA} false
  - stance{s=normal} true
  - stance{s=casting} false
  TargetConditions:
  - inblock{b=AIR} false
  - isSprinting{} true
  Skills:
    - setstance{stance=casting} @self
    - setvariable{var=caster.casting;value="1";t=integer} @Self
    - Aura{auraName=backstepB;interval=10;duration=60} @self
    - state{state=backstep;li=0;lo=6;n=false;speed=1;delay=1} @self
    - state{state=hurtbad1;li=0;lo=0;remove=true} @self
    - spin{d=1;v=-45} @self
    - delay 3
    - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortc;p=1;v=1.4} 0.7 @SelfLocation
    - spin{d=5;v=-3} @self
    - effect:sound{s=emaginationfallenreaper:custom.spell.land;v=2;repeat=0;repeatInterval=6} @self
    - lunge{v=-0.75;repeat=5;repeatInterval=1} @forward{f=-10}
    - delay 13
    - potion{type=SLOW;duration=12;lvl=5;p=false} @Self
    - effect:sound{s=emaginationfallenreaper:custom.spell.land;v=2} @self
    - look{headOnly=false;immediately=true;repeat=5;repeatInterval=1} @Target
    - setstance{stance=normal} @self ?stance{s=casting}
    - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"}
meleefravagertrigger:
  Cooldown: 1
  TargetConditions:
  - fieldofview{angle=50} true
  - distance{d=0to3.5} true
  Conditions:
  - variableEquals{var=caster.comboa;value="1"} castinstead attack2fravager
  - variableEquals{var=caster.comboa;value="2"} castinstead attack3fravagerTrigger
  - variableInRange{var=caster.comboa;value=>3} castinstead attack3fravagerTrigger
  - hasaura{n=outrunning} false
  Skills:
  - randomskill{s=attack1fravager,attack1fravager,attack2fravager;sync=true} @Target
meleefravagertrigger2:
  Cooldown: 2
  TargetConditions:
  - fieldofview{angle=70} true
  - distance{d=0to7} true
  Conditions:
  - hasaura{n=outrunning} false
  Skills:
  - randomskill{s=attack4fravager,attack4fravager,attack5fravager,attack6fravager,attack6fravager,attack6fravager,attack6fravager,attack7fravager,attack7fravager,attack7fravager,ravagefravager1,attack8fravager,attack8fravager,ravagefravager1,bruttack1_fravager,bruttack1_fravager,bruttack1_fravager,bruttack1_fravager;sync=true} @Target
meleefravagertrigger3:
  Cooldown: 2
  TargetConditions:
  - distance{d=0to7} true
  Conditions:
  - targets{a=>2} castinstead meleefravagertrigger3B
  - targets{a=0to2} true
  - hasaura{n=outrunning} false
  - variableInRange{var=caster.combor;value=>15}
  Skills:
  - randomskill{s=attack3fravagerB,attack3fravagerB,attack6fravager,attack6fravager,attack6fravager,attack6fravager,attack7fravager,attack7fravager,attack7fravager,ravagefravager1,attack8fravager,attack8fravager,ravagefravager1,bruttack1_fravager,attack3fravagerB,attack3fravagerB,attack8fravager;sync=true} @LivingEntitiesInRadius{r=6;ignore=samefaction;sort=NEAREST;limit=1} 0.56
meleefravagertrigger3B:
  Cooldown: 2
  TargetConditions:
  - distance{d=0to7} true
  Conditions:
  - targets{a=>2} true
  - hasaura{n=outrunning} false
  Skills:
  - randomskill{s=attack3fravagerB,attack3fravagerB,attack6fravager,attack6fravager,attack6fravager,attack6fravager,attack7fravager,attack7fravager,attack7fravager,ravagefravager1,attack8fravager,attack8fravager,ravagefravager1,bruttack1_fravager,attack3fravagerB,attack3fravagerB,bruttack1_fravager;sync=true} @LivingEntitiesInRadius{r=6;ignore=samefaction;sort=NEAREST;limit=1}
reducestacksfravager:
  Cooldown: 3
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  TargetConditions:
  - distance{d=>3} true
  Skills:
  - setvariable{var=caster.comboa;value="0";t=integer} @Self
attack1fravager:
  Cooldown: 3
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - variableEquals{var=caster.comboa;value="1"} castinstead attack2fravager
  - variableEquals{var=caster.comboa;value="2"} castinstead attack3fravagerTrigger
  - variableEquals{var=caster.hurtened;value="1"} false
  - hasaura{n=outrunning} false
  TargetConditions:
  - distance{d=0to3.6} true
  Skills:
  - setstance{stance=casting} @self
  - state{remove=true;s=land1;lo=1;n=false;frame=0} @self
  - variableadd{var=caster.combor;amount=1} @self
  - state{remove=true;s=attackb1;lo=3;n=false;frame=0} @self
  - state{remove=true;s=attackb2;lo=3;n=false;frame=0} @self
  - state{state=attack;li=8;lo=10;n=false;speed=1} @self
  - state{state=attack1_corrector;li=8;lo=0;n=false;speed=1} @self ?variableEquals{var=caster.running;value="1"}
  - state{state=hurtbad1;li=0;lo=0;remove=true} @self
  - state{state=hurtbad2;li=0;lo=0;remove=true} @self
  - state{state=attack2;li=0;lo=0;remove=true} @self
  - state{state=attack3b;li=0;lo=0;remove=true} @self
  - state{state=attack3a;li=0;lo=0;remove=true} @self
  - state{state=attack3c;li=0;lo=0;remove=true} @self
  - state{state=attack4;li=0;lo=0;remove=true} @self
  - state{state=attack4b;li=0;lo=0;remove=true} @self
  - state{state=attack5;li=0;lo=0;remove=true} @self
  - state{state=attack5_fast;li=0;lo=0;remove=true} @self
  - setvariable{var=caster.comboa;value="1";t=integer} @Self
  - potion{type=SLOW;duration=5;level=0;p=false;force=true} @Self
  - look{headOnly=false;immediately=false;repeat=5;repeatInterval=1} @Target
  - delay 22
  - setvariable{var=caster.casting;value="1";t=integer} @Self
  - skill{s=fravageratk1FX;delay=3} @self ?!variableEquals{var=caster.hurtened;value="1"} ### EFFECTENN 
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 2
  - Aura{auraName=tickfravagercomboa;onTick=reducestacksfravager;interval=30;duration=110;mergeSameCaster=true;refreshDuration=true} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=1.8;ignorearmor=false} @LivingInCone{a=140.0;r=3.6;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=1.4;ignorearmor=false} @LivingInCone{a=200.0;r=0.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=outrun_aleviate_fravager;sync=true} @LivingInCone{a=140.0;r=3.6;rot=0.0;ignore=samefaction} 0.4 ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1} @LivingInCone{a=140.0;r=3.6;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 13
  - setvariable{var=caster.casting;value="0";t=integer} @Self
  - setstance{stance=normal} @self
  - skill{s=attack2fravager;sync=true} @Target ?!variableEquals{var=caster.hurtened;value="1"}
attack2fravager:
  Cooldown: 3
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - variableEquals{var=caster.comboa;value="2"} castinstead attack3fravagerTrigger
  - variableEquals{var=caster.hurtened;value="1"} false
  - hasaura{n=outrunning} false
  TargetConditions:
  - distance{d=0to4} true
  Skills:
  - state{remove=true;s=land1;lo=1;n=false;frame=0} @self
  - setstance{stance=casting} @self
  - variableadd{var=caster.combor;amount=1} @self
  - state{remove=true;s=attackb1;lo=3;n=false;frame=0} @self
  - state{remove=true;s=attackb2;lo=3;n=false;frame=0} @self
  - state{state=attack2;li=8;lo=10;n=false;speed=1.2} @self
  - state{state=attack2_corrector;li=8;lo=0;n=false;speed=1.2} @self ?variableEquals{var=caster.running;value="1"}
  - state{state=attack1;lo=0;n=false;speed=1;remove=true;ignorelerp=true} @self 0
  - state{state=hurtbad1;li=0;lo=0;remove=true} @self
  - state{state=hurtbad2;li=0;lo=0;remove=true} @self
  - state{state=attack3b;li=0;lo=0;remove=true} @self
  - state{state=attack3a;li=0;lo=0;remove=true} @self
  - state{state=attack3c;li=0;lo=0;remove=true} @self
  - state{state=attack4;li=0;lo=0;remove=true} @self
  - state{state=attack4b;li=0;lo=0;remove=true} @self
  - state{state=attack5;li=0;lo=0;remove=true} @self
  - setvariable{var=caster.comboa;value="2";t=integer} @Self
  - potion{type=SLOW;duration=8;level=0;p=false;force=true} @Self
  - look{headOnly=false;immediately=false;repeat=5;repeatInterval=1} @Target
  - Aura{auraName=tickfravagercomboa;onTick=reducestacksfravager;interval=30;duration=110;mergeSameCaster=true;refreshDuration=true} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 15
  - setvariable{var=caster.casting;value="1";t=integer} @Self
  - skill{s=fravageratk2FX} @self ?!variableEquals{var=caster.hurtened;value="1"} ### EFFECTENN
  - delay 2
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1} @LivingInCone{a=120.0;r=3.6;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=1.8;ignorearmor=false} @LivingInCone{a=120.0;r=3.6;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=1.4;ignorearmor=false} @LivingInCone{a=200.0;r=0.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=outrun_aleviate_fravager;sync=true} @LivingInCone{a=120.0;r=3.6;rot=0.0;ignore=samefaction} 0.5 ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 15
  - setvariable{var=caster.casting;value="0";t=integer} @Self
  - setstance{stance=normal} @self
  - randomskill{s=attack3fravager,attack3fravager,attack3fravager,attack3fravagerB,attack3fravagerB,attack3fravagerC,attack3fravagerC,attack3fravagerC;sync=true} @Target ?!variableEquals{var=caster.hurtened;value="1"}
attack3fravagerTrigger:
  Skills:
  - randomskill{s=attack3fravager,attack3fravager,attack3fravager,attack3fravagerB,attack3fravagerB,attack3fravagerB,attack3fravagerC,attack3fravagerC,attack3fravagerC,attack3fravagerC;sync=true} @Target
attack3fravager:
  Cooldown: 3
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - variableEquals{var=caster.hurtened;value="1"} false
  - hasaura{n=outrunning} false
  TargetConditions:
  - distance{d=0to4.3} true
  Skills:
  - state{remove=true;s=land1;lo=1;n=false;frame=0} @self
  - setstance{stance=casting} @self
  - variableadd{var=caster.combor;amount=1} @self
  - state{remove=true;s=attackb1;lo=3;n=false;frame=0} @self
  - state{remove=true;s=attackb2;lo=3;n=false;frame=0} @self
  - state{state=attack3a;li=4;lo=4;n=false;speed=1} @self
  - state{state=attack3a_legs;li=4;lo=12;n=false;speed=1} @self
  - state{state=attack4;li=0;lo=0;remove=true} @self
  - state{state=attack4b;li=0;lo=0;remove=true} @self
  - state{state=attack5;li=0;lo=0;remove=true} @self
  - potion{type=SLOW;duration=26;level=6;p=false;force=true} @Self
  - setvariable{var=caster.comboa;value="3";t=integer} @Self
  - look{headOnly=false;immediately=false;repeat=5;repeatInterval=1} @Target
  - spin{d=15;v=0;delay=7} @self
  - lunge{v=0.38;repeat=4;repeatInterval=1;delay=10} @forward{f=10}
  - delay 12
  - setvariable{var=caster.casting;value="1";t=integer} @Self
  - skill{s=fravageratk3aFX1;delay=2} @self ?!variableEquals{var=caster.hurtened;value="1"} ### EFFECTENN
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1.3;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particles{particle=reddust;color=#464646;amount=2;hS=0.1;vS=0.1;size=0.8;repeat=40;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particles{particle=reddust;color=#B10049;amount=2;hS=0.1;vS=0.1;size=0.8;repeat=40;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles2;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particles{particle=reddust;color=#464646;amount=2;hS=0.1;vS=0.1;size=0.8;repeat=40;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles3;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 2
  - basedamage{m=0.3;ignorearmor=true} @EntitiesInRadius{r=1.5;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=1.3;ignorearmor=false} @EntitiesInRadius{r=1.5;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=1.8;ignorearmor=false} @LivingInCone{a=140.0;r=4;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=0.05;ignorearmor=true;preventknockback=true} @LivingInCone{a=140.0;r=4;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravagertatk3a_cripple;sync=true} @LivingInCone{a=140.0;r=3.7;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=outrun_aleviate_fravager;sync=true} @LivingInCone{a=140.0;r=3.7;rot=0.0;ignore=samefaction} 0.6 ?!variableEquals{var=caster.hurtened;value="1"}
  
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1} @LivingInCone{a=140.0;r=3.7;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 20
  - setvariable{var=caster.casting;value="0";t=integer} @Self
  - setvariable{var=caster.comboa;value="0";t=integer} @Self
  - setstance{stance=normal} @self

fravagertatk3a_cripple:
  Skills:
  - actionmessage{m="&E&LKNOCKED AIRBORNE!";delay=0}
  - potion{type=LEVITATION;duration=2;level=2;p=false;delay=0}
  - sudoskill{s=[
    - lunge{vy=1.2;v=0.6} @forward{f=-2;y=1.5;SideOffset=3}];sync=true}
  - potion{type=LEVITATION;duration=2;level=0;p=false;delay=2}
  - potion{type=SLOW_FALLING;duration=3;level=0;p=false;delay=4}
  - potion{type=SLOW;duration=25;p=false;lvl=7}
  - potion{type=SLOW;duration=20;level=1;p=false;force=true;delay=25}

attack3fravagerB:
  Cooldown: 7
  TargetConditions:
  - distance{d=0to5} true
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - variableInRange{var=caster.combor;value=>6} elsecast meleefravagertrigger2
  - variableEquals{var=caster.hurtened;value="1"} false
  - hasaura{n=outrunning} false
  Skills:
  - state{remove=true;s=land1;lo=1;n=false;frame=0} @self
  - setstance{stance=casting} @self
  - state{remove=true;s=attackb1;lo=3;n=false;frame=0} @self
  - state{remove=true;s=attackb2;lo=3;n=false;frame=0} @self
  - state{state=attack4;li=0;lo=0;remove=true} @self
  - state{state=attack4b;li=0;lo=0;remove=true} @self
  - state{state=attack5;li=0;lo=0;remove=true} @self
  - state{state=attack3b;li=6;lo=7;n=false;speed=1.1} @self
  - look{headOnly=false;immediately=false;repeat=5;repeatInterval=1} @Target
  - effect:particles{particle=reddust;color=#c90332;amount=1;hS=0.1;vS=0.1;size=0.7;repeat=25;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particles{particle=reddust;color=#443d3d;amount=1;hS=0.1;vS=0.1;size=0.7;repeat=25;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles2;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particles{particle=reddust;color=#c90332;amount=1;hS=0.1;vS=0.1;size=0.7;repeat=25;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles5;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 13
  - setvariable{var=caster.casting;value="1";t=integer} @Self
  - sound{s=emaginationfallenheroes:custom.fallenhero.roundslash;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravageratk3bFX;delay=1} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - stun{d=35;f=false;stopai=true} @Self ?!variableEquals{var=caster.hurtened;value="1"} 0
  - spin{d=35;v=0;delay=0} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - potion{type=SLOW;duration=35;level=2;p=false;force=true} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 2
  - effect:particles{particle=reddust;color=#c90332;amount=1;hS=0.1;vS=0.1;size=1.2;repeat=25;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particles{particle=reddust;color=#443d3d;amount=1;hS=0.1;vS=0.1;size=1.2;repeat=25;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles2;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particles{particle=reddust;color=#c90332;amount=1;hS=0.1;vS=0.1;size=1.2;repeat=25;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles5;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravagertatk3bCripple} @EntitiesInRadius{r=4.5;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=outrun_aleviate_fravager;sync=true} @EntitiesInRadius{r=4.5;ignore=samefaction;sort=NEAREST;limit=1} 0.5 ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhita;p=1;v=1} @EntitiesInRadius{r=4;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - throw{velocity=7;velocityY=7} @LivingEntitiesInRadius{r=5;ignore=samefaction;conditions=[  distance{d=3.5to5} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - throw{velocity=15;velocityY=9} @LivingEntitiesInRadius{r=3.5;ignore=samefaction;conditions=[  distance{d=0to3.5} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=0.3;ignorearmor=true} @EntitiesInRadius{r=2;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=1;ignorearmor=false} @EntitiesInRadius{r=3;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=0.1;ignorearmor=true} @EntitiesInRadius{r=3;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=0.7;ignorearmor=false} @EntitiesInRadius{r=4;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=0.5;ignorearmor=false} @EntitiesInRadius{r=4.5;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 15
  - setstance{stance=normal} @self
  - setvariable{var=caster.casting;value="0";t=integer} @Self
fravagertatk3bCripple:
  Skills:
  - actionmessage{m="&E&LKNOCKED AIRBORNE!";delay=0}
  - effect:particles{particle=reddust;color=#c90332;amount=4;hS=0.2;vS=0.2;size=0.8;y=1.4;repeat=40;repeatinterval=1}
  - effect:particles{particle=reddust;color=#443d3d;amount=4;hS=0.2;vS=0.2;size=0.8;y=1;repeat=40;repeatinterval=1}
  - potion{type=LEVITATION;duration=9;level=4;p=false;delay=0}
  - potion{type=LEVITATION;duration=9;level=1;p=false;delay=9}
  - potion{type=LEVITATION;duration=5;level=0;p=false;delay=18}
  - potion{type=SLOW_FALLING;duration=5;level=0;p=false;delay=23}
  - potion{type=SLOW;duration=25;p=false;lvl=7}
  - potion{type=SLOW;duration=56;level=4;p=false;force=true;delay=25}
  - potion{type=WEAKNESS;duration=60;level=1;p=false;force=true} ?distance{d=3to6}
  - potion{type=WEAKNESS;duration=160;level=2;p=false;force=true} ?distance{d=0to3}
  - potion{type=CONFUSION;duration=200;level=10;p=false;force=true} ?distance{d=3to6}
  - potion{type=CONFUSION;duration=120;level=3;p=false;force=true} ?distance{d=0to3}
attack3fravagerC:
  Cooldown: 3
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  TargetConditions:
  - distance{d=0to4.3} true
  Skills:
  - bodyclamp{m=fallenravager;c=0} @self
  - state{remove=true;s=land1;lo=1;n=false;frame=0} @self
  - setstance{stance=casting} @self
  - variableadd{var=caster.combor;amount=1} @self
  - state{state=attack3c;li=2;lo=4;n=false;speed=1} @self
#=== STATE REMOTION ATTACK 3
  - state{remove=true;s=attackb1;lo=3;n=false;frame=0} @self
  - state{remove=true;s=attackb2;lo=3;n=false;frame=0} @self
  - state{state=attack4;lo=2;remove=true} @self
  - state{state=attack5;lo=2;remove=true} @self
  - state{state=attack6_cast;lo=2;remove=true} @self
  - state{state=attack7;lo=2;remove=true} @self
  - state{state=ravage_cast;lo=2;remove=true} @self
  - state{state=land2;lo=2;remove=true} @self
  - state{state=leap3;lo=2;remove=true} @self
  - state{state=land3front;lo=2;remove=true} @self
  - state{state=land3uppercut;lo=2;remove=true} @self
  - potion{type=SLOW;duration=10;level=0;p=false;force=true} @Self
  - setvariable{var=caster.comboa;value="3";t=integer} @Self
  - look{headOnly=false;immediately=false;repeat=5;repeatInterval=1} @Target
  - spin{d=40;v=0;delay=11} @self
  - lockmodel{l=true;delay=11} @Self
  - delay 8
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravageratk3cFX;delay=0} @self ?!variableEquals{var=caster.hurtened;value="1"} ?!variableEquals{var=caster.hurtened;value="1"} ### EFFECTENN
  - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortd;p=0.6;v=1.2;cooldown=2} @selflocation 0.7 ?!variableEquals{var=caster.hurtened;value="1"} #CHANGESOUND
  - delay 4
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1.3;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particles{particle=reddust;color=#464646;amount=2;hS=0.1;vS=0.1;size=0.8;repeat=40;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particles{particle=reddust;color=#B10049;amount=2;hS=0.1;vS=0.1;size=0.8;repeat=40;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles2;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particles{particle=reddust;color=#464646;amount=2;hS=0.1;vS=0.1;size=0.8;repeat=40;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles3;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 1
  - basedamage{m=1.4;ignorearmor=false} @LivingInCone{a=200.0;r=0.65;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1} @LivingInCone{a=200.0;r=0.65;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=1.6;ignorearmor=false} @LivingInCone{a=140.0;r=3.3;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1} @LivingInCone{a=140.0;r=3.3;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 14
  - sound{s=emaginationfallenravager:custom.spell.attack4reaper;p=1.4;v=1.2;cooldown=2} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - potion{type=SLOW;duration=35;level=6;p=false;force=true} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravageratk3cFX2} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=0.8;ignorearmor=false} @LivingInCone{a=140.0;r=3.4;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1.3} @LivingInCone{a=140.0;r=3.4;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - setvariable{var=caster.atk3height;value="0";t=float} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - projectile{onTick=fravagerattack3tick;onHit=fravagerattack3hit;mr=14;v=23;i=1;hR=1.6;hp=true;hnp=true;vR=3;sB=false;sE=false;hs=true;d=150;syo=0;hfs=0.1} @Forward{f=5;y=0.0} ?!variableEquals{var=caster.hurtened;value="1"}
  - projectile{onTick=fravagerattack3tick2;mr=14;v=14;i=3;hR=1.6;hp=true;hnp=true;vR=3;sB=false;sE=false;hs=true;d=150;syo=0;hfs=0.1} @Forward{f=5;y=0.0} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 15
  - lockmodel{l=false;delay=10} @Self
  - setvariable{var=caster.comboa;value="0";t=integer} @Self 1
  - setstance{stance=normal} @self
  - bodyclamp{m=fallenravager;c=50} @self
  - setvariable{var=caster.casting;value="0";t=integer;delay=10} @Self
fravagerattack3tick:
  Skills:
  - effect:particles{p=reddust;c=#EA0000;a=15;s=20;hs=0.45;vs=0.3;y=0;sideOffset=0;Size=1.4;delay=0} @origin
  - effect:particles{p=reddust;c=#000000;a=5;s=20;hs=0.1;vs=0.1;y=0;sideOffset=0.5.0625;Size=1.7;delay=0} @origin
  - effect:particles{p=reddust;c=#000000;a=5;s=20;hs=0.1;vs=0.1;y=0;sideOffset=-0.5.0625;Size=1.7;delay=0} @origin
fravagerattack3tick2:
  Skills:
  - skill{s=fravageratk3tickFX} @Origin{yoffset=-0.3+<caster.var.atk3height>} ### EFFECTENN
  - variablesubtract{var=caster.atk3height;amount=0.5} @self
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;pitch=2;v=0.7} @Origin
fravagerattack3hit:
  Skills:
  - summon{mob=ravager_expFXmarker2;amount=1;noise=90;r=0.1;yr=0} @TargetedTarget
  - skill{s=outrun_discharge_fravager} @EntitiesNearOrigin{r=3;limit=1;sort=NEAREST;ignore=samefaction}
  - basedamage{m=2.2;ignorearmor=false;ignore=samefaction}
  - basedamage{m=0.07;ignorearmor=true;preventknockback=true;ignore=samefaction}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1} @Origin
  - throw{velocity=2;velocityY=1} 
  - potion{type=LEVITATION;duration=9;level=1;p=false;delay=0} 
  - potion{type=LEVITATION;duration=5;level=0;p=false;delay=9}
  - potion{type=SLOW_FALLING;duration=5;level=0;p=false;delay=14}
  - potion{type=SLOW;duration=16;lvl=7;particles=false}
  - potion{type=SLOW;duration=40;lvl=4;delay=16;p=false}
  - potion{type=SLOW;duration=20;lvl=3;delay=56;p=false}
  - potion{type=SLOW;duration=20;lvl=2;delay=76;p=false} 0.5
  - randomskill{s=ravagefravager1,bruttack1_fravager,meleefravagertrigger2;delay=0;repeat=8;repeatinterval=8} @LivingInCone{a=110.0;r=5;rot=0.0;ignore=samefaction} 0.45
attack4fravager:
  Cooldown: 9 # MODIFY
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - incombat true
  - variableInRange{var=caster.combor;value=>5} elsecast meleefravagertrigger
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  - hasaura{n=castedantidistance} false
  TargetConditions:
  - distance{d=0to22} true
  - distance{d=0to6} castinstead attack4fravagerB
  Skills:
  - message{m="&cFallen &bcasting &aattack4fravager"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - Aura{auraName=castedantidistance;duration=50} @self
  - setstance{stance=casting} @self ?stance{s=normal}
  - state{state=attack5_channel;li=0;lo=6;n=false;speed=1} @self
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.2;size=0.7;repeat=75;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.2;size=0.7;repeat=75;repeatinterval=1} @ModelPart{m=fallenravager;p=hand;offset=LOCAL;y=0}
  - sound{s=emaginationfallenheroes:custom.spell.soulfirechannel;p=1.7;v=2} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 6
  - bodyclamp{m=fallenravager;c=0} @self
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?variableEquals{var=caster.running;value="1"}
  - state{remove=true;s=land1;lo=1;n=false;frame=0} @self
  - setvariable{var=caster.casting;value="1";t=integer;delay=13} @Self ?variableEquals{var=caster.casting;value="0"}
  - skill{s=fravageratk5indicator;delay=0} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - variablesubtract{var=caster.combor;amount=1} @self 
  - state{state=attack4;li=2;lo=7;n=false;speed=1.1} @self
#=== STATE REMOTION ATTACK4
  - state{state=attack5;lo=2;remove=true} @self
  - state{state=attack6_cast;lo=2;remove=true} @self
  - state{state=attackb1;lo=2;remove=true} @self
  - state{state=attackb2;lo=2;remove=true} @self
  - state{state=attackb3_a;lo=2;remove=true} @self
  - state{state=attackb3_b;lo=2;remove=true} @self
  - state{state=attack7;lo=2;remove=true} @self
  - state{state=ravage_cast;lo=2;remove=true} @self
  - state{state=land2;lo=2;remove=true} @self
  - state{state=leap3;lo=2;remove=true} @self
  - state{state=land3front;lo=2;remove=true} @self
  - state{state=land3uppercut;lo=2;remove=true} @self
  - sound{s=emaginationfallenheroes:custom.spell.channelstun;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallensoldier:custom.fallensoldier.gritus;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenreaper:custom.fallenreaper.refforta;p=0.9;v=1.5;delay=17} @selflocation 0.7 ?!variableEquals{var=caster.hurtened;value="1"}
  - potion{type=SLOW;duration=47;level=6;p=false;force=true} @Self
  - look{headOnly=false;immediately=false;repeat=15;repeatInterval=1} @Target
  - stun{d=22;f=false;stopai=true;delay=15} @Self 0
  - setrotation{relative=false;pitch=0} @Self
  - spin{d=20;v=0;delay=15} @self
  - sound{s=emaginationfallenheroes:custom.fallenhero.effort;p=1;v=1} @selflocation 0.8 ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particles{p=reddust;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.6;sideOffset=0;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles3;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.6;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles2;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=4;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles5;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=4;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles4;offset=LOCAL;y=0}
  - delay 19
  - skill{s=fravageratk3cFX2;delay=1} @Forward{f=0.7;y=-0.2} ?!variableEquals{var=caster.hurtened;value="1"} ### EFFECTENN
  - delay 2
  - sound{s=emaginationfallenravager:custom.spell.attack4reaper;p=1;v=2.5;cooldown=2} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1.3;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - projectile{bulletType=BLOCK;material=LIGHT;onTick=fravagerattack4tick2;mr=25;v=12;i=5;hR=1.6;hp=true;hnp=true;vR=3;sB=false;sE=false;hs=true;d=150;syo=0;hfs=0.05} @Forward{f=5;y=0.0} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 15
  - setstance{stance=normal} @self ?stance{s=casting}
  - bodyclamp{m=fallenravager;c=50} @self
  - setvariable{var=caster.casting;value="0";t=integer;delay=13} @Self ?variableEquals{var=caster.casting;value="1"}
attack4fravagerB:
  Cooldown: 9 # MODIFY
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - incombat true
  - variableInRange{var=caster.combor;value=>5} elsecast meleefravagertrigger
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  - hasaura{n=castedantidistance} false
  TargetConditions:
  - distance{d=0to6} true
  Skills:
  - message{m="&cFallen &bcasting &eattack4fravager&l&4B"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - Aura{auraName=castedantidistance;duration=50} @self
  - setstance{stance=casting} @self ?stance{s=normal}
  - state{state=attack5_channel;li=0;lo=6;n=false;speed=1} @self
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.2;size=0.7;repeat=75;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.2;size=0.7;repeat=75;repeatinterval=1} @ModelPart{m=fallenravager;p=hand;offset=LOCAL;y=0}
  - sound{s=emaginationfallenheroes:custom.spell.soulfirechannel;p=1.7;v=2} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 6
  - bodyclamp{m=fallenravager;c=0} @self
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?variableEquals{var=caster.running;value="1"}
  - state{remove=true;s=land1;lo=1;n=false;frame=0} @self
  - setvariable{var=caster.casting;value="1";t=integer;delay=13} @Self ?variableEquals{var=caster.casting;value="0"}
  - skill{s=fravageratk5indicator;delay=0} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - variablesubtract{var=caster.combor;amount=1} @self
  - state{state=attack4b;li=2;lo=7;n=false;speed=1} @self
#=== STATE REMOTION ATTACK4
  - state{state=attack5;lo=2;remove=true} @self
  - state{state=attack6_cast;lo=2;remove=true} @self
  - state{state=attack7;lo=2;remove=true} @self
  - state{state=ravage_cast;lo=2;remove=true} @self
  - state{state=land2;lo=2;remove=true} @self
  - state{state=leap3;lo=2;remove=true} @self
  - state{state=attackb1;lo=2;remove=true} @self
  - state{state=attackb2;lo=2;remove=true} @self
  - state{state=attackb3_a;lo=2;remove=true} @self
  - state{state=attackb3_b;lo=2;remove=true} @self
  - state{state=land3front;lo=2;remove=true} @self
  - state{state=land3uppercut;lo=2;remove=true} @self
  - sound{s=emaginationfallenheroes:custom.spell.channelstun;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallensoldier:custom.fallensoldier.gritus;p=1;v=2} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenreaper:custom.fallenreaper.refforta;p=0.9;v=1.2;delay=17} @selflocation 0.7 ?!variableEquals{var=caster.hurtened;value="1"}
  - potion{type=SLOW;duration=56;level=6;p=false;force=true} @Self
  - look{headOnly=false;immediately=false;repeat=15;repeatInterval=1} @Target
  - stun{d=22;f=false;stopai=true;delay=15} @Self 0
  - setrotation{relative=false;pitch=0} @Self
  - spin{d=20;v=0;delay=15} @self
  - sound{s=emaginationfallenheroes:custom.fallenhero.effort;p=1;v=1} @selflocation 0.8 ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particles{p=reddust;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.6;sideOffset=0;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles3;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.6;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles2;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=4;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles5;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=4;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles4;offset=LOCAL;y=0}
  - delay 19
  - skill{s=fravageratk3cFX2;delay=1} @Forward{f=0.7;y=-0.2} ?!variableEquals{var=caster.hurtened;value="1"} ### EFFECTENN
  - delay 5
  - sound{s=emaginationfallenravager:custom.spell.attack4reaper;p=1;v=2.5;cooldown=2} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1.3;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - projectile{bulletType=BLOCK;material=LIGHT;onTick=fravagerattack4tick2;mr=25;v=12;i=5;hR=1.6;hp=true;hnp=true;vR=3;sB=false;sE=false;hs=true;d=150;syo=0;hfs=0.05} @Forward{f=5;y=0.0} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 26
  - setstance{stance=normal} @self ?stance{s=casting}
  - bodyclamp{m=fallenravager;c=50} @self
  - setvariable{var=caster.casting;value="0";t=integer;delay=13} @Self ?variableEquals{var=caster.casting;value="1"}
fravagerattack4tick:
  Skills:
  - effect:particles{p=reddust;c=#ffb5b5;a=90;s=20;hs=0.45;vs=0.3;y=0;sideOffset=-0.0625;Size=1.4;delay=0} @origin
fravagerattack4tick2:
  Skills:
  - summon{mob=ravager_expFXmarker3;amount=1;noise=0;r=0.1;yr=0} @Origin
  - summon{mob=ravager_fireblade1;amount=1;noise=0;r=0.1;yr=0} @Origin
  - summon{mob=ravager_expFXmarker1;amount=1;noise=0.5;r=0.6;yr=0} @Origin
  - skill{s=fravagerattack4hit} @EntitiesNearOrigin{r=3.5;ignore=samefaction} ### EFFECTENN
  - sound{s=emaginationfallenreaper:custom.spell.grandslashtick;pitch=0.8;v=2} @Origin
  - sound{s=emaginationfallenheroes:custom.spell.landshockwave;pitch=1;v=2} @Origin
fravagerattack4hit:
  Skills:
  - skill{s=outrun_discharge_fravager} @EntitiesNearOrigin{r=3;limit=1;sort=NEAREST;ignore=samefaction}
  - basedamage{m=2.5;ignorearmor=false;cooldown=1} @TargetedTarget{ignore=samefaction;conditions=[  - hasaura{n=attack4hit} false ]}
  - basedamage{m=0.2;preventknockback=true;ignorearmor=true} @TargetedTarget{ignore=samefaction;conditions=[  - hasaura{n=attack4hit} false ]}
  - basedamage{m=0.7;ignorearmor=false;cooldown=1} @TargetedTarget{ignore=samefaction;conditions=[  - hasaura{n=attack4hit} true ]}
  - Aura{auraName=attack4hit;duration=60;delay=1} @TargetedTarget{ignore=samefaction}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1} @Origin
  - throw{velocity=2;velocityY=1} 
  - potion{type=LEVITATION;duration=9;level=1;p=false;delay=0} 
  - potion{type=LEVITATION;duration=5;level=0;p=false;delay=9}
  - potion{type=SLOW_FALLING;duration=5;level=0;p=false;delay=14}
  - potion{type=SLOW;duration=16;lvl=7;particles=false;force=true;hasIcon=false}
  - potion{type=SLOW;duration=40;lvl=4;delay=16;p=false;force=true;hasIcon=false}
  - potion{type=SLOW;duration=20;lvl=3;delay=56;p=false;force=true;hasIcon=false}
  - potion{type=SLOW;duration=20;lvl=2;delay=76;p=false;force=true;hasIcon=false} 0.5
  - delay 20
  - randomskill{s=leap2fravager,leap2fravager,leap1fravager,leap2fravager,leap1fravager;delay=0;repeat=6;repeatinterval=8} @TargetedTarget{ignore=samefaction;conditions=[  - distance{d=0to20} true ]} 0.35
  - delay 3
  - randomskill{s=ravagefravager1,bruttack1_fravager,bruttack1_fravager,bruttack1_fravager,attack6fravager,meleefravagertrigger2;delay=0;repeat=8;repeatinterval=8} @LivingInCone{a=110.0;r=5;rot=0.0;ignore=samefaction} 0.45
ravagefravager1:
  Cooldown: 18 # MODIFY  ################
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - variableInRange{var=caster.combor;value=>25} elsecast meleefravagertrigger2
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  TargetConditions:
  - distance{d=0to5} true
  Skills:
  - setstance{stance=casting} @self ?stance{s=normal}
  - state{state=attack5_channel;li=2;lo=6;n=false;speed=2.5} @self
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?!variableEquals{var=caster.casting;value="1"}
  - effect:particles{particle=reddust;color=#c90332;amount=4;hS=0.1;vS=0.2;size=1.5;repeat=17;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#464646;amount=2;hS=0.1;vS=0.2;size=1.7;repeat=17;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.2;size=0.7;repeat=17;repeatinterval=1} @ModelPart{m=fallenravager;p=hand;offset=LOCAL;y=0}
  - sound{s=emaginationfallenheroes:custom.spell.soulfirechannel;p=2;v=2} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.spell.soulfirechannel;p=2;v=2} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenravager:custom.spell.ravagecast;p=2;v=2} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particles{particle=reddust;color=#e31546;amount=3;hS=0.1;vS=0.1;size=0.7;delay=0;repeat=25;repeatinterval=1} @ModelPart{m=fallenravager;p=eye1;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#e31546;amount=3;hS=0.1;vS=0.1;size=0.7;delay=0;repeat=25;repeatinterval=1} @ModelPart{m=fallenravager;p=eye2;offset=LOCAL;y=0}
  - sound{s=emaginationfallenreaper:custom.spell.reaperattract;p=1.4;v=1} @SelfLocation
  - look{headOnly=false;immediately=false;repeat=20;repeatInterval=1} @TargetedTarget
  - delay 17
  - skill{s=outrun_discharge_fravager} @Target
  - bodyclamp{m=fallenravager;c=0} @self
  - state{remove=true;s=land1;lo=1;n=false;frame=0} @self
  - sound{s=emaginationfallenreaper:custom.fallenreaper.rlaugha;p=1;v=1.5} @selflocation
  - variablesubtract{var=caster.combor;amount=1} @self
  - state{state=ravage_cast;li=2;lo=7;n=false;speed=1} @self
  - sound{s=emaginationfallenheroes:custom.spell.channelstun;p=1;v=1} @selflocation
  - sound{s=emaginationfallensoldier:customfallensoldier.gritus;p=1;v=1} @selflocation
  - sound{s=emaginationfallenravager:custom.fallenravager.reffortd;p=0.9;v=1.5;cooldown=2} @selflocation 0.8
  - spin{d=80;v=0} @self
  - lockmodel{l=true;delay=0} @Self #LOCKMODEL
  - potion{type=SPEED;duration=20;level=0;p=false;force=true} @Self
  - variablesubtract{var=caster.combor;amount=5} @self 
  - variablesubtract{var=caster.combor;amount=1} @self 0.9
  - variablesubtract{var=caster.combor;amount=1} @self 0.9
  - variablesubtract{var=caster.combor;amount=1} @self 0.9
  - variablesubtract{var=caster.combor;amount=1} @self 0.9
  - variablesubtract{var=caster.combor;amount=1} @self 0.9
  - variablesubtract{var=caster.combor;amount=2} @self 0.8
  - variablesubtract{var=caster.combor;amount=1} @self 0.7
  - variablesubtract{var=caster.combor;amount=1} @self 0.4
  - variablesubtract{var=caster.combor;amount=1} @self 0.2 # xdddddddd
  - setrotation{relative=false;pitch=0} @Self
  - sound{s=emaginationfallenheroes:custom.fallenhero.effort;p=1;v=1} @selflocation 0.8
  - effect:particles{p=reddust;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.6;sideOffset=0;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles3;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.6;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles2;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=4;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles5;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=4;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles4;offset=LOCAL;y=0}
  - delay 19
  - skill{s=fravageratk3cFX2} @Forward{f=0.7;y=-0.2} ### EFFECTENN
  - delay 3
  - setrotation{relative=false;pitch=0;repeat=20} @Self
  - lunge{vy=-0.3;v=0.001;repeat=58;repeatinterval=1} @forward{f=0;y=-2}
  - potion{type=SLOW;duration=60;level=8;p=false;force=true} @Self
  #_______ Damaging Totem
  - totem{charges=1;onStart=ravage_fravager_damage;ForwardOffset=3.7;d=5} @Forward{f=3.7;y=0}
  - basedamage{m=2;ignorearmor=false;ignore=samefaction} @LivingEntitiesInRadius{r=5;ignore=samefaction}
  - skill{s=fravager_ravage_cripple} @LivingEntitiesInRadius{r=5;ignore=samefaction}
  - sound{s=emaginationfallenreaper:custom.spell.attack7reaperhit;p=0.9;v=2.5} @selflocation
  - sound{s=emaginationfallenravager:custom.spell.attack4reaper;p=1;v=2.5;cooldown=2} @selflocation
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1.3;v=1} @selflocation
  - setrotation{relative=false;pitch=0} @Self
  - summon{mob=ravager_ravagemarker;amount=1;noise=0;r=0.1;yr=0;delay=1} @Forward{f=3.7;y=0}
  - summon{mob=ravager_expFXmarker3;amount=1;noise=0;r=0.1;yr=0} @Forward{f=3.7;y=0}
  - summon{mob=ravager_expFXmarker2;amount=1;noise=0;r=0.1;yr=0} @Forward{f=3.7;y=0}
  - summon{mob=ravager_expFXmarker1;amount=1;noise=3;r=5;yr=2;repeat=14;repeatinterval=1} @Forward{f=5.7;y=0}
  - sound{s=emaginationfallenreaper:custom.spell.grandslashtick;pitch=0.8;v=2} @Origin
  - sound{s=emaginationfallenheroes:custom.spell.landshockwave;pitch=1;v=2} @Origin
  - sound{s=emaginationfallenreaper:custom.spell.grandslashcast;pitch=1;v=2} @Origin
  - projectile{bulletType=BLOCK;material=LIGHT;onStart=[  - summon{mob=fravager_supershockwave1;amount=1;noise=0;r=0.1;yr=0;delay=1} @Origin];onTick=fravager_ravage_tick;mr=5;v=25;i=4;hR=1.6;hp=true;hnp=true;vR=3;sB=false;sE=false;hs=true;d=5;syo=0;hfs=0.05} @Forward{f=5;y=0.0}
  - projectile{bulletType=BLOCK;material=LIGHT;onTick=fravager_ravage_tick;mr=8;v=17;i=4;hR=1.6;hp=true;hnp=true;vR=3;sB=false;sE=false;hs=true;d=150;syo=0;sfo=1.6;hO=90;hfs=0.05} @Forward{f=5;y=0.0} 0
  - projectile{bulletType=BLOCK;material=LIGHT;onTick=fravager_ravage_tick;mr=8;v=17;i=4;hR=1.6;hp=true;hnp=true;vR=3;sB=false;sE=false;hs=true;d=150;syo=0;sfo=1.6;hO=-90;hfs=0.05} @Forward{f=5;y=0.0} 0
  - bodyclamp{m=fallenravager;c=50;delay=40} @self
  - lockmodel{l=false;delay=40} @Self #UNLOCKMODEL
  - delay 58
  - setstance{stance=normal} @self ?stance{s=casting}
  - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"}
ravage_fravager_damage:
  Skills:
  - Aura{auraName=hittedravage1fravager;duration=40} 0.7 @EntitiesNearOrigin{r=3;ignore=samefaction}
  - skill{s=fravager_ravage_cripple} @EntitiesNearOrigin{r=6;ignore=samefaction}
  - basedamage{m=1.35;ignorearmor=false;ignore=samefaction} @EntitiesNearOrigin{r=2.5;ignore=samefaction}
  - basedamage{m=0.2;ignorearmor=true;ignore=samefaction} @EntitiesNearOrigin{r=2.5;ignore=samefaction}
  - basedamage{m=1.3;ignorearmor=false;ignore=samefaction;preventimmunity=true;preventknockback=true} @EntitiesNearOrigin{r=4;ignore=samefaction}
  - basedamage{m=1.4;ignorearmor=false;ignore=samefaction;preventimmunity=true;preventknockback=true} @EntitiesNearOrigin{r=6;ignore=samefaction}
  - basedamage{m=0.1;ignorearmor=true;ignore=samefaction;preventknockback=true} @EntitiesNearOrigin{r=5;ignore=samefaction}

ravagefravager2:
  Cooldown: 6 # MODIFY  ################
  Conditions:
  - stance{s=casting} true
  - stance{s=normal} false
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  TargetConditions:
  - distance{d=0to7} orElsecast fravager_ravagerun_stop
  Skills:
  - look{headOnly=false;immediately=false;repeat=20;repeatInterval=1} @TargetedTarget
  - sound{s=emaginationfallenreaper:custom.spell.reaperattract;p=1.7;v=2.5} @SelfLocation
  - sound{s=emaginationfallenreaper:custom.spell.ravagecast;p=1;v=2.5} @SelfLocation
  - skill{s=outrun_discharge_fravager} @Target
  - bodyclamp{m=fallenravager;c=0} @self
  - state{remove=true;s=land1;lo=1;n=false;frame=0} @self
  - setstance{stance=casting} @self ?stance{s=normal}
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?!variableEquals{var=caster.casting;value="1"}
  - sound{s=emaginationfallenreaper:custom.fallenreaper.rlaugha;p=1;v=1.5} @selflocation
  - variablesubtract{var=caster.combor;amount=1} @self
  - state{state=ravage_cast;li=2;lo=7;n=false;speed=1} @self
  - auraremove{aura=runstance2_fravager_trigger} @self #Removes ravager protocol
  - auraremove{aura=particles_fravager_rvgprotocol} @self
  - submodel{mid=fallenravager;partid=fravager_chipcitums;submodelid=fallenravager;subpartid=fravager_chipcitums;remove=true} @self
  - auraremove{aura=stepsounds_runstance2_fravager} @self
  - setvariable{var=caster.running;value="0";t=integer} @Self
  - setvariable{var=caster.runstacks;value="0";t=integer} @Self
  - setspeed{speed=1.4;type=walking} @Self
  - state{remove=true;s=run_aggressive;lo=1;n=false;frame=0} @self
  - sound{s=emaginationfallenheroes:custom.spell.channelstun;p=1;v=1} @selflocation
  - sound{s=emaginationfallensoldier:customfallensoldier.gritus;p=1;v=1} @selflocation
  - sound{s=emaginationfallenravager:custom.spell.ravagecast;p=2;v=2} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - spin{d=80;v=0} @self
  - lockmodel{l=true;delay=0} @Self #LOCKMODEL
  - skill{s=lungefravager2xd;repeat=18;repeatInterval=1} @Target
  - lunge{v=-0.0005;vy=-0.15;repeat=10;repeatInterval=1;delay=18} @forward{f=10;y=-10} 1
  - variablesubtract{var=caster.combor;amount=5} @self 
  - variablesubtract{var=caster.combor;amount=1} @self 0.9
  - variablesubtract{var=caster.combor;amount=1} @self 0.9
  - variablesubtract{var=caster.combor;amount=1} @self 0.9
  - variablesubtract{var=caster.combor;amount=1} @self 0.9
  - variablesubtract{var=caster.combor;amount=1} @self 0.9
  - variablesubtract{var=caster.combor;amount=2} @self 0.8
  - variablesubtract{var=caster.combor;amount=1} @self 0.7
  - variablesubtract{var=caster.combor;amount=1} @self 0.4
  - variablesubtract{var=caster.combor;amount=1} @self 0.2 # xdddddddd
  - setrotation{relative=false;pitch=0} @Self
  - sound{s=emaginationfallenheroes:custom.fallenhero.effort;p=1;v=1} @selflocation 0.8
  - effect:particles{p=reddust;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.6;sideOffset=0;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles3;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.6;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles2;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=4;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles5;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=4;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles4;offset=LOCAL;y=0}
  - delay 19
  - skill{s=fravageratk3cFX2} @Forward{f=0.7;y=-0.2} ### EFFECTENN
  - delay 3
  - setrotation{relative=false;pitch=0} @Self
  - setAI{ai=false}
  - setAI{ai=true;delay=20}
  - lunge{vy=-0.3;v=0.001;repeat=58;repeatinterval=1} @forward{f=0;y=-2}
  - potion{type=SLOW;duration=60;level=8;p=false;force=true} @Self
#_______ Damaging Totem
  - totem{charges=1;onStart=ravage_fravager_damage2;ForwardOffset=3.7;d=5} @Forward{f=3.7;y=0}
  - basedamage{m=2;ignorearmor=false} @LivingEntitiesInRadius{r=5;ignore=samefaction}
  - skill{s=fravager_ravage_cripple} @LivingEntitiesInRadius{r=5;ignore=samefaction}
  - sound{s=emaginationfallenreaper:custom.spell.attack7reaperhit;p=0.9;v=2.5} @selflocation
  - sound{s=emaginationfallenravager:custom.spell.attack4reaper;p=1;v=2.5;cooldown=2} @selflocation
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1.3;v=1} @selflocation
  - setrotation{relative=false;pitch=0} @Self
  - summon{mob=ravager_ravagemarker;amount=1;noise=0;r=0.1;yr=0;delay=1} @Forward{f=3.7;y=0}
  - summon{mob=ravager_expFXmarker3;amount=1;noise=0;r=0.1;yr=0} @Forward{f=3.7;y=0}
  - summon{mob=ravager_expFXmarker2;amount=1;noise=0;r=0.1;yr=0} @Forward{f=3.7;y=0}
  - summon{mob=ravager_expFXmarker1;amount=1;noise=3;r=5;yr=2;repeat=14;repeatinterval=1} @Forward{f=5.7;y=0}
  - sound{s=emaginationfallenreaper:custom.spell.grandslashtick;pitch=0.8;v=2} @Origin
  - sound{s=emaginationfallenheroes:custom.spell.landshockwave;pitch=1;v=2} @Origin
  - sound{s=emaginationfallenreaper:custom.spell.grandslashcast;pitch=1;v=2} @Origin
  - projectile{bulletType=BLOCK;material=LIGHT;onStart=[  - summon{mob=fravager_supershockwave1;amount=1;noise=0;r=0.1;yr=0;delay=1} @Origin];onTick=fravager_ravage_tick;mr=5;v=25;i=4;hR=1.6;hp=true;hnp=true;vR=3;sB=false;sE=false;hs=true;d=5;syo=0;hfs=0.05} @Forward{f=5;y=0.0}
  - projectile{bulletType=BLOCK;material=LIGHT;onTick=fravager_ravage_tick;mr=8;v=17;i=4;hR=1.6;hp=true;hnp=true;vR=3;sB=false;sE=false;hs=true;d=150;syo=0;sfo=1.6;hO=90;hfs=0.05} @Forward{f=5;y=0.0} 0
  - projectile{bulletType=BLOCK;material=LIGHT;onTick=fravager_ravage_tick;mr=8;v=17;i=4;hR=1.6;hp=true;hnp=true;vR=3;sB=false;sE=false;hs=true;d=150;syo=0;sfo=1.6;hO=-90;hfs=0.05} @Forward{f=5;y=0.0} 0
  - bodyclamp{m=fallenravager;c=50;delay=40} @self
  - lockmodel{l=false;delay=40} @Self #UNLOCKMODEL
  - delay 58
  - setstance{stance=normal} @self ?stance{s=casting}
  - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"}
lungefravager2xd:
  TargetConditions:
  - distance{d=0to3} false
  - onground false
  Skills:
  - lunge{v=0.2;vy=0.05} @forward{f=10} 1
ravage_fravager_damage2:
  Skills:
  - Aura{auraName=hittedravage1fravager;duration=40} 1 @EntitiesNearOrigin{r=3;ignore=samefaction}
  - skill{s=fravager_ravage_cripple} @EntitiesNearOrigin{r=6;ignore=samefaction}
  - basedamage{m=0.08;ignorearmor=true;ignore=samefaction;preventimmunity=true;preventknockback=true} @EntitiesNearOrigin{r=5;ignore=samefaction} <50%
  - basedamage{m=0.08;ignorearmor=true;ignore=samefaction;preventimmunity=true;preventknockback=true} @EntitiesNearOrigin{r=4.5;ignore=samefaction} <40%
  - basedamage{m=0.10;ignorearmor=true;ignore=samefaction;preventimmunity=true;preventknockback=true} @EntitiesNearOrigin{r=4;ignore=samefaction} <30%
  - basedamage{m=0.12;ignorearmor=true;ignore=samefaction;preventimmunity=true;preventknockback=true} @EntitiesNearOrigin{r=3.5;ignore=samefaction} <20%
  - basedamage{m=0.15;ignorearmor=true;ignore=samefaction;preventimmunity=true;preventknockback=true} @EntitiesNearOrigin{r=2.7;ignore=samefaction} <10%
  - basedamage{m=1;ignorearmor=true;ignore=samefaction;preventimmunity=true;preventknockback=true} @EntitiesNearOrigin{r=1.5;ignore=samefaction} <30%
  - basedamage{m=0.1;ignorearmor=true;ignore=samefaction;preventimmunity=true;preventknockback=true} @EntitiesNearOrigin{r=2.7;ignore=samefaction}
  - basedamage{m=3.9;ignorearmor=false;ignore=samefaction} @EntitiesNearOrigin{r=2.5;ignore=samefaction}
  - basedamage{m=3.1;ignorearmor=false;ignore=samefaction;preventimmunity=true;preventknockback=true} @EntitiesNearOrigin{r=4;ignore=samefaction}
  - basedamage{m=1.7;ignorearmor=false;ignore=samefaction;preventimmunity=true;preventknockback=true} @EntitiesNearOrigin{r=6;ignore=samefaction}
  - basedamage{m=0.1;ignorearmor=true;ignore=samefaction;preventknockback=true} @EntitiesNearOrigin{r=5;ignore=samefaction}
fravager_ravage_tick:
  Skills:
  - summon{mob=ravager_expFXmarker3;amount=1;noise=0;r=0.1;yr=0} @Origin
  - summon{mob=ravager_ravagemarker;amount=1;noise=0;r=0.1;yr=0} @Origin
  - summon{mob=ravager_expFXmarker1;amount=1;noise=0.5;r=0.6;yr=0} @Origin
  - skill{s=fravager_ravage1_hit} @EntitiesNearOrigin{r=4;ignore=samefaction} ### EFFECTENN
  - sound{s=emaginationfallenreaper:custom.spell.grandslashtick;pitch=1.2;v=2} @Origin
  - sound{s=emaginationfallenheroes:custom.spell.landshockwave;pitch=1;v=2} @Origin
fravager_ravage1_hit:
  Conditions:
  - hasaura{n=hittedravage1fravager} false
  Skills:
  - Aura{auraName=hittedravage1fravager;duration=40} 0.7
  - basedamage{m=0.5;ignorearmor=false;ignore=samefaction} @LivingEntitiesInRadius{r=5;ignore=samefaction}
  - throw{velocity=2;velocityY=1} 
  - potion{type=LEVITATION;duration=9;level=1;p=false;delay=0} 
  - potion{type=LEVITATION;duration=5;level=0;p=false;delay=9}
  - potion{type=SLOW_FALLING;duration=5;level=0;p=false;delay=14}
  - potion{type=SLOW;duration=16;lvl=7;particles=false}
  - potion{type=SLOW;duration=40;lvl=4;delay=16;p=false}
  - potion{type=SLOW;duration=20;lvl=3;delay=56;p=false}
fravager_ravage_cripple:
  Skills:
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1} @Origin
  - throw{velocity=2;velocityY=3} 
  - potion{type=LEVITATION;duration=9;level=1;p=false;delay=0} 
  - potion{type=LEVITATION;duration=5;level=0;p=false;delay=9}
  - potion{type=SLOW_FALLING;duration=5;level=0;p=false;delay=14}
  - potion{type=SLOW;duration=16;lvl=7;particles=false}
  - potion{type=SLOW;duration=40;lvl=4;delay=16;p=false}
  - potion{type=SLOW;duration=20;lvl=3;delay=56;p=false}
  - potion{type=SLOW;duration=20;lvl=2;delay=76;p=false} 0.5

#ATTACK 5 - Create a rapid projectile of soulfire, goes faster if the target is far away

attack5fravager:
  Cooldown: 6
  TargetConditions:
  - distance{d=1to20} true
  - distance{d=>7} castinstead attack5fravagerfast
  Conditions:
  - incombat true
  - stance{s=casting} false
  - stance{s=normal} true
  - variableInRange{var=caster.combor;value=>9} elsecast meleefravagertrigger
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  - hasaura{n=castedantidistance} false
  Skills:
  - setstance{stance=casting} @self
  - Aura{auraName=castedantidistance;duration=50} @self
  - state{state=attack5_channel;li=0;lo=6;n=false;speed=1} @self
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.2;size=0.7;repeat=75;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.2;size=0.7;repeat=75;repeatinterval=1} @ModelPart{m=fallenravager;p=hand;offset=LOCAL;y=0}
  - sound{s=emaginationfallenheroes:custom.spell.soulfirechannel;p=1;v=2.2} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 4
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?variableEquals{var=caster.running;value="1"}
  - variablesubtract{var=caster.combor;amount=1} @self 0.7
  - variablesubtract{var=caster.combor;amount=1} @self 0.6
  - variablesubtract{var=caster.combor;amount=1} @self 0.4
  - variablesubtract{var=caster.combor;amount=1} @self 0.3
  - state{state=attack5_fast;li=2;lo=6;n=false;speed=1} @self
  - state{state=attack6_cast;lo=2;remove=true} @self
  - state{state=attack7;lo=2;remove=true} @self
  - state{state=attackb1;lo=2;remove=true} @self
  - state{state=attackb2;lo=2;remove=true} @self
  - state{state=attackb3_a;lo=2;remove=true} @self
  - state{state=attackb3_b;lo=2;remove=true} @self
  - state{state=ravage_cast;lo=2;remove=true} @self
  - state{state=land1;lo=2;remove=true} @self
  - state{state=land2;lo=2;remove=true} @self
  - state{state=leap3;lo=2;remove=true} @self
  - state{state=land3front;lo=2;remove=true} @self
  - state{state=land3uppercut;lo=2;remove=true} @self
  - potion{type=SLOW;duration=43;level=6;p=false;force=true} @Self
  - look{headOnly=false;immediately=false;repeat=20;repeatInterval=1} @Target
  - bodyclamp{m=fallenravager;c=0} @self
  - stun{d=10;f=false;stopai=true;delay=20} @Self
  - spin{d=44;v=0;delay=15} @self
  - lunge{vy=-0.05;v=0.001;repeat=27;repeatinterval=1} @forward{f=0;y=-2} ?onground
  - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortb;p=0.9;v=1.5;delay=3} @selflocation 0.7 ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 15
  - setrotation{relative=false;pitch=0} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravageratk5indicator} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 5
  - potion{type=SLOW;duration=12;lvl=0;p=false;delay=8} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - potion{type=SLOW;duration=16;lvl=6;p=false;delay=20} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.spell.soulfirecast;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.spell.soulfirecast;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=block_crack;m=dirt;amount=5;points=24;radius=1.5;delay=1;size=3;speed=3;yOffset=0.01;hS=0.3;vS=0.4;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=block_crack;m=dirt;amount=4;points=28;radius=2;delay=2;size=3;speed=3;yOffset=0.01;hS=0.3;vS=0.4;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.5;points=16;amount=2;hS=0;vS=0;speed=110;size=1.2;yOffset=0;delay=0;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"} # COLORETTE
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.7;points=18;amount=2;hS=0;vS=0;speed=110;size=1.1;yOffset=0;delay=0;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.9;points=22;amount=2;hS=0;vS=0;speed=110;size=1;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.1;points=26;amount=2;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.3;points=32;amount=2;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.5;points=39;amount=2;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.8;points=45;amount=2;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.9;points=49;amount=2;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2;points=53;amount=2;hS=0;vS=0;speed=110;size=0.85;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.1;points=57;amount=2;hS=0;vS=0;speed=110;size=0.85;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.3;points=65;amount=2;hS=0;vS=0;speed=110;size=0.82;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.5;points=75;amount=2;hS=0;vS=0;speed=110;size=0.78;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.6;points=80;amount=2;hS=0;vS=0;speed=110;size=0.78;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.8;points=90;amount=1;hS=0;vS=0;speed=110;size=0.73;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - projectile{onTick=fravagerattack5tick;mr=24;v=26;i=2;hR=1;hp=true;hnp=false;vR=3;sB=false;sE=false;hs=true;d=150;syo=0;hfs=0.17;hitconditions=[ - faction{faction=FallenHeroes} false ]} @Forward{f=5;y=0.0} ?!variableEquals{var=caster.hurtened;value="1"}
  - projectile{onTick=fravagerattack5sw;onHit=fravagerattack5hit;mr=24;v=29;i=1;hR=1.4;hp=true;hnp=false;vR=3;sB=false;sE=false;hs=true;d=150;syo=0;hfs=0.17;hitconditions=[ - faction{faction=FallenHeroes} false ]} @Forward{f=5;y=0.0} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 15
  - setstance{stance=normal} @self ?stance{s=casting}
  - bodyclamp{m=fallenravager;c=50} @self
  - delay 10
  - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"}
attack5fravagerfast:
  Cooldown: 6
  TargetConditions:
  - distance{d=>7} true
  Conditions:
  - incombat true
  - stance{s=casting} false
  - stance{s=normal} true
  - variableInRange{var=caster.combor;value=>9} elsecast meleefravagertrigger
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  Skills:
  - setstance{stance=casting} @self
  - state{state=attack5_channel;li=0;lo=6;n=false;speed=1} @self
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.2;size=0.7;repeat=75;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.2;size=0.7;repeat=75;repeatinterval=1} @ModelPart{m=fallenravager;p=hand;offset=LOCAL;y=0}
  - sound{s=emaginationfallenheroes:custom.spell.soulfirechannel;p=1;v=2.2} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 3
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?variableEquals{var=caster.running;value="1"}
  - variablesubtract{var=caster.combor;amount=1} @self 0.7
  - variablesubtract{var=caster.combor;amount=1} @self 0.6
  - variablesubtract{var=caster.combor;amount=1} @self 0.4
  - variablesubtract{var=caster.combor;amount=1} @self 0.3
  - state{state=attack5_fast;li=2;lo=6;n=false;speed=1} @self
  - state{state=attack6_cast;lo=2;remove=true} @self
  - state{state=attack7;lo=2;remove=true} @self
  - state{state=ravage_cast;lo=2;remove=true} @self
  - state{state=land1;lo=2;remove=true} @self
  - state{state=land2;lo=2;remove=true} @self
  - state{state=leap3;lo=2;remove=true} @self
  - state{state=land3front;lo=2;remove=true} @self
  - state{state=land3uppercut;lo=2;remove=true} @self
  - potion{type=SLOW;duration=43;level=6;p=false;force=true} @Self
  - look{headOnly=false;immediately=false;repeat=20;repeatInterval=1} @Target
  - bodyclamp{m=fallenravager;c=0} @self
  - stun{d=10;f=false;stopai=true;delay=20} @Self
  - spin{d=44;v=0;delay=15} @self
  - lunge{vy=-0.05;v=0.001;repeat=27;repeatinterval=1} @forward{f=0;y=-2} ?onground
  - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortb;p=0.9;v=1.5;delay=3} @selflocation 0.7 ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 15
  - setrotation{relative=false;pitch=0} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravageratk5indicator} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 5
  - potion{type=SLOW;duration=12;lvl=0;p=false;delay=8} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - potion{type=SLOW;duration=15;lvl=6;p=false;delay=20} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.spell.soulfirecast;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.spell.soulfirecast;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=block_crack;m=dirt;amount=5;points=24;radius=1.5;delay=1;size=3;speed=3;yOffset=0.01;hS=0.3;vS=0.4;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=block_crack;m=dirt;amount=4;points=28;radius=2;delay=2;size=3;speed=3;yOffset=0.01;hS=0.3;vS=0.4;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.5;points=16;amount=2;hS=0;vS=0;speed=110;size=1.2;yOffset=0;delay=0;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"} # COLORETTE
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.7;points=18;amount=2;hS=0;vS=0;speed=110;size=1.1;yOffset=0;delay=0;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.9;points=22;amount=2;hS=0;vS=0;speed=110;size=1;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.1;points=26;amount=2;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.3;points=32;amount=2;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.5;points=39;amount=2;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.8;points=45;amount=2;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.9;points=49;amount=2;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2;points=53;amount=2;hS=0;vS=0;speed=110;size=0.85;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.1;points=57;amount=2;hS=0;vS=0;speed=110;size=0.85;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.3;points=65;amount=2;hS=0;vS=0;speed=110;size=0.82;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.5;points=75;amount=2;hS=0;vS=0;speed=110;size=0.78;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.6;points=80;amount=2;hS=0;vS=0;speed=110;size=0.78;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.8;points=90;amount=1;hS=0;vS=0;speed=110;size=0.73;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - projectile{onTick=fravagerattack5tick;mr=24;v=35;i=2;hR=1;hp=true;hnp=false;vR=3;sB=false;sE=false;hs=true;d=150;syo=0;hfs=0.17;hitconditions=[ - faction{faction=FallenHeroes} false ]} @Forward{f=5;y=0.0} ?!variableEquals{var=caster.hurtened;value="1"}
  - projectile{onTick=fravagerattack5sw;onHit=fravagerattack5hit;mr=24;v=36;i=1;hR=1.4;hp=true;hnp=false;vR=3;sB=false;sE=false;hs=true;d=150;syo=0;hfs=0.17;hitconditions=[ - faction{faction=FallenHeroes} false ]} @Forward{f=5;y=0.0} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 15
  - setstance{stance=normal} @self ?stance{s=casting}
  - bodyclamp{m=fallenravager;c=50} @self
  - delay 10
  - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"}
fravagerattack5sw:
  Skills:
  - effect:blockmask{m=light;r=0.5;duration=21;onlyair=true} @Origin{y=4} ~onSpawn 1
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.8;points=3;amount=2;hS=0;vS=0;speed=110;size=1.2;yOffset=0;delay=0;forwardOffset=0.5}
fravagerattack5tick:
  Skills:
  - sound{s=emaginationfallenheroes:custom.spell.soulfirecast;p=2;v=0.5} @Origin 
  - summon{mob=ravager_fireblade1;amount=1;noise=0;r=0.1;yr=0} @Origin 0
  - summon{mob=ravager_fireblade2;amount=1;noise=0.5;r=0.6;yr=0} @Origin{y=-2}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1.5;v=1} @Origin
fravagerattack5hit:
  Skills:
  - skill{s=outrun_aleviate_fravager} @EntitiesNearOrigin{r=3;limit=1;sort=NEAREST;ignore=samefaction} 0.4
  - skill{s=outrun_aleviate_fravager} @EntitiesNearOrigin{r=3;limit=1;sort=NEAREST;ignore=samefaction} 0.4
  - summon{mob=ravager_expFXmarker2;amount=1;noise=0.5;r=0.6;yr=0} @Origin
  - effect:particles{particle=flame;amount=15;hS=0.5;vS=0.5;speed=0.8} 
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.5;points=16;amount=3;hS=0;vS=0;speed=110;size=1.2;yOffset=0;delay=0;forwardOffset=3} @Forward{f=3;y=0} # COLORETTE
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.7;points=18;amount=3;hS=0;vS=0;speed=110;size=1.1;yOffset=0;delay=0;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.9;points=22;amount=3;hS=0;vS=0;speed=110;size=1;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.3;points=32;amount=3;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.5;points=39;amount=3;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.8;points=45;amount=3;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.9;points=49;amount=2;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.1;points=57;amount=2;hS=0;vS=0;speed=110;size=0.85;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.5;points=75;amount=2;hS=0;vS=0;speed=110;size=0.78;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.6;points=80;amount=2;hS=0;vS=0;speed=110;size=0.78;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.8;points=90;amount=1;hS=0;vS=0;speed=110;size=0.73;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=3.1;points=108;amount=1;hS=0;vS=0;speed=110;size=0.73;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=3.3;points=120;amount=1;hS=0;vS=0;speed=110;size=0.69;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=3.5;points=132;amount=1;hS=0;vS=0;speed=110;size=0.69;yOffset=0;delay=4;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=3.8;points=142;amount=1;hS=0;vS=0;speed=110;size=0.62;yOffset=0;delay=4;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=4.1;points=150;amount=1;hS=0;vS=0;speed=110;size=0.62;yOffset=0;delay=4;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particles{p=reddust;color=#c90332;y=1.5;amount=135;speed=1;hS=0.5;vS=2.5} @Origin
  - effect:particles{p=endRod;color=#fff400;y=0.5;amount=15;speed=0.1;hS=1.8;vS=0.5} @Origin
  - basedamage{m=2.8;ignorearmor=false;cooldown=1} @EntitiesNearOrigin{r=2.2;ignore=samefaction}
  - basedamage{m=0.3;preventknockback=true;ignorearmor=true} @EntitiesNearOrigin{r=4;ignore=samefaction}
  - ignite{ticks=80} @EntitiesNearOrigin{r=4;ignore=samefaction}
  - potion{type=SLOW;duration=40;lvl=3;p=false;force=true} @EntitiesNearOrigin{r=2}
  - potion{type=SLOW;duration=20;lvl=2;p=false;force=true;delay=40}
  - potion{type=SLOW;duration=20;lvl=1;p=false;force=true;delay=60} 0.5
  - sound{s=emaginationfallenheroes:custom.spell.soulfirehit;volume=2;pitch=0.6;cooldown=1} @origin
  - effect:bloodyScreen{d=60} @EntitiesNearOrigin{r=2}
  - delay 20
  - randomskill{s=leap2fravager,leap2fravager,leap1fravager,leap2fravager,leap1fravager;delay=0;repeat=6;repeatinterval=8} @TargetedTarget{ignore=samefaction;conditions=[  - distance{d=0to20} true ]} 0.35
  - randomskill{s=bruttack1_fravager,bruttack1_fravager,meleefravagertrigger2;delay=0;repeat=8;repeatinterval=8} @LivingInCone{a=110.0;r=5;rot=0.0;ignore=samefaction} 0.45 

#ATTACK 6 - Indicates a double ring. After a delay, strike three times, dealing bonus damage to targets in
#           the outer ring, healing a considerable portion of life for each enemy hit.

attack6fravager:
  Cooldown: 1 ################################ CHANGE ___________________________###
  TargetConditions:
  - distance{d=1to6} true
  Conditions:
  - incombat true
  - stance{s=casting} false
  - stance{s=normal} true
  - variableInRange{var=caster.combor;value=>7} elsecast meleefravagertrigger
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  Skills:
  - setstance{stance=casting} @self
  - Aura{auraName=largecast;duration=80} @self
  - sound{s=emaginationfallenheroes:custom.spell.soulfirechannelb;p=1.5;v=1} @selflocation 0 #SOUND
  - sound{s=emaginationfallenravager:custom.spell.atk6charge;p=<random.float.1to1.3>;v=1} @selflocation #SOUND
  - state{state=ravage_cast;lo=2;remove=true} @self
  - state{state=land2;lo=2;remove=true} @self
  - state{state=leap3;lo=2;remove=true} @self
  - state{state=land3front;lo=2;remove=true} @self
  - state{state=attackb1;lo=2;remove=true} @self
  - state{state=attackb2;lo=2;remove=true} @self
  - state{state=attackb3_a;lo=2;remove=true} @self
  - state{state=attackb3_b;lo=2;remove=true} @self
  - state{state=land3uppercut;lo=2;remove=true} @self
  - state{state=attack6_channel;li=2;lo=6;n=false;speed=1} @self
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.2;size=1.5;repeat=75;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.2;size=1.2;repeat=75;repeatinterval=1} @ModelPart{m=fallenravager;p=hand;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#B10049;d=40;radius=4.5;points=70;amount=1;hS=0;vS=0;speed=110;size=0.65;yOffset=0;delay=20;repeat=11;repeatinterval=2} @SelfLocation ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#B10049;d=40;radius=7.5;points=120;amount=1;hS=0;vS=0;speed=110;size=0.75;yOffset=0;delay=20;repeat=11;repeatinterval=2} @SelfLocation ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 30
  - skill{s=attack6fravager_cast;sync=true} ?!variableEquals{var=caster.hurtened;value="1"}
  - setstance{stance=normal} @self ?variableEquals{var=caster.hurtened;value="1"}
attack6fravager_cast:
  Cooldown: 1 ################################ CHANGE ___________________________###
  Conditions:
  - stance{s=casting} true
  - stance{s=normal} false
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  Skills:
  - sound{s=emaginationfallenravager:custom.spell.atk6cast;p=<random.float.1to1.3>;v=2;delay=4} @selflocation
  - state{state=attack6_cast;li=0;lo=6;n=false;speed=1} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?variableEquals{var=caster.running;value="1"}
  - variablesubtract{var=caster.combor;amount=1} @self 0.7 ?!variableEquals{var=caster.hurtened;value="1"}
  - variablesubtract{var=caster.combor;amount=1} @self 0.6 ?!variableEquals{var=caster.hurtened;value="1"}
  - variablesubtract{var=caster.combor;amount=1} @self 0.4 ?!variableEquals{var=caster.hurtened;value="1"}
  - variablesubtract{var=caster.combor;amount=1} @self 0.3 ?!variableEquals{var=caster.hurtened;value="1"}
  - potion{type=SLOW;duration=7;level=6;p=false;force=true} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - potion{type=SPEED;duration=14;level=1;p=false;force=true;delay=7} @Self ?!variableEquals{var=caster.hurtened;value="1"} ?!variableEquals{var=caster.running;value="1"}
  - potion{type=SLOW;duration=17;level=6;p=false;force=true;delay=23} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - potion{type=SLOW;duration=10;level=3;p=false;force=true;delay=40} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - look{headOnly=false;immediately=false;repeat=20;repeatInterval=1} @Target ?!variableEquals{var=caster.hurtened;value="1"}
  - bodyclamp{m=fallenravager;c=0} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - spin{d=50;v=0;delay=0} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - setvariable{var=caster.casting;value="1";t=integer;delay=23} @Self ?variableEquals{var=caster.casting;value="0"}
  - delay 8
  - skill{s=fravageratk6_2FX;delay=1} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravageratk6FX;delay=6} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravageratk6_3FX;delay=14} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 1
#  - sound{s=emaginationfallenheroes:custom.spell.soulfirecast;p=2;v=1.5} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=0.1;ignorearmor=true;preventknockback=true} @EntitiesInRadius{r=2;ignore=samefaction;conditions=[  distance{d=0to2} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=1;ignorearmor=false;preventknockback=true} @EntitiesInRadius{r=3;ignore=samefaction;conditions=[  distance{d=2to3} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=0.2;ignorearmor=true;preventknockback=true} @EntitiesInRadius{r=3;ignore=samefaction;conditions=[  distance{d=2to3} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=0.8;ignorearmor=false;preventknockback=true} @EntitiesInRadius{r=4.5;ignore=samefaction;conditions=[  distance{d=3to4.5} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - potion{type=SLOW;duration=25;lvl=0;p=false;delay=0} @EntitiesInRadius{r=4.5;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 8
#  - sound{s=emaginationfallenreaper:custom.spell.rslash;p=1.5;v=1.5} @SelfLocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.spell.soulfirecast;p=1;v=1.5} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=0.8;ignorearmor=false;preventknockback=true;preventimmunity=true} @EntitiesInRadius{r=5.5;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=0.2;ignorearmor=true} @EntitiesInRadius{r=5.5;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 7
#  - sound{s=emaginationfallenreaper:custom.spell.rslash;p=1;v=1.5} @SelfLocation ?!variableEquals{var=caster.hurtened;value="1"}
# - sound{s=emaginationfallenreaper:custom.spell.soulfirecastb;p=2;v=1} @SelfLocation ?!variableEquals{var=caster.hurtened;value="1"}
#  - sound{s=emaginationfallenreaper:custom.spell.attack4reaper;p=2;v=1} @SelfLocation ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=0.7;ignorearmor=false;preventknockback=true;preventimmunity=true} @LivingEntitiesInRadius{r=4;ignore=samefaction;conditions=[  distance{d=0to3} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravageratk6_cripple;delay=0} @LivingEntitiesInRadius{r=7;ignore=samefaction;conditions=[  distance{d=3to7} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - setrotation{relative=false;pitch=0} @Self
#  - sound{s=emaginationfallenheroes:custom.spell.soulfirecastb;p=1.5;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 15
  - setstance{stance=normal} @self ?stance{s=casting} ?!variableEquals{var=caster.hurtened;value="1"}
  - bodyclamp{m=fallenravager;c=50} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 10
  - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"} ?!variableEquals{var=caster.hurtened;value="1"}
fravageratk6_cripple:
  Skills:
  - sound{s=emaginationfallenheroes:custom.spell.soulfirehit;volume=2;pitch=2;cooldown=1}
  - basedamage{m=0.4;ignorearmor=true}
  - basedamage{m=1;ignorearmor=false;preventknockback=true;preventimmunity=true}
  - effect:particles{particle=block_crack;material=red_wool;amount=15;hS=0.4;vS=0.4;size=1.2;y=1.2;repeat=10;repeatinterval=2}
  - potion{type=SLOW;duration=25;lvl=6;p=false;delay=4}
  - summon{mob=ravager_expFXmarker2;amount=1;noise=0.5;r=0.6;yr=0}
  - sudoskill{s=[
    - heal{amount=15} @trigger
    - effect:particles{particle=villager_happy;amount=35;hS=0.45;vS=0.56;size=1.2;y=1.2;speed=1.5} @trigger];sync=true;cat=true}
  #THROW
  - potion{type=LEVITATION;duration=2;level=4;p=false;delay=0}
  - throw{velocity=1;velocityY=2} ?distance{d=0to3}
  - potion{type=LEVITATION;duration=2;level=2;p=false;delay=2}
  - potion{type=LEVITATION;duration=1;level=1;p=false;delay=4}
  - potion{type=SLOW_FALLING;duration=5;level=0;p=false;delay=5}
  - potion{type=SLOW;duration=10;lvl=7}
  - potion{type=SLOW;duration=35;level=0;p=false;force=true;delay=10}
  - sudoskill{s=[
    - lunge{vy=1.2;v=0.9} @forward{f=-2;y=1.5;SideOffset=3}];sync=true}

#=== ATTACK 7

attack7fravager:
  Cooldown: 14 
  TargetConditions:
  - distance{d=1to6} true
  Conditions:
  - incombat true
  - stance{s=casting} false
  - stance{s=normal} true
  - variableInRange{var=caster.combor;value=>7} elsecast meleefravagertrigger
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  Skills:
  - setstance{stance=casting} @self
  - Aura{auraName=largecast;duration=80} @self
  - sound{s=emaginationfallenheroes:custom.spell.soulfirechannelb;p=1.5;v=1} @selflocation #SOUND
  - state{state=ravage_cast;lo=2;remove=true} @self
  - state{state=land2;lo=2;remove=true} @self
  - state{state=leap3;lo=2;remove=true} @self
  - state{state=land3front;lo=2;remove=true} @self
  - state{state=attackb1;lo=2;remove=true} @self
  - state{state=attackb2;lo=2;remove=true} @self
  - state{state=attackb3_a;lo=2;remove=true} @self
  - state{state=attackb3_b;lo=2;remove=true} @self
  - state{state=land3uppercut;lo=2;remove=true} @self
  #
  - state{state=attack7_channel;li=2;lo=6;n=false;speed=1} @self
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.2;size=0.9;repeat=75;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particles{particle=reddust;color=#464646;amount=2;hS=0.1;vS=0.2;size=1.2;repeat=75;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.2;size=0.7;repeat=75;repeatinterval=1} @ModelPart{m=fallenravager;p=hand;offset=LOCAL;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#B10049;d=40;radius=4.5;points=35;amount=1;hS=0;vS=0;speed=110;size=0.65;yOffset=0;delay=20;repeat=11;repeatinterval=2} @SelfLocation ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#DF1B2A;d=40;radius=7.5;points=60;amount=1;hS=0;vS=0;speed=110;size=0.75;yOffset=0;delay=20;repeat=11;repeatinterval=2} @SelfLocation ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#EF5856;d=40;radius=10.5;points=80;amount=1;hS=0;vS=0;speed=110;size=0.75;yOffset=0;delay=20;repeat=11;repeatinterval=2} @SelfLocation ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 28
  - skill{s=attack7fravager_cast;sync=true} ?!variableEquals{var=caster.hurtened;value="1"}
  - setstance{stance=normal} @self ?variableEquals{var=caster.hurtened;value="1"}
attack7fravager_cast:
  Cooldown: 1
  Conditions:
  - stance{s=casting} true
  - stance{s=normal} false
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  Skills:
  - state{state=attack7_cast;li=0;lo=6;n=false;speed=1} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?variableEquals{var=caster.running;value="1"}
  - variablesubtract{var=caster.combor;amount=1} @self 0.7 ?!variableEquals{var=caster.hurtened;value="1"}
  - variablesubtract{var=caster.combor;amount=1} @self 0.6 ?!variableEquals{var=caster.hurtened;value="1"}
  - variablesubtract{var=caster.combor;amount=1} @self 0.4 ?!variableEquals{var=caster.hurtened;value="1"}
  - variablesubtract{var=caster.combor;amount=1} @self 0.3 ?!variableEquals{var=caster.hurtened;value="1"}
  - potion{type=SLOW;duration=5;level=6;p=false;force=true} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - potion{type=SPEED;duration=14;level=1;p=false;force=true;delay=7} @Self ?!variableEquals{var=caster.hurtened;value="1"} ?!variableEquals{var=caster.running;value="1"}
  - potion{type=SLOW;duration=17;level=6;p=false;force=true;delay=17} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - potion{type=SLOW;duration=10;level=3;p=false;force=true;delay=40} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - look{headOnly=false;immediately=false;repeat=20;repeatInterval=1} @Target ?!variableEquals{var=caster.hurtened;value="1"}
  - bodyclamp{m=fallenravager;c=0} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - spin{d=50;v=0;delay=0} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - setvariable{var=caster.casting;value="1";t=integer;delay=0} @Self ?variableEquals{var=caster.casting;value="0"}
  - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortb;p=0.95;v=1.2;cooldown=2} @selflocation ?!variableEquals{var=caster.hurtened;value="1"} #CHANGESOUND
  - sound{s=emaginationfallenreaper:custom.spell.leap3front;p=1.8;v=1.5;delay=5} @SelfLocation
  - sound{s=emaginationfallenreaper:custom.spell.leap3front;p=1.5;v=1.5;delay=11} @SelfLocation
  - sound{s=emaginationfallenreaper:custom.spell.leap3front;p=1.2;v=1.5;delay=15} @SelfLocation
  - delay 17
  - skill{s=fravageratk3cFX2;delay=0} @self
  - delay 3
  - summon{mob=ravager_expFXmarker3;amount=1;noise=0;r=0.1;yr=0} @Forward{f=2.2;y=0.05}
  - summon{mob=fravager_shockwave2;amount=1;noise=0.5;r=0.6;yr=0} @Forward{f=2.2;y=-1.95}
  - sound{s=emaginationfallenreaper:custom.spell.rslash;p=1;v=1.5} @SelfLocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenreaper:custom.spell.soulfirecastb;p=2;v=1} @SelfLocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenreaper:custom.spell.attack4reaper;p=2;v=1} @SelfLocation ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=2;ignorearmor=false} @LivingEntitiesInRadius{r=5;ignore=samefaction;conditions=[  distance{d=0to5} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=2.5;ignorearmor=false} @LivingEntitiesInRadius{r=7;ignore=samefaction;conditions=[  distance{d=5to8} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravageratk7_cripple;delay=0} @LivingEntitiesInRadius{r=5;ignore=samefaction;conditions=[  distance{d=0to5} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenreaper:custom.spell.grandslashtick;pitch=0.8;v=2.5} @Origin
  - sound{s=emaginationfallenreaper:custom.spell.grandslashtick;pitch=1.8;v=2.5} @Origin
  - sound{s=emaginationfallenheroes:custom.spell.landshockwave;pitch=1;v=2.5} @Origin
  - projectile{bulletType=BLOCK;material=LIGHT;onTick=fravagerattack4tick2;mr=25;v=10;i=7;hR=1.6;hp=true;hnp=true;vR=3;sB=false;sE=false;hs=true;d=28;syo=0;hfs=0.05;delay=7} @Ring{radius=10;points=12} ?!variableEquals{var=caster.hurtened;value="1"}
  - setrotation{relative=false;pitch=0} @Self
  - sound{s=emaginationfallenheroes:custom.spell.soulfirecastb;p=1.5;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 15
  - setstance{stance=normal} @self ?stance{s=casting} ?!variableEquals{var=caster.hurtened;value="1"}
  - bodyclamp{m=fallenravager;c=50} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 10
  - setvariable{var=caster.casting;value="0";t=integer} @Self ?variableEquals{var=caster.casting;value="1"} ?!variableEquals{var=caster.hurtened;value="1"}
fravageratk7_cripple:
  Skills:
  - sound{s=emaginationfallenheroes:custom.spell.soulfirehit;volume=2;pitch=2;cooldown=1}
  - basedamage{m=0.2;ignorearmor=true;preventknockback=true;preventimmunity=true}
  - basedamage{m=0.5;ignorearmor=false;preventknockback=true;preventimmunity=true}
  - effect:particles{particle=block_crack;material=red_wool;amount=15;hS=0.4;vS=0.4;size=1.2;y=1.2;repeat=10;repeatinterval=2}
  - summon{mob=ravager_expFXmarker2;amount=1;noise=0.5;r=0.6;yr=0}
  - sudoskill{s=[
    - heal{amount=7} @trigger
    - effect:particles{particle=villager_happy;amount=35;hS=0.45;vS=0.56;size=1.2;y=1.2;speed=1.5} @trigger];sync=true;cat=true}
  #THROW
  - potion{type=LEVITATION;duration=2;level=4;p=false;delay=0}
  - throw{velocity=1;velocityY=2} ?distance{d=0to3}
  - potion{type=LEVITATION;duration=2;level=2;p=false;delay=2}
  - potion{type=LEVITATION;duration=1;level=1;p=false;delay=4}
  - potion{type=SLOW_FALLING;duration=5;level=0;p=false;delay=5}
  - potion{type=SLOW;duration=40;lvl=7;p=false} @TargetedTarget
  - potion{type=SLOW;duration=20;level=2;p=false;icon=false;force=true;delay=40} @TargetedTarget
  - potion{type=SLOW;duration=20;level=1;p=false;icon=false;force=true;delay=60} @TargetedTarget
  - potion{type=SLOW;duration=20;level=0;p=false;icon=false;force=true;delay=80} @TargetedTarget
  - sudoskill{s=[
    - lunge{vy=1.2;v=1.4} @forward{f=-2;y=1.5}];sync=true}
  - delay 20
  - randomskill{s=leap2fravager,leap2fravager,leap1fravager,leap2fravager,leap1fravager;delay=0;repeat=6;repeatinterval=8} @TargetedTarget{limit=1;sort=RANDOM;ignore=samefaction;conditions=[  - distance{d=0to20} true ]} 0.35

#==== Attack 8

attack8fravager:
  Cooldown: 1 # MODIFY
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - incombat true
  - variableInRange{var=caster.combor;value=>15} elsecast meleefravagertrigger2
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  TargetConditions:
  - distance{d=0to8} true
  Skills:
  - message{m="&cFallen &bcasting &aattack8fravager"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - Aura{auraName=largecast;duration=50} @self
  - setstance{stance=casting} @self ?stance{s=normal}
  - state{state=attack8;li=0;lo=6;n=false;speed=1} @self
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.2;size=0.7;repeat=75;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.2;size=0.7;repeat=75;repeatinterval=1} @ModelPart{m=fallenravager;p=hand;offset=LOCAL;y=0}
  - sound{s=emaginationfallenheroes:custom.spell.soulfirechannel;p=1.7;v=2} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 6
  - bodyclamp{m=fallenravager;c=0} @self
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?variableEquals{var=caster.running;value="1"}
  - state{remove=true;s=land1;lo=1;n=false;frame=0} @self
  - setvariable{var=caster.casting;value="1";t=integer;delay=13} @Self ?variableEquals{var=caster.casting;value="0"}
  - variablesubtract{var=caster.combor;amount=1} @self
  - state{state=attack4;li=2;lo=7;n=false;speed=1.1} @self
#=== STATE REMOTION ATTACK8
  - state{state=attack5;lo=2;remove=true} @self
  - state{state=attack6_cast;lo=2;remove=true} @self
  - state{state=attackb1;lo=2;remove=true} @self
  - state{state=attackb2;lo=2;remove=true} @self
  - state{state=attackb3_a;lo=2;remove=true} @self
  - state{state=attackb3_b;lo=2;remove=true} @self
  - state{state=attack7;lo=2;remove=true} @self
  - state{state=ravage_cast;lo=2;remove=true} @self
  - state{state=land2;lo=2;remove=true} @self
  - state{state=leap3;lo=2;remove=true} @self
  - state{state=land3front;lo=2;remove=true} @self
  - state{state=land3uppercut;lo=2;remove=true} @self
  - sound{s=emaginationfallenheroes:custom.spell.channelstun;p=1;v=1} @selflocation
  - sound{s=emaginationfallensoldier:customfallensoldier.gritus;p=1;v=1} @selflocation
  - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortd;p=1;v=1.2;cooldown=2} @selflocation 0.8
  - potion{type=SLOW;duration=47;level=6;p=false;force=true} @Self
  - look{headOnly=false;immediately=false;repeat=15;repeatInterval=1} @Target
  - stun{d=22;f=false;stopai=true;delay=15} @Self 0
  - setrotation{relative=false;pitch=0} @Self
  - spin{d=20;v=0;delay=15} @self
  - sound{s=emaginationfallenheroes:custom.fallenhero.effort;p=1;v=1} @selflocation 0.8
  - effect:particles{p=reddust;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.6;sideOffset=0;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles3;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.6;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles2;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=4;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles5;offset=LOCAL;y=0}
  - effect:particles{p=reddust;a=4;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=20;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles4;offset=LOCAL;y=0}
  - effect:particlering{particle=reddust;c=#B10049;d=40;radius=5;points=60;amount=1;hS=0;vS=0;speed=110;size=0.85;yOffset=0;delay=5;repeat=1;repeatinterval=1} @SelfLocation ?!variableEquals{var=caster.hurtened;value="1"}
  - effect:particlering{particle=reddust;c=#DF1B2A;d=40;radius=8;points=100;amount=1;hS=0;vS=0;speed=110;size=0.75;yOffset=0;delay=5;repeat=1;repeatinterval=1} @SelfLocation ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 19
  - skill{s=fravageratk3cFX2} @Forward{f=0.7;y=-0.2} ?!variableEquals{var=caster.hurtened;value="1"} ### EFFECTENN
  - delay 1
  - summon{mob=ravager_expFXmarker2;amount=1;noise=0;r=0.1;yr=0} @Forward{f=2.2;y=0.05} ?!variableEquals{var=caster.hurtened;value="1"}
  - summon{mob=fravager_shockwave2;amount=1;noise=0.5;r=0.6;yr=0} @Forward{f=2.2;y=-1.95} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenravager:custom.spell.attack4reaper;p=1;v=2.5;cooldown=2} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1.3;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=3;ignorearmor=false} @LivingEntitiesInRadius{r=5;ignore=samefaction;conditions=[  distance{d=0to5} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=2.5;ignorearmor=false} @LivingEntitiesInRadius{r=8;ignore=samefaction;conditions=[  distance{d=5to9} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravageratk8_cripple;delay=0} @LivingEntitiesInRadius{r=5;ignore=samefaction;conditions=[  distance{d=0to5} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - throw{velocity=7;velocityY=7} @LivingEntitiesInRadius{r=8;ignore=samefaction;conditions=[  distance{d=5to9} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - throw{velocity=25;velocityY=9} @LivingEntitiesInRadius{r=5;ignore=samefaction;conditions=[  distance{d=0to5} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenreaper:custom.spell.grandslashtick;pitch=1.8;v=2.5} @Origin ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.spell.landshockwave;pitch=1.9;v=2.5} @Origin ?!variableEquals{var=caster.hurtened;value="1"}
  - projectile{bulletType=BLOCK;material=LIGHT;onTick=fravagerattack4tick2;mr=25;v=12;i=5;hR=1.6;hp=true;hnp=true;vR=3;sB=false;sE=false;hs=true;d=150;syo=0;hfs=0.05} @Forward{f=5;y=0.0} ?!variableEquals{var=caster.hurtened;value="1"} 0
  - delay 15
  - setstance{stance=normal} @self ?stance{s=casting}
  - bodyclamp{m=fallenravager;c=50} @self
  - setvariable{var=caster.casting;value="0";t=integer;delay=13} @Self ?variableEquals{var=caster.casting;value="1"}

fravageratk8_cripple:
  Skills:
  - sound{s=emaginationfallenheroes:custom.spell.soulfirehit;volume=2;pitch=2;cooldown=1}
  - basedamage{m=0.2;ignorearmor=true;preventknockback=true;preventimmunity=true}
  - basedamage{m=0.5;ignorearmor=false;preventknockback=true;preventimmunity=true}
  - effect:particles{particle=block_crack;material=red_wool;amount=15;hS=0.4;vS=0.4;size=1.2;y=1.2;repeat=10;repeatinterval=2}
  - summon{mob=ravager_expFXmarker2;amount=1;noise=0.5;r=0.6;yr=0}
  - sudoskill{s=[
    - heal{amount=7} @trigger
    - effect:particles{particle=villager_happy;amount=35;hS=0.45;vS=0.56;size=1.2;y=1.2;speed=1.5} @trigger
    - summon{mob=ravager_expFXmarker1;amount=2;noise=1.5;r=0.6;yr=0} @SelfLocation{y=1.2}];sync=true;cat=true}
  #THROW
  - potion{type=LEVITATION;duration=2;level=3;p=false;delay=0}
  - potion{type=LEVITATION;duration=2;level=1;p=false;delay=2}
  - potion{type=LEVITATION;duration=1;level=0;p=false;delay=4}
  - potion{type=SLOW_FALLING;duration=5;level=0;p=false;delay=5}
  - potion{type=SLOW;duration=40;lvl=7;p=false} @TargetedTarget
  - potion{type=SLOW;duration=20;level=2;p=false;icon=false;force=true;delay=40} @TargetedTarget
  - potion{type=SLOW;duration=20;level=1;p=false;icon=false;force=true;delay=60} @TargetedTarget
  - potion{type=SLOW;duration=20;level=0;p=false;icon=false;force=true;delay=80} @TargetedTarget
  - sudoskill{s=[
    - lunge{vy=0.5;v=4.4} @forward{f=-15;y=0.3}];sync=true} 0
#============= BRUTALIST PROTOCOL ==== Brutal combo attacks intended to avoid losing damage trades.

bruttack1_fravager:
  Cooldown: 4
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableInRange{var=caster.hitrec;value=>2} true
  - variableEquals{var=caster.casting;value="1"} false
  TargetConditions:
  - distance{d=0to7} true
  - fieldofview{angle=40} true
  Skills:
  - setstance{stance=casting} @self
  - bodyclamp{m=fallenravager;c=0} @self
  - sound{s=emaginationfallenheroes:custom.spell.channelstun;p=1.2;v=1} ######SOUND
  - state{remove=true;s=run_roll;lo=1;n=false;frame=0} @self
  - variableadd{var=caster.combor;amount=1} @self
  - state{state=attackb1;li=1;lo=10;n=false;speed=1} @self
  - setvariable{var=caster.comboa;value="1";t=integer} @Self ?variableEquals{var=caster.comboa;value="0"}
  - potion{type=SLOW;duration=34;level=7;p=false;force=true} @Self
  - potion{type=SLOW;duration=6;level=1;p=false;force=true;delay=34} @Self
  - look{headOnly=false;immediately=false;repeat=5;repeatInterval=1} @Target
  - spin{d=25;v=0;delay=2} @self
  - delay 10
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=bruttack1_adaptivelunge;delay=1} @LivingInCone{a=180.0;r=7;rot=0.0;ignore=samefaction;limit=1;sort=NEAREST} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 4
  - sound{s=emaginationfallenheroes:custom.spell.herostun;p=1.2;v=1} ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravageratk1ROLLFX;delay=2} @self ?!variableEquals{var=caster.hurtened;value="1"} ### EFFECTENN
  - delay 1
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=bruttack1_cripple;sync=true} @LivingInCone{a=180.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - Aura{auraName=tickfravagercomboa;onTick=reducestacksfravager;interval=30;duration=110;mergeSameCaster=true;refreshDuration=true} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=outrun_aleviate_fravager;sync=true} @LivingInCone{a=180.0;r=4.8;rot=0.0;ignore=samefaction} 0.8 ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=1.9;ignorearmor=false} @LivingInCone{a=180.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - sudoskill{s=[
    - summon{mob=ravager_expFXmarker1;amount=1;noise=0.5;r=0.6;yr=0} @SelfLocation{y=1.5}];sync=true} @LivingInCone{a=180.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1} @LivingInCone{a=180.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 11
  - randomskill{s=attack2fravager,bruttack2_fravager,bruttack2_fravager,bruttack2_fravager;sync=true;repeat=2;repeatinterval=4} @LivingInCone{a=100.0;r=5.5;rot=0.0;ignore=samefaction;limit=1;sort=NEAREST} ?!variableEquals{var=caster.hurtened;value="1"}
  - bodyclamp{m=fallenravager;c=50} @self
  - setvariable{var=caster.casting;value="0";t=integer} @Self
  - setstance{stance=normal} @self
  
bruttack1_adaptivelunge:
  Conditions:
  - variableEquals{var=caster.hurtened;value="1"} false
  - targetwithin{d=4} orElseCast bruttack1_adaptivelunge2
  Skills:
  - lunge{v=0.42;repeat=4;repeatInterval=1} @forward{f=10} 0
  - propel{v=0.42;repeat=4;repeatInterval=1} @forward{f=10}
  - message{m="Saltum 1"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
bruttack1_adaptivelunge2:
  Conditions:
  - variableEquals{var=caster.hurtened;value="1"} false
  - targetwithin{d=8} true
  Skills:
  - lunge{v=0.58;repeat=7;repeatInterval=1} @forward{f=10} 0
  - propel{v=0.58;repeat=7;repeatInterval=1} @forward{f=10}
  - message{m="Saltum 2"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
bruttack1_cripple:
  Skills:
  - actionmessage{m="&E&LKNOCKED AIRBORNE!";delay=0}
  - potion{type=LEVITATION;duration=2;level=4;p=false;delay=0}
  - throw{velocity=1;velocityY=2} ?distance{d=0to3}
  - potion{type=LEVITATION;duration=2;level=2;p=false;delay=2}
  - potion{type=LEVITATION;duration=1;level=1;p=false;delay=4}
  - potion{type=SLOW_FALLING;duration=5;level=0;p=false;delay=5}
  - potion{type=SLOW;duration=10;lvl=7}
  - potion{type=SLOW;duration=20;level=0;p=false;force=true;delay=10}
bruttack2_fravager:
  Cooldown: 4
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  TargetConditions:
  - distance{d=0to7} true
  - fieldofview{angle=90} true
  Skills:
  - setstance{stance=casting} @self
  - sound{s=emaginationfallenheroes:custom.spell.channelstun;p=1.2;v=1} ######SOUND
  - state{remove=true;s=run_roll;lo=1;n=false;frame=0} @self
  - variableadd{var=caster.combor;amount=1} @self
  - bodyclamp{m=fallenravager;c=0} @self
  - state{state=attackb2;li=1;lo=10;n=false;speed=1} @self
  - setvariable{var=caster.comboa;value="1";t=integer} @Self ?variableEquals{var=caster.comboa;value="0"}
  - potion{type=SLOW;duration=38;level=5;p=false;force=true;delay=4} @Self
  - look{headOnly=false;immediately=false;repeat=5;repeatInterval=1} @Target
  - delay 5
  - spin{d=21;v=0;delay=0} @self
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=bruttack1_adaptivelunge;delay=0} @LivingInCone{a=180.0;r=7;rot=0.0;ignore=samefaction;limit=1;sort=NEAREST} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 1
  - sound{s=emaginationfallenheroes:custom.spell.herostun;p=1.2;v=1} ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravageratk2FX;delay=1} @self ?!variableEquals{var=caster.hurtened;value="1"} ### EFFECTENN
  - delay 3
  - sudoskill{s=[
    - summon{mob=ravager_expFXmarker1;amount=1;noise=0.5;r=0.6;yr=0} @SelfLocation{y=1.5}];sync=true} @LivingInCone{a=180.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravagertatk1_roll_cripple;sync=true} @LivingInCone{a=180.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - Aura{auraName=tickfravagercomboa;onTick=reducestacksfravager;interval=30;duration=110;mergeSameCaster=true;refreshDuration=true} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=outrun_aleviate_fravager;sync=true} @LivingInCone{a=180.0;r=4.8;rot=0.0;ignore=samefaction} 1 ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=1.9;ignorearmor=false} @LivingInCone{a=180.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1} @LivingInCone{a=180.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - look{headOnly=false;immediately=true;repeat=15;repeatInterval=1} @Target
  - stun{d=1;f=false;stopai=true} @Self
  - spin{d=13;v=0;delay=0} @self
  - delay 11
  - bodyclamp{m=fallenravager;c=50} @self
  - setvariable{var=caster.casting;value="0";t=integer} @Self
  - setstance{stance=normal} @self
  - randomskill{s=bruttack3A_fravager,bruttack3A_fravager,bruttack3A_fravager,bruttack3B_fravager,bruttack3B_fravager,bruttack3B_fravager,attack_roll_1fravager;sync=true;repeat=3;repeatinterval=4} @LivingInCone{a=100.0;r=5.5;rot=0.0;ignore=samefaction;limit=1;sort=NEAREST} ?!variableEquals{var=caster.hurtened;value="1"}
bruttack3A_fravager:
  Cooldown: 4
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  TargetConditions:
  - distance{d=0to7} true
  Skills:
  - bodyclamp{m=fallenravager;c=0} @self
  - setstance{stance=casting} @self
  - sound{s=emaginationfallenheroes:custom.spell.channelstun;p=1.2;v=1} ######SOUND
  - state{remove=true;s=run_roll;lo=1;n=false;frame=0} @self
  - variableadd{var=caster.combor;amount=1} @self
  - state{state=attackb3_a;li=1;lo=10;n=false;speed=1} @self
  - setvariable{var=caster.comboa;value="1";t=integer} @Self ?variableEquals{var=caster.comboa;value="0"}
  - potion{type=SLOW;duration=5;level=0;p=false;force=true;delay=0} @Self
  - look{headOnly=false;immediately=true;repeat=10;repeatInterval=1} @Target
  - spin{d=45;v=0;delay=10} @self
  - lockmodel{l=true;delay=12} @Self #LOCKMODEL
  - effect:particlering{particle=reddust;c=#B10049;d=40;radius=3;points=60;amount=1;hS=0;vS=0;speed=110;size=0.6;yOffset=0;repeat=3;repeatinterval=1;delay=8} @Forward{f=3.7;y=0.3}
  - delay 15
  - setrotation{relative=false;pitch=0} @Self
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravageratk3cFX2;delay=1} @self ?!variableEquals{var=caster.hurtened;value="1"} ### EFFECTENN
  - delay 1
  - sound{s=emaginationfallenheroes:custom.spell.herostun;p=1.2;v=1} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 1
  - potion{type=SLOW;duration=40;level=6;p=false;force=true;delay=0} @Self
  - summon{mob=ravager_expFXmarker3;amount=1;noise=0;r=0.1;yr=0} @Forward{f=3.7;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - summon{mob=ravager_expFXmarker2;amount=1;noise=0;r=0.1;yr=0} @Forward{f=3.7;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenreaper:custom.spell.grandslashtick;pitch=0.8;v=2} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravagertatk1_roll_cripple;sync=true} @LivingInCone{a=140.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - Aura{auraName=tickfravagercomboa;onTick=reducestacksfravager;interval=30;duration=110;mergeSameCaster=true;refreshDuration=true} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=outrun_aleviate_fravager;sync=true} @LivingInCone{a=140.0;r=4.8;rot=0.0;ignore=samefaction} 0.8 ?!variableEquals{var=caster.hurtened;value="1"}
#__________ TOTEM DAMAGE
  - totem{charges=1;onStart=bruttack3Afravager_damage;d=5;y=0} @Forward{f=3.7;y=0} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=1.5;ignorearmor=false} @LivingInCone{a=140.0;r=4.5;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1} @LivingInCone{a=140.0;r=3.2;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - bodyclamp{m=fallenravager;c=50;delay=24} @self
  - lockmodel{l=false;delay=30} @Self
  - delay 30
  - setvariable{var=caster.casting;value="0";t=integer} @Self
  - setstance{stance=normal} @self
  - randomskill{s=attack3fravager,attack_roll_1fravager,attack_roll_1fravager,attack_roll_2fravager,attack_roll_3fravager;sync=true} @LivingInCone{a=110.0;r=5;rot=0.0;ignore=samefaction} 0.45 ?!variableEquals{var=caster.hurtened;value="1"}
bruttack3Afravager_damage:
  Skills:
  - skill{s=fravager_ravage_cripple} @EntitiesNearOrigin{r=3;ignore=samefaction}
  - basedamage{m=2.9;ignorearmor=false;ignore=samefaction} @EntitiesNearOrigin{r=3;ignore=samefaction}
  - basedamage{m=0.2;ignorearmor=true;ignore=samefaction} @EntitiesNearOrigin{r=3;ignore=samefaction} <40%
  - basedamage{m=0.2;ignorearmor=true;ignore=samefaction;preventknockback=true;preventimmunity=true} @EntitiesNearOrigin{r=3;ignore=samefaction} <15%
  - basedamage{m=0.3;ignorearmor=true;ignore=samefaction;preventknockback=true;preventimmunity=true} @EntitiesNearOrigin{r=3;ignore=samefaction}
bruttack3B_fravager:
  Cooldown: 4
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  TargetConditions:
  - distance{d=0to7} true
  Skills:
  - bodyclamp{m=fallenravager;c=0} @self
  - setstance{stance=casting} @self
  - sound{s=emaginationfallenheroes:custom.spell.channelstun;p=1.2;v=1} ######SOUND
  - state{remove=true;s=run_roll;lo=1;n=false;frame=0} @self
  - variableadd{var=caster.combor;amount=1} @self
  - state{state=attackb3_b;li=1;lo=10;n=false;speed=1} @self
  - setvariable{var=caster.comboa;value="1";t=integer} @Self ?variableEquals{var=caster.comboa;value="0"}
  - potion{type=SLOW;duration=10;level=0;p=false;force=true;delay=0} @Self
  - look{headOnly=false;immediately=true;repeat=10;repeatInterval=1} @Target
  - spin{d=32;v=0;delay=10} @self
  - lockmodel{l=true;delay=11} @Self
  - effect:particlering{particle=reddust;c=#B10049;d=40;radius=3;points=60;amount=1;hS=0;vS=0;speed=110;size=0.6;yOffset=0;repeat=3;repeatinterval=1;delay=8} @Forward{f=3.7;y=0.3}
  - delay 10
  - setrotation{relative=false;pitch=0} @Self
  - setvariable{var=caster.casting;value="1";t=integer} @Self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=fravageratk3bFX;delay=1} @self ?!variableEquals{var=caster.hurtened;value="1"} ### EFFECTENN
  - delay 1
  - skill{s=bruttack1_adaptivelunge;delay=0} @LivingInCone{a=140.0;r=7;rot=0.0;ignore=samefaction;limit=1;sort=NEAREST} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.spell.herostun;p=1.2;v=2} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 2
  - potion{type=SLOW;duration=55;level=6;p=false;force=true;delay=0} @Self
  - potion{type=SLOW;duration=10;level=1;p=false;force=true;delay=55} @Self
  - sudoskill{s=[
    - summon{mob=ravager_expFXmarker1;amount=1;noise=0.5;r=0.6;yr=0} @SelfLocation{y=1.5}];sync=true} @EntitiesInRadius{r=4.5;ignore=samefaction;conditions=[  distance{d=0to4.5} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenreaper:custom.spell.grandslashtick;pitch=1.4;v=2} @EntitiesInRadius{r=4.5;ignore=samefaction;conditions=[  distance{d=0to4.5} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.attackwindup;p=1;v=1} @selflocation ?!variableEquals{var=caster.hurtened;value="1"}
  - Aura{auraName=tickfravagercomboa;onTick=reducestacksfravager;interval=30;duration=110;mergeSameCaster=true;refreshDuration=true} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=outrun_discharge_fravager;sync=true} @LivingInCone{a=140.0;r=4.8;rot=0.0;ignore=samefaction} 0.3 ?!variableEquals{var=caster.hurtened;value="1"}
#__________ TOTEM DAMAGE
  - effect:particlering{particle=reddust;c=#B10049;d=40;radius=4.5;points=70;amount=1;hS=0;vS=0;speed=110;size=0.65;yOffset=0;delay=0;repeat=1;repeatinterval=2} @SelfLocation
  - basedamage{m=2;ignorearmor=false;preventknockback=true} @EntitiesInRadius{r=4.5;ignore=samefaction;conditions=[  distance{d=0to4.5} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1} @EntitiesInRadius{r=4.5;ignore=samefaction;conditions=[  distance{d=0to4.5} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=bruttack3Bcripple1;delay=0} @EntitiesInRadius{r=4.5;ignore=samefaction;conditions=[  distance{d=0to4.5} true ]} ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 12
  - skill{s=bruttack3bFX2;delay=0} @self ?!variableEquals{var=caster.hurtened;value="1"}
  - delay 1
  - sound{s=emaginationfallenheroes:custom.spell.herostun;p=2;v=2} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenreaper:custom.spell.grandslashtick;pitch=0.8;v=2} @LivingInCone{a=180.0;r=4.2;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - summon{mob=ravager_expFXmarker2;amount=1;noise=0;r=0.1;yr=0} @LivingInCone{a=180.0;r=4.2;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=2.9;ignorearmor=false} @LivingInCone{a=180.0;r=4.2;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - basedamage{m=0.32;ignorearmor=true} @LivingInCone{a=180.0;r=4.2;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - skill{s=bruttack3Bcripple2;delay=0} @LivingInCone{a=180.0;r=4.2;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhitb;p=1;v=1} @LivingInCone{a=180.0;r=4.2;rot=0.0;ignore=samefaction} ?!variableEquals{var=caster.hurtened;value="1"}
  - bodyclamp{m=fallendefender;c=50;delay=30} @self
  - lockmodel{l=false;delay=24} @Self
  - delay 30
  - setvariable{var=caster.casting;value="0";t=integer} @Self
  - setstance{stance=normal} @self
  - randomskill{s=attack3fravager,attack6fravager,attack7fravager,attack8fravager,attack_roll_1fravager,attack_roll_2fravager,attack_roll_3fravager;sync=true;repeat=4;repeatinterval=8} @LivingInCone{a=110.0;r=5;rot=0.0;ignore=samefaction} 0.15 ?!variableEquals{var=caster.hurtened;value="1"}
bruttack3Bcripple1:
  Skills:
  - effect:particles{particle=block_crack;material=red_wool;amount=15;hS=0.4;vS=0.4;size=1.2;y=1.2;repeat=2;repeatinterval=2}
#THROW
  - potion{type=LEVITATION;duration=3;level=0;p=false;delay=0} ?!hasaura{n=bruttack3Bcripple2}
  - throw{velocity=4;velocityY=0.2} ?!hasaura{n=bruttack3Bcripple2}
  - potion{type=SLOW_FALLING;duration=5;level=0;p=false;delay=3} ?!hasaura{n=bruttack3Bcripple2}
  - potion{type=SLOW;duration=10;lvl=7} ?!hasaura{n=bruttack3Bcripple2}
  - potion{type=SLOW;duration=35;level=0;p=false;force=true;delay=10} ?!hasaura{n=bruttack3Bcripple2}
bruttack3Bcripple2:
  Skills:
  - Aura{auraName=bruttack3Bcripple2;duration=40} 
  - effect:particles{particle=block_crack;material=red_wool;amount=15;hS=0.4;vS=0.4;size=1.2;y=1.2;repeat=2;repeatinterval=2}
#THROW
  - potion{type=LEVITATION;duration=2;level=4;p=false;delay=0;force=true}
  - throw{velocity=1;velocityY=2}
  - potion{type=LEVITATION;duration=2;level=2;p=false;delay=2;force=true}
  - potion{type=LEVITATION;duration=1;level=1;p=false;delay=4;force=true}
  - potion{type=SLOW_FALLING;duration=5;level=0;p=false;delay=5;force=true}
  - potion{type=SLOW;duration=20;lvl=7;force=true}
  - potion{type=SLOW;duration=35;level=0;p=false;force=true;delay=20}

# LEAPER PROTOCOL ----------------------- Series of 3 leaps for gap closing


# Leap 1 - Shared by most heroes, a simple jump. Reworked to be less jank in spite of MM jumps xd

leap1fravager:
  Cooldown: 1
  Conditions:
  - stance{stance=normal} true
  - stance{stance=casting} false
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  - incombat true
  - offgcd true
  TargetConditions:
  - distance{d=8to22} true
  Skills:
  - gcd{ticks=140} @Self
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.01;vS=0.01;size=0.45;ForwardOffset=-0.1;repeat=40;repeatinterval=1} @ModelPart{m=fallenravager;p=eye1;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.01;vS=0.01;size=0.45;ForwardOffset=-0.1;repeat=40;repeatinterval=1} @ModelPart{m=fallenravager;p=eye2;offset=LOCAL;y=0}
  - sound{s=emaginationfallenheroes:custom.fallenhero.salto;v=1} @origin
  - setstance{stance=casting} @self
  - look{headOnly=false;immediately=false;repeat=35;repeatinterval=1} @TargetLocation
  - setvariable{var=caster.casting;value="1";t=integer} @Self
  - delay 7
  - state{s=leap1;li=1;lo=4;n=false} @self
  - potion{type=SLOW;duration=15;level=8;p=false;force=true} @Self
  - delay 11
  - effect:particlering{particle=cloud;d=20;radius=0.5;points=20;amount=1;hS=0.2;vS=0.2;speed=0} @Origin
  - effect:particlering{particle=cloud;d=20;radius=0.6;points=25;amount=1;hS=0.2;vS=0.2;speed=0;delay=1} @Origin
  - effect:particlering{particle=cloud;d=20;radius=0.8;points=30;amount=1;hS=0.2;vS=0.2;speed=0;delay=2} @Origin
  - effect:particlering{particle=cloud;d=20;radius=1;points=40;amount=1;hS=0.2;vS=0.2;speed=0;delay=3} @Origin
  - effect:particlering{particle=cloud;d=20;radius=1.4;points=40;amount=1;hS=0.2;vS=0.2;speed=0;delay=4} @Origin
  - lunge{velocity=1.5;velocityY=0.3} @Self
  - spin{d=20;v=0;delay=10} @self
  - lockmodel{l=true;delay=0} @Self #LOCKMODEL
   # LEAPERMARK
  - missile{onTick=advancetick_leap1_fravager;v=18;i=1;hR=1;vR=1;g=1.4;syo=1;sB=true;HitNonPlayers=false;hp=true;in=4;fromorigin=true;tyo=1.5;vO=80} @TargetLocation
  - projectile{type=METEOR;onEnd=leap2fravagerindicatorRing;v=26;i=1;hR=0.1;vR=0.1;g=10;md=80;mr=150;hfs=2;sB=true;sE=false} @TargetLocation
  - delay 1
  - potion{type=JUMP;duration=30;lvl=30;p=true} @Self
  - Aura{auraName=leap1fravageraura;onTick=landcheckleap1fravager;interval=2;duration=80;Charges=1} @self #xdfravager REMOVE if not used
  - Aura{auraName=leap1softFall;onTick=softFallleap1fravager;interval=1;duration=200;Charges=1;delay=12} @self
  - sound{s=emaginationfallenheroes:custom.spell.jump;p=1;v=1.6} @SelfLocation
  - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortc;p=1;v=1.4} 0.7 @SelfLocation
advancetick_leap1_fravager:
  Skills:
  - effect:particles{p=reddust;a=3;speed=0.00;hs=0.15;vs=0.1;y=0;Size=0.9} @Origin 0 #DEBUGPARTICLES
  - pull{velocity=7;to=true} @Self

softFallleap1fravager:
  Skills:
  - skill{s=SoftFallCheckleap1fravager} @Forward{f=0;y=-1.85}
SoftFallCheckleap1fravager:
  TargetConditions:
  - inblock{b=AIR} false 
  Conditions:
  - onground{} castinstead landcheckleap1fravager
  Skills:
  - look{headOnly=false;immediately=false} @target
  - potion{type=SLOW_FALLING;duration=2;level=0;p=false;delay=0;force=true} @Self
  - auraremove{aura=leap1softFall} @self  
landcheckleap1fravager:
  Cooldown: 5
  Conditions:
  - onground true
  Skills:
  - bodyclamp{m=fallenravager;c=0} @self
  - auraremove{aura=leap1fravageraura} @self
  - auraremove{aura=avancefravagerLeap1} @self
  - state{remove=true;s=leap1;li=2;lo=4;n=false;frame=0} @self
  - state{s=land1;li=0;lo=5;n=false;speed=1} @self
  - potion{type=SLOW;duration=14;level=7;p=false;delay=0} @self
  - potion{type=SLOW;duration=8;level=0;p=false;delay=14} @self
  - potion{type=SLOW;duration=8;level=1;p=false;delay=22} @self
  - lockmodel{l=false;delay=14} @Self #UNLOCKMODEL
  - spin{d=14;v=0} @self
  - look{headOnly=false;immediately=true;repeat=25;repeatinterval=1;delay=12} @target
  - delay 4
  - sound{s=emaginationfallenravager:custom.spell.land;p=1;v=1}
  - effect:particles{particle=block_crack;m=dirt;amount=10;hS=0.3;vS=0.4;y=0.1} @selfLocation
  - effect:particles{particle=block_crack;m=dirt;amount=16;hS=0.4;vS=0.5;y=0.1;delay=1} @selfLocation
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.5;points=16;amount=3;hS=0;vS=0;speed=110;size=1.2;yOffset=0;delay=0;forwardOffset=3} @Forward{f=0;y=0} # COLORETTE
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.7;points=18;amount=3;hS=0;vS=0;speed=110;size=1.1;yOffset=0;delay=0;forwardOffset=3} @Forward{f=0;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.9;points=22;amount=3;hS=0;vS=0;speed=110;size=1;yOffset=0;delay=1;forwardOffset=3} @Forward{f=0;y=0}
  - delay 18
  - bodyclamp{m=fallenravager;c=50} @self
  - setvariable{var=caster.casting;value="0";t=integer} @Self
  - setstance{stance=normal} @self  


#LEAP2 - Shared with the Defender, Reaper and Warden, jump that closes gaps and damages enemies in an area.
#   REWORKED to have much better precision and be much more appealing.


leap2fravager:
  Cooldown: 15
  Conditions:
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  - stance{stance=normal} true
  - stance{stance=casting} false
  - incombat true
  - offgcd true
  TargetConditions:
  - distance{d=5to32} true
  Skills:
  - gcd{ticks=140} @Self
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.01;vS=0.01;size=0.45;ForwardOffset=-0.1;repeat=40;repeatinterval=1} @ModelPart{m=fallenravager;p=eye1;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.01;vS=0.01;size=0.45;ForwardOffset=-0.1;repeat=40;repeatinterval=1} @ModelPart{m=fallenravager;p=eye2;offset=LOCAL;y=0}
  - effect:particles{p=reddust;c=#c90332;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=50;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles1;offset=LOCAL;y=0}
  - effect:particles{p=reddust;c=#47242c;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0;repeat=50;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles5;offset=LOCAL;y=0}
  - effect:particles{p=reddust;c=#c90332;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=50;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles2;offset=LOCAL;y=0}
  - effect:particles{p=reddust;c=#47242c;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=50;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles4;offset=LOCAL;y=0}
  - effect:particles{p=reddust;c=#c90332;a=2;speed=0.00;hs=0.15;vs=0.1;y=0;forwardOffset=0.0000;Size=0.9;sideOffset=0.0000;repeat=50;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles3;offset=LOCAL;y=0}
  - sound{s=emaginationfallenheroes:custom.fallenhero.salto;v=1} @origin
  - setstance{stance=casting} @self
  - look{headOnly=false;immediately=true;repeat=35;repeatinterval=1} @TargetedTarget
  - setvariable{var=caster.casting;value="1";t=integer} @Self
  - delay 14
  - state{s=leap2;li=1;lo=4;n=false} @self
  - potion{type=SLOW;duration=15;level=8;p=false;force=true} @Self
  - spin{d=30;v=0;delay=10} @self
  - delay 11
  - effect:particlering{particle=cloud;d=20;radius=0.5;points=6;amount=1;hS=0.2;vS=0.2;speed=0} @Origin
  - effect:particlering{particle=cloud;d=20;radius=0.6;points=8;amount=1;hS=0.2;vS=0.2;speed=0;delay=1} @Origin
  - effect:particlering{particle=cloud;d=20;radius=0.8;points=12;amount=1;hS=0.2;vS=0.2;speed=0;delay=2} @Origin
  - effect:particlering{particle=cloud;d=20;radius=1;points=18;amount=1;hS=0.2;vS=0.2;speed=0;delay=3} @Origin
  - effect:particlering{particle=cloud;d=20;radius=1.4;points=22;amount=1;hS=0.2;vS=0.2;speed=0;delay=4} @Origin
  - lockmodel{l=true;delay=0} @Self #LOCKMODEL
  - lunge{velocity=1.5;velocityY=0.3} @Self

  # LEAPERMARK
  - missile{onTick=advancetick_leap2_fravager;v=22;i=1;hR=1;vR=1;g=1.4;syo=1;sB=true;HitNonPlayers=false;hp=true;in=4;fromorigin=true;tyo=1.5;vO=80} @TargetLocation

  - projectile{type=METEOR;onEnd=leap2fravagerindicatorRing;v=26;i=1;hR=0.1;vR=0.1;g=10;md=80;mr=150;hfs=2;sB=true;sE=false;delay=10} @TargetLocation
  - delay 1
#  - potion{type=JUMP;duration=30;lvl=30;p=true} @Self
  - Aura{auraName=leap2fravageraura;onTick=landcheckleap2fravager;interval=2;duration=80;Charges=1} @self #xdfravager REMOVE if not used
  - Aura{auraName=leap2softFall;onTick=softFallLeap2fravager;interval=1;duration=80;Charges=1;delay=15} @self
  - sound{s=emaginationfallenheroes:custom.spell.jump;p=1;v=1.6} @SelfLocation
  - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortc;p=1;v=1.4} @SelfLocation 0.7
advancetick_leap2_fravager:
  Skills:
  - effect:particles{p=reddust;a=3;speed=0.00;hs=0.15;vs=0.1;y=0;Size=0.9} @Origin
  - pull{velocity=7;to=true} @Self
debugingxd:
  Skills:
  - potion{type=SLOW;duration=15;level=8;p=false;force=true} @Self
  - state{s=leap2;li=1;lo=4;n=false} @self
  - delay 11
  - look{headOnly=false;immediately=true;repeat=35;repeatinterval=1} @TargetedTarget
  - Aura{auraName=leap2fravageraura;onTick=landcheckleap2fravager;interval=2;duration=80;Charges=1} @self #xdfravager REMOVE if not used
  - Aura{auraName=leap2softFall;onTick=softFallLeap2fravager;interval=1;duration=80;Charges=1;delay=15} @self
  - sound{s=emaginationfallenheroes:custom.spell.jump;p=1;v=1.6} @SelfLocation
  - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortc;p=1;v=1.4} @SelfLocation 0.7
  - lockmodel{l=true;delay=0} @Self
  - spin{d=30;v=0;delay=10} @self
  - missile{onTick=advancetick_leap2_fravager;v=22;i=1;hR=1;vR=1;g=1.4;syo=1;sB=true;HitNonPlayers=false;hp=true;in=4;fromorigin=true;tyo=1.5;vO=80} @TargetLocation
  - lockmodel{l=false;delay=20} @Self


leap2fravagerindicatorRing:
  Skills:
  - effect:particlering{particle=reddust;color=#c90332;radius=2.5;points=45;amount=2;hS=0.1;vS=0;size=0.5} @Origin
  - effect:particlering{particle=reddust;color=#d2103e;radius=2.5;points=45;amount=2;hS=0.1;vS=0;size=0.5;delay=1} @Origin
  - effect:particlering{particle=reddust;color=#d61e49;radius=2.5;points=45;amount=2;hS=0.1;vS=0;size=0.5;delay=2} @Origin
  - effect:particlering{particle=reddust;color=#d62b53;radius=2.5;points=45;amount=2;hS=0.1;vS=0;size=0.5;delay=3} @Origin
  - effect:particlering{particle=reddust;color=#dd3960;radius=2.5;points=45;amount=2;hS=0.1;vS=0;size=0.5;delay=4} @Origin
  - effect:particlering{particle=reddust;color=#dd476b;radius=2.5;points=45;amount=2;hS=0.1;vS=0;size=0.5;delay=5} @Origin
  - effect:particlering{particle=reddust;color=#e35778;radius=2.5;points=45;amount=2;hS=0.1;vS=0;size=0.5;delay=6} @Origin
  - effect:particlering{particle=reddust;color=#ea6685;radius=2.5;points=45;amount=2;hS=0.1;vS=0;size=0.5;delay=7} @Origin
  - effect:particlering{particle=reddust;color=#ed7692;radius=2.5;points=45;amount=2;hS=0.1;vS=0;size=0.5;delay=8} @Origin
  - effect:particlering{particle=reddust;color=#f0869f;radius=2.5;points=45;amount=2;hS=0.1;vS=0;size=0.5;delay=9} @Origin
  - effect:particlering{particle=reddust;color=#ee97ac;radius=2.5;points=45;amount=2;hS=0.1;vS=0;size=0.5;delay=10} @Origin
  - effect:particlering{particle=reddust;color=#f0a8b9;radius=2.5;points=45;amount=2;hS=0.1;vS=0;size=0.5;delay=11} @Origin
  - effect:particlering{particle=reddust;color=#f0b6c4;radius=2.5;points=45;amount=2;hS=0.1;vS=0;size=0.5;delay=12} @Origin
  - effect:particlering{particle=reddust;color=#f0c6d0;radius=2.5;points=45;amount=2;hS=0.1;vS=0;size=0.5;delay=13} @Origin
  - effect:particlering{particle=reddust;color=#f2d4db;radius=2.5;points=45;amount=2;hS=0.1;vS=0;size=0.5;delay=14} @Origin
  - effect:particlering{particle=reddust;color=#f3e8eb;radius=2.5;points=45;amount=2;hS=0.1;vS=0;size=0.5;delay=15} @Origin

softFallLeap2fravager:
  Skills:
  - skill{s=SoftFallCheckLeap2fravager} @Forward{f=0;y=-2.5}
  - message{m="chekxd"} @Self{r=75}
SoftFallCheckLeap2fravager:
  Conditions:
  - hasaura{n=checkedgroundfravager} false
  TargetConditions:
  - inblock{b=AIR} false 
  Skills:
  - Aura{auraName=checkedgroundfravager;duration=40} @Self
  - message{m="hitted"} @Self{r=75}
  - look{headOnly=false;immediately=false} @target
  - potion{type=SLOW_FALLING;duration=10;level=0;p=false;delay=0;force=true} @Self 1
  - velocity{m=set;x=0;y=0;z=0} @self
  - lunge{vy=1.4;v=0.011} @forward{f=0;y=10} 1
  - lunge{vy=-1.87;v=-0.27;repeat=5;repeatinterval=1;delay=0} @forward{f=0;y=-15} 1
  - skill{s=landcheckleap2fravagerB;delay=1} 
#  - setvariable{var=target.leapmarker;value="0";t=integer;repeat=15;repeatinterval=1} @EntitiesInRadius{r=5;limit=1;sort=NEAREST;conditions=[  - variableEquals{var=target.leapmarker;value="2"} 1
#  - signal{s=DIERS;repeat=15;repeatinterval=1} @EntitiesInRadius{r=5;limit=1;sort=NEAREST;conditions=[  - variableEquals{var=target.leapmarker;value="2"} 1
  - auraremove{aura=leap2softFall} @self 
landcheckleap2fravagerB:
  Cooldown: 5
  Conditions:
  - hasaura{n=castedLeap2Landing} false
  Skills:
  - Aura{auraName=castedLeap2Landing;duration=30} @Self
  - auraremove{aura=leap2fravageraura} @self
  - auraremove{aura=avancefravager} @self
  - state{remove=true;s=leap2;li=2;lo=4;n=false;frame=0} @self
  - sound{s=emaginationfallenreaper:custom.fallenreaper.refforta;p=1;v=1.4} 0.7
  - state{s=land2;li=2;lo=4;n=false;speed=1.7} @self
  - potion{type=SLOW;duration=35;level=7;p=false;delay=0} @self
  - spin{d=25;v=0} @self
  - look{headOnly=false;immediately=true;repeat=25;repeatinterval=1;delay=20} @target
  - delay 4
  - sound{s=emaginationfallenheroes:custom.spell.jump;p=1;v=1.6} @SelfLocation
  - sound{s=emaginationfallenheroes:custom.spell.landshockwave;p=1;v=2} @SelfLocation
#effect xd
  - effect:particles{particle=block_crack;m=dirt;amount=30;hS=0.3;vS=0.05;y=0.1} @selfLocation
  - effect:particles{particle=block_crack;m=dirt;amount=45;hS=0.4;vS=0.2;y=0.1;delay=1} @selfLocation
  - effect:particles{particle=block_crack;m=dirt;amount=65;hS=0.7;vS=0.3;y=0.1;delay=2} @selfLocation
  - effect:particles{particle=block_crack;m=dirt;amount=80;hS=1.8;vS=0.5;y=0.1;delay=3} @selfLocation
  - effect:particles{particle=block_crack;m=dirt;amount=100;hS=2.8;vS=0.7;y=0.1;delay=4} @selfLocation
  - effect:particlesphere{p=smoke_large;amount=50;radius=3;size=10;repeat=2;repeatinterval=1;speed=1.6} @selfLocation
  - effect:particlering{particle=block_crack;m=dirt;amount=3;points=10;radius=1;size=3;speed=3;yOffset=0.01;hS=0.3;vS=0.4} @selfLocation
  - effect:particlering{particle=block_crack;m=dirt;amount=3;points=14;radius=1.5;delay=1;size=3;speed=3;yOffset=0.01;hS=0.3;vS=0.4} @selfLocation
  - effect:particlering{particle=block_crack;m=dirt;amount=4;points=18;radius=2;delay=2;size=3;speed=3;yOffset=0.01;hS=0.3;vS=0.4} @selfLocation
  - effect:particlering{particle=block_crack;m=dirt;amount=4;points=22;radius=2.7;delay=3;size=2.7;speed=3;yOffset=0.01;hS=0.3;vS=0.4} @selfLocation
  - effect:particlering{particle=block_crack;m=dirt;amount=5;points=26;radius=3.4;delay=4;size=2.5;speed=3;yOffset=0.01;hS=0.3;vS=0.4} @selfLocation
  - effect:particlering{particle=block_crack;m=dirt;amount=5;points=30;radius=4.2;delay=5;size=2.2;speed=3;yOffset=0.01;hS=0.3;vS=0.4} @selfLocation
  - effect:particlering{particle=block_crack;m=dirt;amount=6;points=34;radius=5.4;delay=6;size=2;speed=3;yOffset=0.01;hS=0.3;vS=0.4} @selfLocation
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=0.5;points=16;amount=3;hS=0;vS=0;speed=110;size=1.2;yOffset=0;delay=0;forwardOffset=3} @Forward{f=3;y=0} # COLORETTE
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=0.7;points=18;amount=3;hS=0;vS=0;speed=110;size=1.1;yOffset=0;delay=0;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=0.9;points=22;amount=3;hS=0;vS=0;speed=110;size=1;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=1.1;points=26;amount=3;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=1.3;points=32;amount=3;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=1.5;points=39;amount=3;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=1.8;points=45;amount=3;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=1.9;points=49;amount=2;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=2;points=53;amount=2;hS=0;vS=0;speed=110;size=0.85;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=2.1;points=57;amount=2;hS=0;vS=0;speed=110;size=0.85;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=2.3;points=65;amount=2;hS=0;vS=0;speed=110;size=0.82;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=2.5;points=75;amount=2;hS=0;vS=0;speed=110;size=0.78;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=2.6;points=80;amount=2;hS=0;vS=0;speed=110;size=0.78;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=2.8;points=90;amount=1;hS=0;vS=0;speed=110;size=0.73;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=3;points=102;amount=1;hS=0;vS=0;speed=110;size=0.73;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=3.1;points=108;amount=1;hS=0;vS=0;speed=110;size=0.73;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=3.3;points=120;amount=1;hS=0;vS=0;speed=110;size=0.69;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=3.5;points=132;amount=1;hS=0;vS=0;speed=110;size=0.69;yOffset=0;delay=4;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=3.6;points=138;amount=1;hS=0;vS=0;speed=110;size=0.69;yOffset=0;delay=4;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=3.8;points=142;amount=1;hS=0;vS=0;speed=110;size=0.62;yOffset=0;delay=4;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=4.1;points=150;amount=1;hS=0;vS=0;speed=110;size=0.62;yOffset=0;delay=4;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=4.35;points=154;amount=1;hS=0;vS=0;speed=110;size=0.62;yOffset=0;delay=4;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=4.65;points=156;amount=1;hS=0;vS=0;speed=110;size=0.62;yOffset=0;delay=5;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=5.05;points=156;amount=1;hS=0;vS=0;speed=110;size=0.62;yOffset=0;delay=5;forwardOffset=3} @Forward{f=3;y=0}
# xd
  - setrotation{relative=false;pitch=0} @Self
  - skill{s=fravageratk3cFX2} @Forward{f=1.5;y=-0.6;SideOffset=0.7}
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhita;p=1;v=1} @EntitiesInRadius{r=4}
  - sound{s=emaginationfallenheroes:custom.fallenhero.roundslash;p=1.8;v=1} @SelfLocation
  - basedamage{m=0.7;ignorearmor=true;preventimmunity=true;preventknockback=true} @EntitiesInRadius{r=2;ignore=samefaction}
  - basedamage{m=1;ignorearmor=false;preventimmunity=true;preventknockback=true} @EntitiesInRadius{r=3;ignore=samefaction}
  - basedamage{m=0.3;ignorearmor=true;preventimmunity=true;preventknockback=true} @EntitiesInRadius{r=3;ignore=samefaction}
  - basedamage{m=0.8;ignorearmor=false} @EntitiesInRadius{r=5.5;ignore=samefaction}
  - summon{mob=fravager_shockwave2;amount=1;noise=0.5;r=0.6;yr=0} @Forward{f=3.2;y=-1.95}
  - throw{velocity=0;velocityY=0.7} @EntitiesInRadius{r=5.5;ignore=samefaction}
  - skill{s=leap2cripplefravager;sync=true} @EntitiesInRadius{r=6;ignore=samefaction}
  - delay 28
  - lockmodel{l=false;delay=5} @Self #UNLOCKMODEL
  - setvariable{var=caster.casting;value="0";t=integer} @Self
  - setstance{stance=normal} @self
landcheckleap2fravager:
  Cooldown: 5
  Conditions:
  - onground true
  - hasaura{n=castedLeap2Landing} false
  Skills:
  - Aura{auraName=castedLeap2Landing;duration=30} @Self
  - auraremove{aura=leap2fravageraura} @self
  - auraremove{aura=avancefravager} @self
  - state{remove=true;s=leap2;li=2;lo=4;n=false;frame=0} @self
  - sound{s=emaginationfallenreaper:custom.fallenreaper.refforta;p=1;v=1.4} 0.7
  - state{s=land2;li=2;lo=4;n=false;speed=1.7} @self
  - potion{type=SLOW;duration=25;level=7;p=false;delay=0} @self
  - delay 4
  - sound{s=emaginationfallenheroes:custom.spell.jump;p=1;v=1.6} @SelfLocation
  - sound{s=emaginationfallenheroes:custom.spell.landshockwave;p=1;v=2} @SelfLocation
#effect xd
  - effect:particles{particle=block_crack;m=dirt;amount=70;hS=0.3;vS=0.4;y=0.1} @selfLocation
  - effect:particles{particle=block_crack;m=dirt;amount=80;hS=0.4;vS=0.5;y=0.1;delay=1} @selfLocation
  - effect:particles{particle=block_crack;m=dirt;amount=90;hS=0.7;vS=0.3;y=0.1;delay=1} @selfLocation
  - effect:particles{particle=block_crack;m=dirt;amount=100;hS=1.8;vS=0.2;y=0.1;delay=2} @selfLocation
  - effect:particles{particle=block_crack;m=dirt;amount=120;hS=2.8;vS=0.1;y=0.1;delay=3} @selfLocation
  - effect:particles{particle=block_crack;m=dirt;amount=140;hS=0.05;vS=2;y=0.1;delay=4} @selfLocation
  - effect:particlesphere{p=smoke_large;amount=100;radius=3;size=10;repeat=2;repeatinterval=1;speed=1.6} @origin
  - effect:particlering{particle=block_crack;m=dirt;amount=3;points=10;radius=1;size=3;speed=3;yOffset=0.01;hS=0.3;vS=0.4} @origin
  - effect:particlering{particle=block_crack;m=dirt;amount=3;points=14;radius=1.5;delay=1;size=3;speed=3;yOffset=0.01;hS=0.3;vS=0.4} @origin
  - effect:particlering{particle=block_crack;m=dirt;amount=4;points=18;radius=2;delay=2;size=3;speed=3;yOffset=0.01;hS=0.3;vS=0.4} @origin
  - effect:particlering{particle=block_crack;m=dirt;amount=4;points=22;radius=2.7;delay=3;size=2.7;speed=3;yOffset=0.01;hS=0.3;vS=0.4} @origin
  - effect:particlering{particle=block_crack;m=dirt;amount=5;points=26;radius=3.4;delay=4;size=2.5;speed=3;yOffset=0.01;hS=0.3;vS=0.4} @origin
  - effect:particlering{particle=block_crack;m=dirt;amount=5;points=30;radius=4.2;delay=5;size=2.2;speed=3;yOffset=0.01;hS=0.3;vS=0.4} @origin
  - effect:particlering{particle=block_crack;m=dirt;amount=6;points=34;radius=5.4;delay=6;size=2;speed=3;yOffset=0.01;hS=0.3;vS=0.4} @origin
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=0.5;points=16;amount=3;hS=0;vS=0;speed=110;size=1.2;yOffset=0;delay=0;forwardOffset=3} @Forward{f=3;y=0} # COLORETTE
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=0.7;points=18;amount=3;hS=0;vS=0;speed=110;size=1.1;yOffset=0;delay=0;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=0.9;points=22;amount=3;hS=0;vS=0;speed=110;size=1;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=1.1;points=26;amount=3;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=1.3;points=32;amount=3;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=1.5;points=39;amount=3;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=1.8;points=45;amount=3;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=1.9;points=49;amount=2;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=2;points=53;amount=2;hS=0;vS=0;speed=110;size=0.85;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=2.1;points=57;amount=2;hS=0;vS=0;speed=110;size=0.85;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=2.3;points=65;amount=2;hS=0;vS=0;speed=110;size=0.82;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=2.5;points=75;amount=2;hS=0;vS=0;speed=110;size=0.78;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=2.6;points=80;amount=2;hS=0;vS=0;speed=110;size=0.78;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=2.8;points=90;amount=1;hS=0;vS=0;speed=110;size=0.73;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=3;points=102;amount=1;hS=0;vS=0;speed=110;size=0.73;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=3.1;points=108;amount=1;hS=0;vS=0;speed=110;size=0.73;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=3.3;points=120;amount=1;hS=0;vS=0;speed=110;size=0.69;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=3.5;points=132;amount=1;hS=0;vS=0;speed=110;size=0.69;yOffset=0;delay=4;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=3.6;points=138;amount=1;hS=0;vS=0;speed=110;size=0.69;yOffset=0;delay=4;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=3.8;points=142;amount=1;hS=0;vS=0;speed=110;size=0.62;yOffset=0;delay=4;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=4.1;points=150;amount=1;hS=0;vS=0;speed=110;size=0.62;yOffset=0;delay=4;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=4.35;points=154;amount=1;hS=0;vS=0;speed=110;size=0.62;yOffset=0;delay=4;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=4.65;points=156;amount=1;hS=0;vS=0;speed=110;size=0.62;yOffset=0;delay=5;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#cd133f;d=40;radius=5.05;points=156;amount=1;hS=0;vS=0;speed=110;size=0.62;yOffset=0;delay=5;forwardOffset=3} @Forward{f=3;y=0}
# xd
  - setrotation{relative=false;pitch=0} @Self
  - skill{s=fravageratk3cFX2} @self
  - sound{s=emaginationfallenheroes:custom.fallenhero.slashhita;p=1;v=1} @EntitiesInRadius{r=4}
  - sound{s=emaginationfallenheroes:custom.fallenhero.roundslash;p=1.8;v=1} @SelfLocation
  - basedamage{m=0.7;ignorearmor=true;preventimmunity=true;preventknockback=true} @EntitiesInRadius{r=2;ignore=samefaction}
  - basedamage{m=1;ignorearmor=false;preventimmunity=true;preventknockback=true} @EntitiesInRadius{r=3;ignore=samefaction}
  - basedamage{m=0.3;ignorearmor=true;preventimmunity=true;preventknockback=true} @EntitiesInRadius{r=3;ignore=samefaction}
  - basedamage{m=0.8;ignorearmor=false} @EntitiesInRadius{r=6.5;ignore=samefaction}
  - summon{mob=fravager_shockwave2;amount=1;noise=0.5;r=0.6;yr=0} @Forward{f=3.2;y=-1.95}
  - throw{velocity=0;velocityY=0.7} @EntitiesInRadius{r=4;ignore=samefaction}
  - skill{s=leap2cripplefravager;sync=true} @EntitiesInRadius{r=5;ignore=samefaction}
  - delay 28
  - lockmodel{l=false;delay=5} @Self #UNLOCKMODEL
  - setvariable{var=caster.casting;value="0";t=integer} @Self
  - setstance{stance=normal} @self

leap2cripplefravager:
  Skills:
  - actionmessage{m="&E&LKNOCKED AIRBORNE!";delay=0}
  - potion{type=LEVITATION;duration=9;level=5;p=false;delay=0}
  - potion{type=LEVITATION;duration=9;level=2;p=false;delay=9}
  - potion{type=LEVITATION;duration=5;level=1;p=false;delay=18}
  - potion{type=SLOW_FALLING;duration=5;level=0;p=false;delay=23}
  - potion{type=SLOW;duration=25;lvl=7;p=false;force=true;icon=false}
  - potion{type=SLOW;duration=60;level=4;p=false;force=true;delay=25;icon=false}

#LEAP 3 - Rapid blink with a fixed distance that depends on target distance.
#         Leaves a trail of fire with a delay that deals important damage and cripples
#         Whoever is hit by it.

leap3fravager:
  Cooldown: 18
  TargetConditions:
  - distance{d=3to15} true
  Conditions:
  - stance{s=casting} false
  - stance{s=normal} true
  - variableInRange{var=caster.combor;value=>6} elsecast meleefravagertrigger
  - offgcd true
  - variableEquals{var=caster.hurtened;value="1"} false
  - variableEquals{var=caster.casting;value="1"} false
  Skills:
  - gcd{ticks=50} @Self
  - sound{s=emaginationfallenreaper:custom.fallenreaper.laugha;p=1.3;v=1.4} @selflocation
  - setstance{stance=casting} @self
  - setvariable{var=caster.casting;value="1";t=integer} @Self
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.01;vS=0.01;size=0.55;repeat=40;repeatinterval=1} @ModelPart{m=fallenravager;p=eye1;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.01;vS=0.01;size=0.55;repeat=40;repeatinterval=1} @ModelPart{m=fallenravager;p=eye2;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.1;size=0.7;repeat=40;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles3;offset=LOCAL;y=0}
  - effect:particles{particle=reddust;color=#c90332;amount=2;hS=0.1;vS=0.1;size=0.7;repeat=40;repeatinterval=1} @ModelPart{m=fallenravager;p=axeparticles4;offset=LOCAL;y=0}
  - bodyclamp{m=fallenravager;c=0} @self
  - look{headOnly=false;immediately=false;repeat=30;repeatInterval=1} @Target
  - delay 15
  - skill{s=fravageratk5indicator;sync=true} @Forward{f=0.5;y=0.4} ?!variableEquals{var=caster.hurtened;value="1"}
  - potion{type=SLOW;duration=15;level=15;p=false;delay=0} @Self
  - state{state=leap3;li=1;lo=2;n=false;speed=1} @self
  - spin{d=9;v=0;delay=0} @self
  - setrotation{relative=false;pitch=0} @Self
  - delay 14
  - setstance{stance=casting} @self
  - setvariable{var=caster.casting;value="1";t=integer} @Self
  - setrotation{relative=false;pitch=0} @Self
  - skill{s=superleapAfravagercheck} @Forward{f=9;y=-2}
  - skill{s=superleapBfravagercheck} @Forward{f=14.5;y=-2}
  - skill{s=superleapCfravagercheck} @Forward{f=19;y=-2}
  - lockmodel{l=true;delay=1} @Self #LOCKMODEL
  - potion{type=SLOW;duration=15;level=3;p=false;force=true;icon=false;repeat=15;repeatinterval=1} @EntitiesInRadius{r=2;ignore=samefaction}
  - sound{s=emaginationfallenheroes:custom.spell.herostun;p=2;v=2} @SelfLocation
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1;points=9;amount=2;hS=0;vS=0;speed=110;size=1.2;yOffset=0.2;delay=0;forwardOffset=0} @Self # COLORETTE
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.5;points=9;amount=2;hS=0;vS=0;speed=110;size=1.2;yOffset=0.1;delay=0;forwardOffset=0} @Self
  - look{headOnly=false;immediately=false;repeat=2;repeatInterval=1} @Target
  - sound{s=emaginationfallenheroes:custom.spell.jump;p=1.2;v=1.6} @SelfLocation
  - sound{s=emaginationfallenreaper:custom.fallenreaper.reffortc;p=1;v=1} 0.7 @SelfLocation
  - delay 7
  - projectile{onTick=fravagerattack5tick;mr=24;v=26;i=2;hR=1;hp=true;hnp=false;vR=3;sB=false;sE=false;hs=true;d=150;syo=0;hfs=0.17;fromorigin=true;hitconditions=[ - faction{faction=FallenHeroes} false ]} @Forward{f=5;y=0.0} ?!variableEquals{var=caster.hurtened;value="1"}
  - projectile{onTick=fravagerattack5sw;onHit=leap3fravagerhit;mr=24;v=29;i=1;hR=1.4;hp=true;hnp=false;vR=3;sB=false;sE=false;hs=true;d=150;syo=0;hfs=0.17;fromorigin=true;hitconditions=[ - faction{faction=FallenHeroes} false ]} @Forward{f=5;y=0.0} ?!variableEquals{var=caster.hurtened;value="1"}
   #MECHANISHT
  - potion{type=SLOW;duration=26;level=26;p=false;delay=0} @Self
  - delay 13
  - lockmodel{l=false;delay=10} @Self #UNLOCKMODEL
  - sound{s=emaginationfallenheroes:custom.fallenhero.roundslash;p=1;v=1} @selflocation 0 #CHANGESOUND ===> PLACEHERE
  - delay 35
  - setvariable{var=caster.casting;value="0";t=integer} @Self ?!variableEquals{var=caster.casting;value="0"}
  - setstance{stance=normal} @self ?stance{s=casting}
  - bodyclamp{m=fallenravager;c=50} @self
leap3fravagerhit:
  Skills:
  - skill{s=fravageratk3cFX;delay=0} @self
  - skill{s=outrun_aleviate_fravager} @EntitiesNearOrigin{r=3;limit=1;sort=NEAREST;ignore=samefaction} 0.2
  - summon{mob=ravager_expFXmarker2;amount=1;noise=0.5;r=0.6;yr=0} @Origin
  - effect:particles{particle=flame;amount=15;hS=0.5;vS=0.5;speed=0.8} 
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.5;points=16;amount=3;hS=0;vS=0;speed=110;size=1.2;yOffset=0;delay=0;forwardOffset=3} @Forward{f=3;y=0} # COLORETTE
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.7;points=18;amount=3;hS=0;vS=0;speed=110;size=1.1;yOffset=0;delay=0;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=0.9;points=22;amount=3;hS=0;vS=0;speed=110;size=1;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.3;points=32;amount=3;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.5;points=39;amount=3;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.8;points=45;amount=3;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=1;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=1.9;points=49;amount=2;hS=0;vS=0;speed=110;size=0.9;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.1;points=57;amount=2;hS=0;vS=0;speed=110;size=0.85;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.5;points=75;amount=2;hS=0;vS=0;speed=110;size=0.78;yOffset=0;delay=2;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.6;points=80;amount=2;hS=0;vS=0;speed=110;size=0.78;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=2.8;points=90;amount=1;hS=0;vS=0;speed=110;size=0.73;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=3.1;points=108;amount=1;hS=0;vS=0;speed=110;size=0.73;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=3.3;points=120;amount=1;hS=0;vS=0;speed=110;size=0.69;yOffset=0;delay=3;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=3.5;points=132;amount=1;hS=0;vS=0;speed=110;size=0.69;yOffset=0;delay=4;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=3.8;points=142;amount=1;hS=0;vS=0;speed=110;size=0.62;yOffset=0;delay=4;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particlering{particle=reddust;c=#c90332;d=40;radius=4.1;points=150;amount=1;hS=0;vS=0;speed=110;size=0.62;yOffset=0;delay=4;forwardOffset=3} @Forward{f=3;y=0}
  - effect:particles{p=reddust;color=#c90332;y=1.5;amount=135;speed=1;hS=0.5;vS=2.5} @Origin
  - effect:particles{p=endRod;color=#fff400;y=0.5;amount=15;speed=0.1;hS=1.8;vS=0.5} @Origin
  #AIRBORNE
  - actionmessage{m="&E&LKNOCKED AIRBORNE!";delay=0}
  - potion{type=LEVITATION;duration=6;level=8;p=false;delay=0}
  - throw{velocity=1;velocityY=2}
  - potion{type=LEVITATION;duration=4;level=3;p=false;delay=6}
  - potion{type=LEVITATION;duration=3;level=0;p=false;delay=10}
  - potion{type=SLOW_FALLING;duration=5;level=0;p=false;delay=16}
  #DAMAGE
  - basedamage{m=1.5;ignorearmor=false;cooldown=1} @EntitiesNearOrigin{r=2.2;ignore=samefaction}
  - basedamage{m=0.2;preventknockback=true;ignorearmor=true} @EntitiesNearOrigin{r=4;ignore=samefaction}
  - ignite{ticks=80} @EntitiesNearOrigin{r=4;ignore=samefaction}
  - potion{type=SLOW;duration=40;lvl=7;p=false;force=true} @EntitiesNearOrigin{r=2}
  - potion{type=SLOW;duration=20;lvl=2;p=false;force=true;delay=40}
  - potion{type=SLOW;duration=20;lvl=1;p=false;force=true;delay=60} 0.5
  - sound{s=emaginationfallenheroes:custom.spell.soulfirehit;volume=2;pitch=1.6;cooldown=1} @origin
  - effect:bloodyScreen{d=60} @EntitiesNearOrigin{r=2}
  - delay 2
  - randomskill{s=bruttack1_fravager,bruttack1_fravager,meleefravagertrigger2;delay=0;repeat=8;repeatinterval=8} @LivingInCone{a=110.0;r=5;rot=0.0;ignore=samefaction} 0.45 
superleapAfravagercheck:
  Cooldown: 1
  TargetConditions:
  - inblock{b=AIR} false 
  Skills:
  - skill{s=superleapAfravager} @Target
superleapAfravager:
  Cooldown: 1
  TargetConditions:
  - distance{d=>6} false
  Conditions:
  - stance{s=casting} true
  - stance{s=normal} false
  Skills:
  - spin{d=20;v=0} @self
  - lunge{v=1.5;vy=0.001;repeat=6;repeatinterval=1} @Forward{f=5}
  - skill{s=leap3Asalvagefravager} @Forward{f=1;y=0.5}
  - skill{s=leap3Bsalvagefravager} @Forward{f=5;y=0.5}
  - lunge{v=-0.004;vy=-0.001;delay=6} @Forward{f=5}
  - message{m="&cFallen &c CAST &asuperleapAfravager"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
leap3Asalvagefravager:
  TargetConditions:
  - inblock{b=AIR} false
  Skills:
  - lunge{vy=1;delay=0;repeat=1;repeatinterval=1} @Forward{f=5;y=2}
  - message{m="&cFallen &c CAST &aSalvage Lunge1"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
leap3Bsalvagefravager:
  TargetConditions:
  - inblock{b=AIR} false
  Skills:
  - lunge{vy=1;delay=0} @Forward{f=5;y=2}
  - message{m="&cFallen &c CAST &aSalvage Lunge1"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
superleapBfravagercheck:
  Cooldown: 1
  TargetConditions:
  - inblock{b=AIR} false 
  Skills:
  - skill{s=superleapBfravager} @Target
superleapBfravager:
  Cooldown: 1
  TargetConditions:
  - distance{d=>12} false
  - distance{d=<6} false
  Conditions:
  - stance{s=casting} true
  - stance{s=normal} false
  Skills:
  - message{m="&cFallen &c CAST &asuperleap&4&lB&r&afravager"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - lunge{v=2.4;vy=0.001;repeat=6;repeatinterval=1} @Forward{f=5}
  - skill{s=leap3Asalvagefravager} @Forward{f=1;y=0.5}
  - skill{s=leap3Bsalvagefravager} @Forward{f=5;y=0.5}
  - lunge{v=-0.004;vy=-0.001;delay=6} @Forward{f=5}
  - spin{d=20;v=0} @self
superleapCfravagercheck:
  Cooldown: 1
  TargetConditions:
  - inblock{b=AIR} false 
  Skills:
  - skill{s=superleapCfravager} @Target
superleapCfravager:
  Cooldown: 1
  TargetConditions:
#  - distance{d=<12} false
  Conditions:
  - stance{s=casting} true
  - stance{s=normal} false
  Skills:
  - message{m="&cFallen &c CAST &asuperleap&4&lC&afravager"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - skill{s=leap3Asalvagefravager} @Forward{f=1;y=0.5}
  - skill{s=leap3Bsalvagefravager} @Forward{f=5;y=0.5}
  - spin{d=20;v=0} @self


